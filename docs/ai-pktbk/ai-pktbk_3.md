# 第四章：何时使用（以及何时不使用）AI

### 本章涵盖

+   帮助你决定是否构建某个基于 AI 的产品的问题

+   帮助你决定是否将对话式 AI 作为特定任务的助手以及可能出现的挑战的问题

+   在将软件作为 LLM 包装编写之前需要注意的注意事项，以便 LLM 在幕后执行繁重的工作

本章包含一个简短的清单，用于确定 AI 是否适合你。该清单包含七个问题，我希望这些问题能帮助你揭示使用 AI 的挑战和机遇。前三个问题是在构建基于 AI 的生产级产品的背景下提出的，例如基于大型语言模型（LLM）的旅行规划应用。我希望这些问题能帮助你确定在构建之前某个基于 AI 的产品是否可能成功。

以下三个问题是在使用对话式 AI 进行日常工作时提出的，例如使用 LLM 来帮助你编码。我希望这些问题能帮助你弄清楚 AI 是否是你工作流程中的一个有价值的补充。

最后，最后一个问题关注的是以 LLM 包装形式构建应用的新实践，其中 LLM 在幕后执行工作，而应用管理 LLM。这个问题旨在帮助你确定这种方法是否适合你的需求。

## 构建基于 AI 的产品

本节包含三个问题，在构建基于 AI 的产品时需要牢记。第一个问题是与业务相关的。在决定是否使用 AI 时考虑业务可能看起来很奇怪。然而，根据我的经验，不这样做会导致许多 AI 项目失败。因此，我认为考虑 AI 是否有商业案例是一个好的开始。其他两个问题是技术性的。

### 我是否把 AI 放在了客户之前？

一家初创公司的员工曾向我寻求建议。他的公司开发了会计软件，正打算在其应用中添加基于 ChatGPT 的功能，但他们不知道那会是什么。他问我是否能帮他想出基于 ChatGPT 的他们可以添加的可能功能。我问他为什么一开始想要一个基于 ChatGPT 的功能，他解释说：“我们正在尝试筹集资金，我们不能告诉投资者我们没有用 ChatGPT 做任何事情。”

许多基于 AI 的项目就是这样开始的——人们因为炒作、FOMO（害怕错过）、资金机会等等而决定使用 AI，而并不一定知道他们将如何使用 AI。他们手里拿着锤子，在寻找钉子。

这种方法的缺点是，你往往最终会构建出人们实际上并不需要的产品。一个杰出的例子是亚马逊开发的豪华 AI 驱动的超市结账技术。这项名为“直接离开”的技术旨在使用 AI 分析视频并自动准备购物者的收据——购物者不需要去结账柜台。

亚马逊最初为自身的仓库开发了类似的技术，这有助于跟踪工人从货架上挑选的商品。在开发这项技术之后，亚马逊想知道还能做些什么。公司手里拿着一把锤子，开始寻找钉子。

他们提出的解决方案是超市结账流程。亚马逊并没有针对实际顾客的需求做出反应，而是将这项技术推向了杂货购物，仿佛技术本身就能足够吸引人。以下是我书中《硅化》一书的摘录（应用数学，2024 年），我在其中讨论了这个问题：

> 公众对商店的反应并不热烈。似乎人们并不像关心寻找最佳购物优惠那样关心复杂的结账技术。一位商业顾问解释说：“零售商还必须提供有竞争力的定价和愉快的顾客体验。‘轻松结账’是不够的。”……我总是努力理解亚马逊试图为购物者解决什么问题。购物者真的对结账那么烦恼，以至于他们会涌向亚马逊 Go 商店以避免它吗？……如果这是关于降低超市运营成本从而提供更好的优惠，那么这项技术如何实现这一点也不清楚，因为拥有“轻松结账”技术的超市需要与配备自助结账机的普通超市一样多的员工，再加上安装和运行复杂技术的成本。

由于这项技术似乎并不满足实际需求，亚马逊最终暂停了其开发，并关闭了许多商店。

人工智能日益普及导致许多人采用人工智能优先的方法，他们试图寻找人工智能的应用场景，而不是首先尝试了解客户的需求。例如，我知道一家公司专门成立了一个团队，致力于在组织内部寻找与人工智能相关的事情。我还知道一些公司雇佣了数十人加入新成立的 AI 团队，却不知道这些团队将如何使用人工智能——他们认为，由于人工智能看起来很有前途，他们肯定能找到一些与之相关的事情来做。

人工智能优先的另一个例子是自动驾驶汽车行业的大部分。许多自动驾驶汽车公司之所以诞生，是因为人们观察到，由于卷积神经网络，人工智能在图像分类方面变得更加强大。因此，他们认为现在是开发自动驾驶汽车的正确时机，并从投资者那里筹集了数十亿美元，承诺将带来巨大的利润。然而，在许多情况下，这些初创公司并不知道自动驾驶汽车将为顾客解决什么问题，或者如何将它们转化为具有商业可行性的产品。通常，他们的方法是，“如果你建造了它，他们就会来。”

虽然将 AI 的需求放在顾客需求之前的方法有时可能奏效，但它与创业和创新领域的普遍智慧相悖。这些领域越来越多地采用以顾客为中心的方法。例如，流行的*精益*运动建议人们应该尽早构建一个最小化产品——可能是一个原型或模型——向顾客展示，并在全面投入解决方案之前了解他们的真实需求。

风险投资家 Itamar Novick 认为 ([`mng.bz/DMrV`](https://mng.bz/DMrV))：

> “如果你建了它，他们就会来”是反模式，其中初创公司基于他们对解决方案外观的愿景做出决策，忽视或低估顾客需求，并且没有从潜在顾客那里收集足够的产品验证。
> 
> 这种反模式的起源是“一个伟大想法”的诱惑。企业家们，被他们的热情和信念所驱动，往往假设他们产品的卓越性本身就能吸引顾客并保证成功。
> 
> 很不幸，产品的存在并不能自动转化为顾客蜂拥而至购买它。这种“如果你建了它，他们就会来”的心态往往导致产品与市场不匹配，这是早期创业失败的主要原因 [.](https://mng.bz/DMrV)

除非你在纯研究或其他非商业追求中工作，我的建议是采取创业心态。尽量确保你理解你的顾客，并找到解决他们问题的最佳方案——这可能或可能不是 AI。例如，如果你被要求构建一个基于 AI 的产品，因为 AI 很流行，如果可能的话，回到画板前了解真正的需求，并判断基于 AI 的产品是否是解决它的最佳方式。

如果可以，问问自己你是否在考虑顾客的需求，或者你只是在尝试用 AI 找到一个钉子来敲打。如果答案是你在把 AI 的需求放在顾客需求之前，那么这个项目可能无法成功起飞。如果你计划使用 AI 来满足真正的顾客需求，那么我们可以勾掉我们清单上的第一个点（参见本节末尾的表 4.1）。这是 AI 可能对你来说是一个好解决方案的指标。

### 幻觉是否可以接受？

在某些应用中，幻觉并不是什么大问题。例如，在 Booking.com 或 Tripadvisor 等网站上对酒店评论的翻译，这些是由 AI 完成的。旅行者更喜欢看到尽可能多的评论，即使有些是不正确的，所以幻觉并不是什么大问题。

在其他应用中，幻觉并不完全可接受。我们已经在本书中讨论了许多这样的例子。以防万一，这里还有一个由《经济学人》解释的例子 ([`mng.bz/lY5o`](https://mng.bz/lY5o))：

> 麦当劳，一家快餐连锁店，最近取消了一个试验，该试验使用 AI 来处理顾客的驾驶窗订单，因为系统开始出现错误，例如向一位顾客的账单中添加价值 222 美元的鸡块。

在使用 AI 之前，我建议你问问自己幻觉是否会造成大问题。也许它们不会像酒店评论的例子中那样严重，所以使用 AI 就足够了。在其他情况下，幻觉可能是一个问题，就像麦当劳的故事中那样。在这种情况下，你必须决定最初使用 AI 是否是一个好主意，因为如果顾客觉得它无法接受，它可能会最终毁掉产品。或者，也许你可以以某种方式重新定义任务，使得幻觉更容易被接受。

例如，假设你正在构建一个用于校对法律合同的工具。如果你将其定位为一个“自动校正合同”的工具，那么当它有时出现幻觉时，可能会给用户带来很大的失望（甚至可能是灾难）。然而，如果你将其定位为“通过这个工具运行你的合同，以帮助你找到你可能忽略的错误”，那么幻觉可能就没什么大不了的，因为用户现在会明白它只是一个用来双重检查合同并可能发现未注意到的错误的工具。

这使我们来到了清单上的第二项的结尾。如果幻觉可能会引起重大问题，你可能需要考虑其他解决方案。如果幻觉不是什么大问题，或者你可以将你的 AI 解决方案定位得让它们不是问题，那么你就可以在清单上勾掉另一个点。

### 我需要解释输出的生成过程吗？

公司喜欢使用机器学习来预测各种事情，比如客户是否会购买产品，或者工业机器是否需要很快更换。这通常是通过在历史数据上训练机器学习模型来完成的。最丰富和最复杂的模型类型通常会产生最高的预测性能。

但客户在理解预测是如何生成的时候有时会非常敏感。在某些情况下，这是因为他们不想盲目地信任模型，即使指标显示它是准确的。在其他情况下，他们想要理解预测，以便从模型中获得更多见解。例如，他们可能想要了解*为什么*一个产品可能会被购买。

一个机器学习模型越复杂，它就越像一个黑盒，解释其输出是如何生成的就越困难。因此，最精确的模型有时并不被想要理解输出的客户所欣赏。当使用包含许多处理层和数百万或数十亿参数的深度学习模型，包括 LLMs 和 CNNs 时，这个问题变得更加明显。

因此，在使用 AI 之前，我建议您尝试找出您的客户需要多少*可解释性*。如果可解释性不重要，那么使用最先进的 AI 模型可能是最佳选择，并且您可以将其从清单上勾除。然而，如果您需要可解释的输出，您可能不得不使用更简单的模型，例如线性模型，即使其性能较差。或者，您可能想以不同的方式制定问题，例如进行一项分析或统计研究，而不是构建预测模型。

或者，如果您仍然想使用复杂模型，您可能想尝试使用一种技术来解释其工作的一些方面。有一个被称为*可解释人工智能*或简称 XAI 的研究领域。许多这些技术，例如一个流行的技术叫做 SHAP ([`shap.readthedocs.io/`](https://shap.readthedocs.io/))，通过识别模型最依赖的输入来生成输出。虽然这些技术揭示了 ML 模型工作的一些方面，但它们并不提供输出生成的完整解释，因此在某些情况下可能令人失望。

研究人员现在正在研究解释 LLMs 输出的具体技术。例如，他们已经开发出分析变压器内部注意力分数的方法 ([`arxiv.org/abs/2401.12874`](https://arxiv.org/abs/2401.12874))。然而，这仍然处于非常初期的阶段。我们仍然没有对大型 ML 模型如何产生输出有一个稳固的理解。

我用表 4.1 总结了我们迄今为止提出的问题，以及可能的答案及其相关影响。

##### 表 4.1  基于 AI 产品的构建清单。

| 问题 | 评论 |
| --- | --- |
| 我是否将 AI 置于客户之前？ | 如果没有（您使用 AI 来响应已知的客户需求），您可以继续前进。如果有（您将 AI 作为锤子寻找钉子），您可能需要退一步，确保您理解客户的需求。之后，您可以决定 AI 是否是解决这些需求的良好解决方案。 |
| 幻觉是否可以接受？ | 如果可以（客户可以容忍幻觉），您可以继续前进。如果不行（幻觉是一个大问题），您可能需要重新构建问题，使其不那么重要，或者您可能需要重新考虑最初是否使用 AI。 |
| 我需要解释输出的生成方式吗？ | 如果不需要（客户不需要可解释的输出），您可以继续前进。如果需要（需要可解释性），您可能需要考虑使用更简单、更可解释的解决方案，而不是使用最先进的 AI。或者，您可以评估是否可以接受为 AI 提供一些可解释性的技术，例如 SHAP 值。 |

## 使用对话 AI 作为助手

在本节中，我们提出了三个问题，这些问题可以帮助你决定是否使用 AI 作为助手来帮助你完成任务。我们专注于对话式 AI，这意味着你将任务描述为自然语言提示。这包括使用 LLM 帮助你编码，或使用文本到图像应用程序创建标志。

### 我能否简洁地描述任务并轻松验证输出？

对话式 AI 在你得到“物有所值”的提示时最有用，这意味着你获得了有用的输出，而不必费很大力气编写详细、分步的提示。所以，在使用它之前，我建议你问问自己：

+   我能否简洁地描述任务？

+   我能否轻松验证输出？

例如，在编写代码时，有些任务可以用非常简短的提示来描述，例如

+   总结一下这个文件中代码的功能。

+   编写一个函数，从 S3 存储桶中下载文件。

+   将这个函数重写为 JavaScript。

+   有没有优化这段代码的方法？

其他任务描述起来要困难得多，因为它们需要详细、分步地指定解决方案。在这些情况下，编写提示可能和编写代码本身一样繁琐。例如，我曾经不得不使用一个名为 GraphHopper 的库，它包含在地图上地标之间找到最短路径的算法，但我必须将其定制以以非标准方式测量距离。为此，我们必须使用我们与客户共同设计的自定义公式。要求如此具体和定制，以至于我不确定通过编写提示并让 LLM 编写代码我是否节省了任何时间。所以，如果你的答案是“我能否简洁地描述任务？”是肯定的，那么 AI 帮助你解决问题的可能性就更高（参见本节末尾的表 4.2）。由于 AI 有时会胡编乱造，因此你也要问问自己第二个问题，“我能否轻松验证输出？”，尤其是如果你对输出的正确性非常敏感（参见 4.1.2 节）。

一些任务可以轻松验证。例如，如果你已经知道如何执行这个任务，而你只想节省时间，你可以依赖你的专业知识来快速验证 AI 的输出。例如，我经常忘记如何使用 Boto3 库从 S3 读取文件。所以，我经常询问 ChatGPT 如何操作。因为我之前已经做过，而且只需要几行代码，我可以很容易地查看 ChatGPT 的代码并验证其正确性。我也可以快速运行代码，看看它是否正确地获取了所需的 S3 文件。

以另一个例子来说，如果你询问一个 LLM 一段代码是否可以优化，你可以轻松检查其建议是否对你有意义，尤其是如果你有编码经验并研究过诸如计算复杂性等内容。或者如果你让 ChatGPT 将一段代码重写为另一种编程语言，如果你熟悉目标语言，你也可以验证输出。

在其他情况下，验证 AI 的输出并不像想象中那样快捷或容易。例如，假设你要求 ChatGPT 编写一个需要大量连接和业务逻辑的 SQL 查询。逐步理解生成的查询可能很繁琐，可能需要花费与编写查询一样多的时间。或者，如果你要求 ChatGPT 用你不懂的语言编写代码，你可能会在调试它时遇到困难。

所以，如果你的答案是第二个问题——“我能否轻松验证输出？”也是肯定的，那么 AI 可能提供很好的帮助。

### 有没有人做过这样的事情？

一位软件工程师在推特上评论说，“我有时会想，编程最终会不会变成这样” ([`mng.bz/BXr2`](https://mng.bz/BXr2))，并分享了一张以下代码的截图：

```py
import ai from 'ai-thing';
const Select = ai.gen`
  A select dropdown with these options:
  - Podcast
  - Book
  - Movie
Animate the dropdown to slide down from the top
of the page in a distracting manner.
`;
```

如果前端开发所用的唯一工具只是纯 JavaScript、CSS 和 HTML，那将会非常令人印象深刻。但如今大多数人并不是这样编程的。我们使用库和框架来帮助我们完成工作。例如，我经常使用 Material UI 进行前端开发，这是一个包含现成且视觉上吸引人的组件的集合。这就是我使用 Material UI 创建所需动画下拉菜单的方式：

```py
import { Select, MenuItem } from '@mui/material';
const Select = 
<Select>
  <MenuItem>Podcast</MenuItem>
  <MenuItem>Book</MenuItem>
  <MenuItem>Movie</MenuItem>
</Select>
```

这段代码几乎与之前代码片段中的自然语言描述完全相同。尽管这段代码是用更结构化的语言编写的，但它同样紧凑且易于阅读。使用 AI 带来的收益很小。

所以，在使用 AI 助手之前，我建议你思考一下，是否有人可能已经完成了这项工作，例如，通过创建一个执行你所需功能的库。如果任务是极其常见的——选择下拉菜单肯定是这样——那么很可能有一个工具可以为你完成这项工作。这些工具通常非常易于使用，成熟，并且由活跃的开发者社区进行了充分的测试。因此，它们有助于快速且稳健地构建软件。

几周前，我不得不编写代码来计算在特定时间和地点太阳在天空中的位置。与其费力处理三角方程或询问 AI 助手如何做，我的第一个想法是搜索一个用于此任务的库。我想，“这是一个如此标准化的任务，肯定有人之前做过。”我搜索了“sun position calculation library python”，立即找到了一个执行这项特定任务的库（还有其他库）。我只需一个命令就轻松安装了它：

```py
pip install suncalc
```

这个库很小，其文档也很简短。你可以快速了解到，它可以根据给定的日期时间、经度和纬度使用如下方式：

```py
from suncalc import get_position
get_position(datetime, longitude, latitude) 
```

这正是我需要的：

```py
{'azimuth': -0.014045295626482863, 'altitude': 0.8562684198030407}
```

在我完成这个任务几天后，出于好奇，我向 GPT-4o 提问，“编写一个 Python 函数，根据位置和时间计算太阳的位置。”聊天机器人编写了一个复杂的算法，有 40 行代码。这里是一个片段：

```py
n = julian_day - 2451545.0  # Days since J2000.0
        mean_longitude = (280.46 + 0.9856474 * n) % 360
        mean_anomaly = (357.528 + 0.9856003 * n) % 360
        ecliptic_longitude = (mean_longitude + 1.915 
           *math.sin(math.radians(mean_anomaly)) +
           0.020 * math.sin(math.radians(2 * mean_anomaly)))
        obliquity = 23.439 - 0.0000004 * n
        declination = (math.degrees(math.asin(math.sin(
           math.radians(obliquity)) * 
           math.sin(math.radians(ecliptic_longitude)))))
```

该算法难以理解，包含许多未解释的常数。幸运的是，聊天机器人还建议，“我们可以使用像 Astral 或 Pysolar 这样的 Python 库。”因此，作为后续提示，我问道，“我该如何使用 Astral 库来替代完成这个任务？”它回应了一个更短的代码片段，展示了我如何使用这个库。然而，我尝试了这段代码，但它并没有运行，因为它错误地想象了使用该库的正确方式。（您可以在[`mng.bz/dXGw`](https://mng.bz/dXGw)找到对话记录。）

也许再次运行提示或对其进行改进会得到更好的结果。然而，我的观点是，有时你最好先弄清楚是否有人已经为它构建了一个工具。快速进行谷歌搜索和查看文档可能比使用人工智能更有效，而且结果可能更可靠。

所以，试着问问自己，尤其是当你正在执行一个千篇一律的任务时，是否有人之前已经做过。最有效的软件开发者会避免重复造轮子，并尝试在别人的成功作品上构建。

### 一份出色的工作看起来是什么样子？

我的一个朋友有一个非常有趣的人生故事——他从几乎一无所有，住在换宿的旅舍以换取床位，到经营一家成功的在线业务。一家杂志想要分享他的故事，并请他写一篇关于他的文章。他使用 ChatGPT 来写这篇文章。

然后，他将文章的草稿分享给我，并征求我的意见。语法和风格如预期的那样完美。然而，这篇文章并没有公正地讲述他的故事。例如，它跳过了读者想要了解更多的事情。值得注意的是，它没有说明他在住在旅舍时是如何想出他的商业想法的；相反，它直接跳到了他开始建立业务的部分。此外，还有一些离题的内容，比如对政治问题的个人观点，这分散了读者的注意力，偏离了文章的主要目的。单词组织得很好，但写作并不出色，因为它没有有效地讲述故事。在我看来，如果他以那样的方式提交故事，是可以接受的，但不是那种人们会一直读到结尾并推荐给别人的类型。

我给我的朋友列出了关于这篇文章的评论。我的评论大多是高层次的建议。例如，我建议他放慢速度，有时更详细地讲述故事，并建议他删除某些缓慢的段落和离题的内容。我还建议他重新组织文章中交织不同主题的部分。

当他阅读我的评论时，他说他终于明白了为什么写作花费了我这么多时间。他还说，他终于明白了为什么我花钱雇佣人类编辑。在此之前，他一直认为写作主要是关于语法。他没有意识到文章的节奏和组织对吸引读者有多么重要。我刚开始写作时也不知道这一点。

当我们对 AI 了解不多时，很容易草率下结论，认为 AI 可以很好地完成一项任务。我们可能会错过做好这项工作所需的重要事项，并且不知不觉地完成质量不佳的工作。

所以，在使用 AI 之前，我建议你调查一下要胜任这项工作需要具备哪些条件。也许这比一开始看起来需要更多的事情。一旦你更好地理解了这项工作，你就可以决定 AI 是否能够完成你需要的足够好的工作。

考虑标志设计的任务。一些公司不惜花费巨资聘请顶尖的标志设计师。但现在 AI 可以创建标志，雇佣昂贵的专业标志设计师是否值得呢？嗯，这取决于。如果你与高端标志设计师交谈，你会发现他们对竞争对手的标志及其传达的情感进行了彻底的研究。然后，他们设计了一个真正原创的标志，而不是重复之前的标志——这是 AI 不太擅长的事情——但同时又以某种方式与竞争对手的标志风格相匹配。这有助于顾客快速了解品牌是什么，因为他们从竞争对手那里认出了这种标志类型，同时仍然给你的公司标志带来独特的风格。

根据你的需求，你可能需要也可能不需要高端标志设计的彻底性。例如，如果你正在启动一家初创公司，你可能只需要一个标志来填补你网站上的空白，因为可能还不到花钱购买高端设计的时机。一旦公司成长并开始有回头客，你可能想雇佣一个专家来设计一个能够更好地定位你公司在竞争环境中的标志。在我们进入下一节之前，你会在表 4.2 中找到一个问题和可能的答案的总结，以及它们的影响。

##### 表 4.2 使用对话式 AI 作为助手的清单

| 问题 | 评论 |
| --- | --- |
| 我能否简洁地描述任务并轻松验证输出？ | 如果可以，一个 AI 助手，比如一个代码编写的 LLM，可能会为你节省时间和精力，因为你将得到“物有所值”的提示。如果不能（任务难以描述或验证输出很麻烦），那么你可能最好在没有 AI 帮助的情况下手动完成这项工作。 |
| 以前有人这样做过吗？ | 如果是（例如，你正在解决一个标准化的软件任务，有一个库正好满足你的需求），那么重新使用他人的经过验证的工作和工具可能更容易、更可靠，而不是请求 AI 的帮助。如果不是（你的任务不是很常见，而且不太可能他人的过去工作会帮助你），那么使用 AI 作为助手可能有助于完成你需要定制的任务。 |
| 一份出色的工作是什么样的？ | 如果你熟悉在所需任务上出色完成工作的含义，你就有很好的条件来判断 AI 是否能满意地完成这项工作。如果你不知道出色完成工作的含义，你可能遗漏了一些东西，并高估了 AI 的性能。在这种情况下，最好是对任务进行一些研究，以便在是否使用 AI 进行决策时做出更明智的决定。 |

## 构建 LLM 包装器

由于 LLM 可以处理如此多的任务，现在有一种趋势是采用一种新的方式构建软件产品：你的代码将任务转换为自然语言提示，并让 LLM 来完成它。例如，如果你的应用必须根据用户的位置向用户显示附近的餐厅列表，你的代码会自动创建一个提示，例如，“创建一个 HTML 表格，列出距离[用户坐标插入处]最近的五家餐厅。每一行应代表一家餐厅，列应包括：餐厅名称、菜系风格……”之后，你的应用使用 LLM 来执行任务，并在向用户显示餐厅之前解析 LLM 的输出。

以这种方式编码，应用变成了复杂的 LLM 包装器——它们管理 LLM，LLM 负责在幕后进行重负荷工作。我遇到过许多早期阶段的初创公司，它们就是这样构建或尝试构建它们的初始产品的。他们认为，当你只需创建一个提示并让 LLM 完成工作而不是编写应用程序的核心功能时，编写应用程序的核心功能并不是必要的。

创建 LLM 包装器可能是在某些情况下构建软件的好方法。然而，在其他情况下，这并不是最佳解决方案。本节提出一个在决定以这种方式构建软件之前可能值得自问的问题。

### 用户是否会用自然语言与我产品互动？

我知道有一个初创公司正在开发一个旅行规划应用。用户会通过在日历上选择日期和从列表中选择目的地，以结构化格式输入旅行详情。然后，该工具会生成一个结构化的观光行程，以时间线和地图的形式显示。请注意，这并不是一个聊天机器人——用户在任何时候都没有通过书写或阅读自由文本与该应用进行对话。

由于 LLM 的普及，公司决定在底层使用 LLM 构建这个功能。用户的请求首先被转换成自然语言提示，例如，“从 7 月 1 日到 7 月 7 日制定每天的巴黎行程……”整体提示很长，因为它包含了如何以特定格式输出行程的说明，以便在应用中轻松解析和渲染。

那家初创公司努力使这个功能工作。其中一个原因是 LLM 的输出经常包含过时的信息，例如建议访问一个已经不存在或在该时间段内关闭的景点。此外，LLM 的输出有时并不完全遵守所需的结构。例如，它有时会在应该提供网址的地方指示景点的街道地址。此外，整个过程需要超过一分钟才能运行，这在今天的浏览标准下太长了。

那家初创公司随后意识到，它试图解决的问题与自然语言没有任何关系——用户并没有以自由文本形式输入（“我想去巴黎”）输入，输出也没有以文本形式展示给用户。那么为什么还要使用 LLM 呢？

那家初创公司最终以不同的方式解决了这个问题：在用户提出查询后，软件使用 Google Places API 在所需目的地搜索相关景点，该 API 提供有关景点最新和结构化信息，例如营业时间和坐标。之后，软件运行路径查找算法，从这些景点创建一个理想的观光行程。该解决方案运行得更快，并且更好地解决了问题。

如果用户将通过自然语言与您的产品进行交互，使用大型语言模型（LLM）可能是最佳选择（参见本节末尾的表 4.3），因为 LLM 专门设计用于处理和生成自然语言。例如，如果您正在构建一个客服聊天机器人，那么使用 LLM 可能是最佳选择，因为它们被设计来处理书面形式的自由文本请求并生成令人信服的散文。在这种情况下，您利用了 LLM 最擅长的能力。

当用户不会使用自然语言与您的产品进行交互时，例如在旅行应用中，在使用 LLM 解决问题之前，您可能需要三思。如果您使用 LLM，您可能不会享受到它的好处，并且您将不得不应对其缺点，如长执行时间、幻觉和不规则输出。在这些情况下，传统的软件，如数据库查找，可能做得更好。因此，如果您的任务不涉及自然语言，在构建 LLM 包装器之前，首先分析是否有其他工具更适合这项工作。

这就带我们结束了本章。我们讨论了几种何时使用 AI 的场景。我希望它会在您下次遇到问题并考虑是否引入 AI 模型时有所帮助。

##### 表 4.3  构建 LLM 包装器的清单

| 问题 | 评论 |
| --- | --- |
| 我的问题是否涉及自然语言？ | 如果是，LLM 可能是一个很好的选择，因为它们专门设计用来读取和生成自然语言。如果不是，你可能需要考虑其他老式的方法来构建你的软件，这些方法可能比 LLM 更适合这项工作。 |

## 摘要

+   采用创业心态：确保你理解客户的问题，并找到最佳解决方案，这可能或可能不是 AI。在知道你将如何使用它之前，尽量不要决定使用 AI。

+   评估幻觉对用户是否可接受。在某些情况下，例如酒店评论的翻译，用户对它们并不太挑剔。如果幻觉是一个问题，你可能需要重新考虑这项任务。

+   如果你的客户想要了解 AI 是如何生成其输出的，你可能会发现自己处于一个非常棘手的境地，因为最强大的 AI 无法被详细理解。你可能需要使用性能较低但更可解释的模型或技术来尝试解释模型的一些方面，例如找到输入特征的相对重要性。

+   如果你将 AI 用作助手，你可以快速问自己，“我能否轻松描述任务并验证输出？”如果是这样，你就得到了很好的回报，这时 AI 最有效。如果你无法简洁地描述任务，或者验证输出需要大量努力，使用 AI 可能不是很有用。

+   当使用 AI 作为助手时，确保你并没有试图重新发明轮子。如果你执行的是一项常见任务，可能已经存在一个经过良好记录和验证的方法来完成这项工作。例如，在编码某个任务时，可能已经存在一个开源软件可以完成你所需的一切，使用它可能比尝试使用 AI 助手来完成同样的事情更容易且更可靠。

+   在让 AI 完成某项工作之前，尝试理解以优秀的方式完成这项工作意味着什么。这可能会比看起来更复杂。然后你可以根据你的需求决定是否需要一个 AI 助手来帮助你以令人满意的水平完成这项工作。

+   有些人正在构建 LLM 包装器应用程序——这项工作由 LLM 在幕后完成，由应用程序管理。当你处理自然语言问题时，这尤其强大，无论是由于用户输入自由形式的文本，还是系统必须生成人类可读的文本。如果你的问题不涉及自然语言，也许使用老式算法而不是构建 LLM 包装器将是一个更好的选择。
