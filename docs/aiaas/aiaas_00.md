# 前置材料

## 前言

在过去的二十年中，AI 在我们的生活中扮演了越来越重要的角色。它一直在幕后默默地发挥作用，因为全球各地的公司都在使用 AI 技术来改善搜索结果、产品推荐和广告，甚至帮助医疗工作者提供更好的诊断。AI 技术无处不在，不久的将来，我们都会乘坐自动驾驶汽车！

随着这种知名度的提升，对相关技能的需求也增加了。在机器学习或深度学习方面有专长的工程师通常以高薪被大型科技公司吸引。与此同时，地球表面上的每个应用程序都想使用 AI 来改善用户体验。但是，聘请相关技能集和获取训练这些 AI 模型所需的数据量的能力仍然是一个重大的进入障碍。

幸运的是，云服务提供商正在提供越来越多的 AI 服务，这些服务消除了您需要深入掌握收集和清理数据以及训练 AI 模型的艺术的需求。例如，AWS 让您可以使用为 Amazon.com 的产品推荐提供动力的相同技术，通过 Amazon Personalize，或者通过 Amazon Transcribe 为 Alexa 提供语音识别技术。其他云服务提供商（如 GCP、Azure、IBM 等）也提供类似的服务，我们将通过这些服务看到 AI 在日常应用程序中的功能。随着这些服务的日益完善和易于访问，人们自己训练 AI 模型的需求将越来越少，除非是更专业的负载。

看到一本专注于利用这些 AI 服务而不是 AI 模型训练细节的书真是太好了。这本书用通俗易懂的语言解释了 AI 和机器学习的重要概念，并准确地描述了它们，没有像 AI 相关对话中经常出现的所有炒作和夸张。这本书的美丽之处在于，它不仅仅是“如何使用 AWS 的这些 AI 服务”，还包括如何以无服务器的方式构建应用程序。它涵盖了从项目组织到持续部署，再到有效的日志策略以及如何使用服务和应用程序指标来监控您的应用程序的各个方面。这本书的后期章节也是集成模式和将一些 AI 魔法融入现有应用程序的实际案例的宝库。

无服务器是一种心态，是一种思考软件开发的方式，它将业务及其客户的需求放在首位，并旨在通过利用尽可能多的托管服务来以最小的努力创造最大的商业价值。这种思维方式导致开发人员生产力和功能速度的提高，并且通常通过在 AWS 等巨人的肩膀上构建，产生更可扩展、更弹性、更安全的应用程序。

无服务器不是我们围绕软件构建业务的未来；它是现在，并且它将留下来。这本书将帮助你开始无服务器开发，并展示如何将 AI 服务集成到无服务器应用程序中，以增强用户体验。这真是一石二鸟！

Yan Cui

AWS 无服务器英雄

独立顾问

## 前言

第四次工业革命已经到来！未来十年可能会在基因编辑、量子计算和当然还有人工智能（AI）等领域取得巨大进步。我们中的大多数人已经每天都在与 AI 技术互动。这不仅仅意味着自动驾驶汽车或自动割草机。AI 比这些明显的例子更为普遍。考虑一下当你访问亚马逊网站时，亚马逊刚刚做出的产品推荐，或者你与航空公司进行的在线聊天对话，重新预订航班，或者你的银行刚刚发送给你的文本，警告你的账户上可能存在欺诈交易。所有这些例子都是由 AI 和机器学习技术驱动的。

越来越多的开发者将需要将“智能”AI 功能界面添加到他们构建的产品和平台中。当然，AI 和机器学习的早期采用者已经这样做了一段时间；然而，这通常需要大量研发投资，通常需要一个数据科学家团队来训练、测试、部署和运行定制的 AI 模型。由于商品化的强大力量，这一局面正在迅速改变。

在他 2010 年畅销书《大切换》中，尼古拉斯·卡尔将云计算比作电力，预测我们最终将像使用公共事业一样消费计算资源。尽管我们还没有达到真正的公共事业计算阶段，但这一消费模式正在迅速成为现实。

你可以在云原生服务的范围和能力的爆炸性增长中看到这一点。云堆栈的商品化催生了无服务器计算范式。我们相信，无服务器计算将成为未来构建软件平台和产品的既定标准架构。

随着更广泛的应用堆栈的商品化，AI 也正在迅速成为商品。看看主要云提供商在图像识别、自然语言处理和聊天机器人界面等领域提供的 AI 服务数量。这些 AI 服务每月都在数量和能力上增长。

在我们公司 fourTheorem，我们每天都在使用这些技术，帮助我们的客户通过应用 AI 服务扩展和改进他们现有的系统。我们帮助客户采用无服务器架构和工具来加速他们的平台开发工作，并利用我们的经验帮助重构遗留系统，以便它们在云上运行得更高效。

正是这两项技术——无服务器和 AI 服务的快速增长和商品化，以及我们将它们应用于实际项目的经验，促使我们写这本书。我们希望提供一本工程师指南，帮助你在 AI as a Service 中取得成功，并祝愿你在开始掌握这个软件开发的新世界时一切顺利！

## 致谢

询问任何技术书籍的作者，他们都会告诉你完成一本书需要大量的时间和精力。这也需要他人的出色支持。我们非常感激那些使这本书得以完成的人们。

首先，我们想感谢我们的家人在我们努力完成这本书的过程中给予的支持、理解和耐心。Eóin 想感谢他惊人的妻子 Keelin，感谢她无尽的耐心、道德支持和不可或缺的技术审阅。他还要感谢 Aoife 和 Cormac，他们是世界上最好的孩子。Peter 想感谢他的女儿 Isobel 和 Katie，仅仅因为她们很棒。

Eóin 和 Peter 想感谢 fourTheorem 的联合创始人 Fiona McKenna 对这本书的信任，以及她在许多领域的持续支持和专业知识。没有你，我们无法完成这项工作。

开始这样一个项目是最困难的部分，我们感谢在开始时帮助我们的所有人。Johannes Ahlmann 贡献了想法、写作和讨论，这些都帮助塑造了这本书的内容。James Dadd 和 Robert Paulus 提供了宝贵的支持和反馈。

我们还要感谢 Manning 出版社的出色团队，是他们使这本书成为可能。特别是，我们想感谢我们的开发编辑 Lesley Trites，感谢她的耐心和支持。我们还要感谢我们的技术发展编辑 Palak Mathur 和 Al Krinker，感谢他们的审阅和反馈。感谢我们的项目编辑 Deirdre Hiam；我们的校对员 Ben Berg；我们的校对员 Melody Dolab，以及我们的审阅编辑 Ivan Martinović。

我们想感谢闫翠为这本书撰写前言。闫翠是一位杰出的架构师，也是无服务器技术的倡导者，我们非常感激他的支持。

感谢所有审阅者对文本和示例的反馈和建议改进：Alain Couniot、Alex Gascon、Andrew Hamor、Dwight Barry、Earl B. Bingham、Eros Pedrini、Greg Andress、Guillaume Alleon、Leemay Nassery、Manu Sareena、Maria Gemini、Matt Welke、Michael Jensen、Mykhaylo Rubezhanskyy、Nirupam Sharma、Philippe Vialatte、Polina Keselman、Rob Pacheco、Roger M. Meli、Sowmya Vajjala、Yvon Vieville，

特别感谢技术校对员 Guillaume Alleon，他为代码示例的仔细审阅和测试。

最后，我们想承认更广泛的开源社区，我们自豪地参与其中。我们确实站在巨人的肩膀上！

## 关于这本书

《*AI as a Service*》作为工程师构建具备人工智能功能的平台和服务的指南被撰写。本书的目标是帮助您快速上手，并能够迅速产生结果，而不会陷入细节的泥潭。人工智能和机器学习是庞大的主题，如果您希望掌握这些学科，那么有很多东西需要学习。我们并不打算阻止任何人去这样做，然而如果您需要快速得到结果，这本书将帮助您迅速掌握相关知识。

本书探讨了两个正在增长且日益重要的技术：无服务器计算和人工智能。我们从开发者的角度来审视这些技术，以提供实用的、动手操作的指南。

所有主要的云服务提供商都在竞相提供相关的 AI 服务，例如

+   图像识别

+   语音转文本，文本转语音

+   聊天机器人

+   语言翻译

+   自然语言处理

+   推荐

这个列表将随着时间的推移而不断扩展！

好消息是，您不需要成为人工智能或机器学习专家就能使用这些服务。本书将指导您作为开发者将这些服务应用于日常工作中。

随着人工智能服务的增长，现在使用无服务器方法可以以最小的运营开销构建和部署应用程序。我们相信，在未来几年内，本书中描述的工具、技术和架构将成为企业平台开发的标准化工具包的一部分。本书将帮助您快速掌握相关知识，并指导您使用无服务器架构构建新的系统，并将人工智能服务应用于现有的平台。

### 适合阅读本书的人群

《*AI as a Service*》是为全栈和后端开发者编写的，他们负责实现增强人工智能的平台和服务。本书对希望了解如何通过人工智能增强和改进其系统的解决方案架构师和产品所有者也很有价值。DevOps 专业人士将获得关于构建和部署系统的“无服务器方式”的宝贵见解。

### 本书组织结构：路线图

本书分为三个部分，共涵盖九个章节。

第一部分提供了一些背景信息，并检查了一个简单的无服务器 AI 系统：

+   第一章讨论了过去几年无服务器计算的发展，解释了为什么无服务器代表了真正的实用云计算。在此之后，它提供了一个关于人工智能的简要概述，以便让对这一主题没有经验的读者也能迅速掌握相关知识。

+   第二章和第三章快速构建了一个使用现成图像识别技术的无服务器 AI 系统。读者可以部署并实验这个系统，以探索如何使用图像识别。

第二部分深入探讨了开发者需要了解的个别工具和技术，以便在无服务器和现成 AI 方面变得有效：

+   第四章探讨了如何构建和部署一个简单的无服务器 Web 应用程序，然后，也许更重要的是，如何以无服务器的方式确保应用程序的安全。

+   第五章探讨了如何将 AI 驱动的界面添加到无服务器 Web 应用程序中，包括语音到文本、文本到语音和会话聊天机器人界面。

+   第六章提供了一些具体建议，说明如何利用这一新技术集成为一个有效的开发者，包括项目结构、CI/CD 和可观察性——大多数刚开始接触这项技术的开发者都需要在他们的工具箱中具备这些。

+   第七章详细探讨了如何将无服务器 AI 应用于现有或遗留平台。在这里，我们提供了可以应用的通用模式建议，并查看了一些点解决方案来展示这些模式的应用。

第三部分探讨了如何在全规模 AI 驱动系统的背景下将前两部分学到的内容结合起来：

+   第八章探讨了大规模收集数据，以无服务器 Web 爬虫为例。

+   第九章探讨了如何利用 AI as a Service 从大型数据集中提取价值，使用从无服务器网络爬虫收集的数据。

读者应复习第一章的内容，以获得对该主题的基本了解，并密切关注第二章的内容，其中我们描述了如何设置开发环境。本书最好按顺序阅读，因为每一章都是基于前一章的例子和学习内容。

### 关于代码

本书包含许多源代码示例，无论是编号列表还是与普通文本内联。在两种情况下，源代码都以`fixed-width font` `like` `this`的格式进行格式化，以将其与普通文本区分开来。有时代码也会加粗，以突出显示与章节中先前步骤相比有所改变的代码，例如当新功能添加到现有代码行时。

在许多情况下，原始源代码已被重新格式化；我们添加了换行符并重新整理了缩进，以适应书籍中的可用页面空间。在极少数情况下，即使这样也不够，列表中还包括了行续符（`➥`）。此外，当代码在文本中描述时，源代码中的注释通常也会从列表中删除。代码注释伴随着许多列表，突出显示重要概念。本书中的示例源代码可以从出版商的网站上下载。

本书的所有源代码都可在以下存储库中找到：[`github.com/fourTheorem/ai-as-a-service`](https://github.com/fourTheorem/ai-as-a-service)。

### liveBook 讨论论坛

购买 AI as a Service 服务包括免费访问由 Manning Publications 运营的私有网络论坛，您可以在论坛上对书籍发表评论、提出技术问题，并从作者和其他用户那里获得帮助。要访问论坛，请访问[`livebook.manning.com/#!/book/ai-as-a-service/discussion`](https://livebook.manning.com/#!/book/ai-as-a-service/discussion)。您还可以在[`livebook.manning.com/#!/discussion`](https://livebook.manning.com/#!/discussion)了解更多关于 Manning 的论坛和行为准则。

Manning 对我们读者的承诺是提供一个平台，让读者之间以及读者与作者之间可以进行有意义的对话。这不是对作者参与特定数量活动的承诺，作者对论坛的贡献仍然是自愿的（且未付费）。我们建议您尝试向作者提出一些挑战性的问题，以免他的兴趣转移！只要书籍在印刷中，论坛和先前讨论的存档将可通过出版商的网站访问。

## 关于作者

| ![](img/Elger.png) | Peter Elger 是 fourTheorem 的联合创始人和 CEO。Peter 在英国的 JET 联合企业开始了他的职业生涯，在那里他花了七年时间构建用于核聚变研究的数据采集、控制和数据分析系统。他在软件行业的多个领域担任过技术领导角色，包括研究部门和商业部门，包括软件灾难恢复、电信和社交媒体。在创立 fourTheorem 之前，Peter 是两家公司的联合创始人兼 CTO：Stitcher Ads，一个社交广告平台；以及 nearForm，一家 Node.js 咨询公司。Peter 目前的重点是通过对尖端无服务器技术、云架构和机器学习的应用为客户创造商业价值。他的经验涵盖了从架构大型分布式软件系统到领导实施这些系统的国际团队。Peter 拥有物理学和计算机科学学位。 |
| --- | --- |
| ![](img/Shanaghy.png) | Eóin Shanaghy 很幸运，在 20 世纪 80 年代中期就能开始使用 Sinclair ZX Spectrum 编程。这是他第一次没有尝试拆解的电子产品。如今，他试图拆解软件系统。Eóin 是技术咨询服务公司 fourTheorem 的 CTO 和联合创始人，同时也是一位有经验的架构师和开发者，曾为初创公司和大型企业构建和扩展系统。Eóin 在许多不同的技术时代工作过，从 2000 年的基于 Java 的分布式系统到近年来全栈多语言容器和无服务器应用程序。Eóin 在都柏林三一学院获得了计算机科学学士学位。 |

## 关于封面插图

《AI as a Service》封面上的插图标题为“Homme de la Forêt Noire”，或称“黑森林的人”。这幅插图取自雅克·格拉塞·德·圣索沃尔（1757-1810）的作品集，名为《Costumes civils actuels de tous les peuples connus》，1788 年于法国出版。每一幅插图都是手工精心绘制和着色的。格拉塞·德·圣索沃尔的收藏中丰富的多样性生动地提醒我们，200 年前世界的城镇和地区在文化上有多么不同。人们彼此孤立，说着不同的方言和语言。在街道或乡村，仅凭他们的服饰就能轻易识别他们居住的地方以及他们的职业或社会地位。

自那以后，我们的着装方式已经改变，当时如此丰富的地区多样性已经消失。现在很难区分不同大陆、不同城镇、地区或国家的人们。也许我们用文化多样性换取了更加多样化的个人生活——当然，是为了更加多样化且节奏更快的技术生活。

在难以区分一本计算机书与另一本计算机书的今天，曼宁通过基于两百年前丰富多样的地区生活，并由格拉塞·德·圣索沃尔的图画使之重现的书封面，庆祝了计算机行业的创新精神和主动性。
