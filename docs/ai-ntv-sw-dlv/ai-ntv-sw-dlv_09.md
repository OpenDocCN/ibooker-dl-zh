# 第九章\. 云成本管理的 AI 和自动化

云环境和有效的云成本管理策略对现代组织的重要性不容小觑。根据 Gartner 的预测，到 2025 年，全球公司将花费惊人的 7234 亿美元用于公共云服务。这比 2024 年的 5957 亿美元有显著增长。云环境和服务已成为现代软件交付的核心，云支出已成为 IT 预算中的一个重要项目。

管理这些不断增长的成本已经成为一个复杂的问题。最近的行业估计表明，30%的云支出被浪费。原因众多：组织通常配置比实际需要的更多云资源，导致未使用或利用率不足的实例和遗忘的服务，这些服务仍然会产生成本。

在本章中，我们将深入探讨云成本管理的棘手问题。我们将查看实践是如何从云计算的早期阶段演变而来的，从而产生了 FinOps（财务运营）这一学科。由于碳足迹和云成本管理是相互关联的，我们将探讨云成本管理如何导致环境可持续性倡议。

我们还将探讨 AI 驱动的解决方案是如何解决不可预测的支出、耗时优化的任务和多云治理的复杂性的挑战。我们将查看针对优化云资源的特定 AI 驱动策略，例如利用成本效益定价模型和管理容器化环境。此外，我们还将探讨 AI 如何推动云治理和合规性，以确保您的组织云投资既高效又安全。

# 云成本管理的演变

我们将首先探讨云成本管理是如何随着时间的推移而改变的，并查看 FinOps 如何提供一个框架来解决云成本管理的挑战。最后，我们将探讨自动化在 FinOps 中的重要性。

## 早期云采用和初始挑战

在云服务之前的时代，组织通常拥有并维护自己的本地基础设施，这需要大量的前期投资（资本支出）在硬件和软件上。IT 预算通常是固定的，并与这些资产的折旧周期挂钩，这创造了一个僵化的框架。虽然成本是可预测的，但这种模式很难适应不断变化的企业需求。

云计算，通过按需、按使用付费的 IT 资源，颠覆了这一模式。支出从资本支出转变为运营支出，成本根据实际使用情况在时间上分散。这提供了更大的能力来应对市场变化、扩展运营和避免过度配置，但按使用付费也带来了新的挑战。早期采用云服务的用户常常因为这种模式而面临意外的成本。对云资源使用情况的有限可见性创造了新的挑战，控制成本变得很困难。

## FinOps 的兴起

早期的云先驱们开发了他们自己的成本优化实践来应对管理云支出的挑战。Cloudability，一个早期的云成本管理平台，围绕这些挑战培养了一个社区，并在 2019 年随着 FinOps 基金会的成立，正式化了“FinOps”这一术语。

FinOps 实践强调云成本的合作和共同所有权，以及个人和团队对其云使用及其相关成本的责任。FinOps 的关键在于依赖数据和报告来了解云支出模式并识别优化机会。与 DevOps 一样，持续改进的精神对 FinOps 也很重要。FinOps 实践旨在持续进行，随着时间的推移对云使用和成本进行迭代优化。

### FinOps 的核心原则

FinOps 基金会定义了[六个核心原则](https://oreil.ly/zxPsZ)来帮助组织管理云成本。以下是分解：

团队需要合作

FinOps 鼓励技术、财务和业务团队之间的紧密合作，以促进对云成本及其与业务目标之间关系的共同理解。开发者、工程师和产品经理有权做出关于其云使用的明智决策，并参与优化工作。

决策由云的业务价值驱动

云计算支出决策应基于其为企业带来的价值，而不仅仅是成本考虑。FinOps 鼓励理解在云中交付产品或服务的成本，从而实现更好的定价策略和投资决策。

每个人都对其云使用负责

个人和团队对其使用的云资源和相关成本负责。这赋予了团队对其云使用的负责任选择权，并有助于成本优化工作。

FinOps 数据应易于获取并及时

云计算支出数据应易于获取并保持最新，以便及时分析和决策。组织应利用数据分析报告来了解云支出模式并识别优化机会。

中心团队推动 FinOps

一个专门的 FinOps 团队，通常由 FinOps 实践者领导，推动 FinOps 实践的实施和持续改进。这个团队在维护一个允许工程团队专注于优化其环境使用的共享责任模型的同时，处理费率优化。

团队利用云的可变成本模型

FinOps 鼓励利用云的可变成本模型按需扩展或缩减资源，使支出与业务需求保持一致。这一原则强调使用云原生工具和策略来优化成本，例如调整资源大小、利用折扣和自动化成本节约措施。

### FinOps 的阶段

FinOps 的三个阶段——通知、优化和操作——为组织提供了一个框架，以逐步改善其云财务管理。以下是每个阶段的更详细说明。

#### 通知

这一阶段侧重于了解您的云支出和用法模式。在这一阶段，我们会问一些问题，例如：

我们在云上花费了多少钱？

这涉及到从各种来源收集数据，包括云提供商的计费系统，以创建您云成本的集中视图。

钱都花到哪里去了？

这需要将成本分配给特定的部门、项目或业务单元。标记资源和使用成本分配工具对于这一步骤至关重要。

我们是如何使用云资源的？

这涉及到分析使用模式，以了解不同的团队和服务如何对整体云费用做出贡献。

作为这项调查的一部分，我们可能会创建报告和仪表板来可视化支出模式并识别趋势。我们还对异常检测感兴趣，使用工具来识别需要进一步调查的不寻常支出激增或异常。

#### 优化

一旦我们了解了我们的云支出，就到了优化的时候。这一阶段侧重于识别和实施成本节约措施：

调整资源大小

分析资源利用率，调整实例大小、存储层和其他配置，以匹配实际需求。

利用折扣

利用云提供商提供的折扣。我们将在下一节中更详细地讨论这一点。

自动化成本优化

使用自动化工具来安排实例关闭、优化资源分配和执行成本政策。

消除浪费

识别并消除未使用或利用率低的资源，例如闲置实例、孤儿卷和未连接的存储。

#### 操作

操作阶段是关于建立持续管理和监控云成本的过程。我们将 FinOps 实践嵌入到我们的文化和工作流程中：

预算和预测

为云支出设定明确的预算，并使用预测工具来预测未来的成本。

持续监控

持续跟踪云支出和用法模式，以识别任何与预算不符或意外激增的情况。

自动化成本优化

通过实施脚本或使用云提供商工具来自动化常见任务，例如资源清理、合理配置和预留管理。

通过反复迭代这三个阶段，优化是一个持续的项目。

## 现代云成本管理挑战

随着多云和混合基础设施的复杂化，云环境变得更加复杂，传统的成本管理方法变得不足。需要现代策略来有效地导航和控制这些环境中不断增长的云支出。

[451 Research 于 2023 年进行的一项研究](https://oreil.ly/8oLC3)，由 Oracle Cloud Infrastructure 委托，发现 98%的企业使用或计划使用至少两家云基础设施提供商。此外，31%的企业正在使用四家或更多的云基础设施提供商。多云或混合方法有助于防止对单一供应商的依赖，并使公司能够根据其特定优势从各种提供商中选择最佳服务。

多云或混合方法通过在多个云之间分配工作负载，也最小化了故障的影响。这种方法还可以帮助公司遵守规定数据存储位置的数据主权法律。此外，能够从不同提供商中选择最经济高效的服务和定价模式，为优化云支出提供了重大机会。

除了增加运营复杂性外，在多云或混合环境中管理云成本还带来了独特的挑战。每个云提供商都有自己的计费系统，具有不同的格式、指标和报告工具。这使得难以获得所有平台的综合支出视图，尤其是在成本数据被不同部门或团队孤岛化时。此外，云提供商具有复杂的定价模型，难以在不同平台之间进行比较。这使得将成本准确分配到特定项目、部门或业务单元变得具有挑战性。

# 驱动云成本优化的 AI 策略

人工智能可以帮助你控制你的云支出。这项技术的优势在于其处理大量生成数据的能力，识别出人类几乎无法检测到的模式和异常。应用于云计算成本管理，人工智能不仅可以为我们提供当前支出的见解，还可以以惊人的准确性预测未来的云使用。例如，长短期记忆（LSTM）和双向 LSTM 网络以及[决策树回归](https://oreil.ly/ZUDAh)等人工智能算法可以提前几周甚至几个月预测计算需求。在本节中，我们将探讨在不影响性能的情况下降低云账单的实际策略，并探讨人工智能如何帮助你合理配置资源、利用折扣、自动化成本控制，同时支持你的业务目标。

## 合理配置云资源

合理配置是负责任云成本管理的核心。这是优化云资源分配以匹配您的应用程序和工作负载实际需求的做法。合理配置是一个关键策略，它涉及确保您既不会过度配置（可能导致性能问题）也不会配置不足（可能导致不必要的成本）。团队通常从部署服务或应用程序开始，并分配比实际需要的更多资源，以防性能不佳。没有准确的使用数据，很难估计精确的需求。配置不当的自动扩展也可能导致过度分配资源。

虽然计算资源（虚拟机 VM 和容器）通常是合理配置努力的初始焦点，但这也适用于其他云资源，包括：

存储

合理配置涉及根据使用模式选择适当的存储层和卷。这包括块存储（如 Amazon EBS 或 Google Persistent Disk）、文件存储和对象存储（例如 Amazon S3 或 Google Cloud Storage）。

数据库

合理配置涉及选择合适的数据库实例类型、存储配置和数据库性能及容量，以降低成本。

网络

合理配置包括优化使用网络资源，如负载均衡器、VPN 网关和带宽。合理配置可以帮助最小化与过度配置的网络资源相关的额外成本。

### FinOps Inform 阶段所需的云成本可见性

有效的优化需要了解您的资源利用模式和相关的成本。这就是 FinOps Inform 阶段发挥作用的地方。为了获得对云成本的精确理解，工程师必须能够访问详细的云分析，这些分析突出显示了资源——计算、存储、内存等——的使用情况以及它们如何映射到实际支出。

这可能很复杂。通常，成本由财务团队管理，工程师可能甚至无法访问财务数据。如果他们可以访问，他们可能对他们的云资源实际上如何转化为美元和美分只有有限的了解。挑战在于为工程师提供清晰、简洁且可操作的可见性，以便了解他们应用程序消耗的特定资源相关的成本。这在复杂的多应用程序或多租户云环境中尤其困难，因为成本可以分布在许多资源上。

现代云成本管理工具，如 Harness CCM 和各种云服务提供商的工具，通过为工程师提供自助可见性来帮助弥合这一差距，使他们能够看到应用程序、微服务、集群和环境的真实成本。这些工具通过提供工程师管理云成本所需的环境，使他们能够直接管理云成本，而无需依赖财务或运营团队提供这些信息。与传统的系统不同，传统的系统仅限于基本的基础设施视图，现代工具与云服务集成，并提供详细的、应用级别的成本数据。

### 从信息阶段过渡到优化阶段

一旦你对云的使用和成本有了清晰的理解，你就可以进入 FinOps 的优化阶段。你可以基于数据驱动决策，调整你的云资源以实现更高的效率和成本效益。通过了解成本和使用模式，你可以自信地做出符合性能和预算限制的改变。

AI 驱动的工具在这里变得不可或缺，消除了手动监控和调整资源以满足需求的需要。通过持续监控和如闲置资源检测和资源使用分析等功能，工具可以帮助识别低效之处，并推荐调整或自动调整 CPU、内存和存储配置。

然而，优化应该逐步进行。从小的、渐进的改变开始，并根据观察到的效果持续优化你的策略。AI 驱动的工具可以通过预测未来的使用情况，并利用过去的小规模改变作为反馈来做出后续的微调动作来帮助。这种迭代过程是 FinOps 运营阶段的关键方面。通过这种方式微调你的云环境，你可以验证性能要求，确保你的应用程序运行高效，同时不牺牲用户体验或应用程序性能。

## 利用基于承诺定价和即时实例

利用基于承诺定价模型和即时实例是降低云成本的其他策略。

基于承诺的定价涉及在定义的期间内承诺一定水平的云资源使用量，以换取显著的折扣。由像 AWS、Microsoft Azure 和 Google Cloud 这样的主要云服务提供商提供，这些模型通常被称为预留实例或承诺使用合同，与按需定价相比，可以节省高达 80%的费用。更长的承诺期（通常为一到三年）和更高的预付款产生最大的折扣。例如，AWS 的预留实例在计算资源上提供 30%到 72%的折扣，而 Google Cloud 的承诺使用合同在计算、存储和其他服务上提供类似节省。这些服务非常适合可预测的工作负载，如稳态应用程序，但需要准确的预测以避免过度或不足配置。

与此相反，Spot instances 提供了一种动态降低成本的方式，通过利用未使用的云容量并以大幅折扣出售——比按需价格低 90%。这些实例非常适合非关键、灵活的工作负载，如批量处理、数据分析或开发环境，因为它们可以以最少的提前通知中断。通过结合基于承诺的定价来稳定工作负载和 Spot instances 来处理灵活或短暂的任务，企业可以实现成本效率和操作灵活性的强大平衡。高级工具和 AI 驱动的预测可以帮助组织有效导航这些模型，确保资源分配最优化和最大程度地节省成本。

### 关键考虑因素

当利用基于承诺的定价模型和 Spot instances 来优化云成本时，你需要考虑它们的独特优势和挑战，以最大化其价值同时减轻潜在风险。

基于承诺的定价模型非常适合可预测、稳定的工作负载。然而，它们需要准确预测长期资源使用量，通常为一到三年。使用不当可能导致过度承诺，导致资源未充分利用和浪费成本，或未充分承诺，可能导致更高的按需费用。灵活性也有限，因为这些承诺将企业锁定在特定的实例类型、地区或服务级别，具体取决于提供商。为了解决这些挑战，你必须建立以下实践：

+   分析历史使用数据以提高预测准确性。

+   当有可用的可转换或灵活选项时，根据需求变化调整承诺。

+   定期监控和优化资源使用，以与承诺保持一致。

Spot instances 的短暂性质，可能需要很少的通知就被终止，这需要仔细规划和工作负载调整。你必须：

+   确保工作负载能够承受中断而不会造成重大影响。

+   实施检查点或自动作业恢复机制以最小化中断。

+   监测市场趋势以预测 Spot instances 的可用性和价格波动。

结合基于承诺的定价和现货实例的混合策略可以提供两者的最佳结合：可预测的成本节约和低成本的动态扩展。为了有效地实施混合策略，您的实践必须：

+   评估工作负载特征以确定基于承诺的资源与现货容量的适当组合。

+   利用自动化工具，如云原生自动扩展和工作负载编排系统，以优化使用。

+   持续评估和改进策略以适应不断变化的业务需求和负载模式。

### 人工智能如何帮助

显然，在基于承诺的定价模型和现货实例之间进行优化很快就会变得复杂。现代人工智能工具，包括通用人工智能（GenAI），可以通过准确的预测、动态优化和无缝自动化来帮助克服这些挑战。

对于基于承诺的定价，人工智能代理，如 Harness FinOps 代理，可以分析历史使用模式并精确预测未来的资源需求，从而降低过度或不足承诺的风险。人工智能工具还可以确定预留资源和按需资源的最优组合，同时持续监控和调整承诺以适应不断变化的工作负载。此外，人工智能系统可以检测资源消耗中的异常，确保企业避免低效或罚款。

对于现货实例优化，人工智能可以通过预测可用性和定价趋势来解决其不可预测性，从而实现对中断容忍型工作负载的更智能的调度。人工智能驱动的任务编排工具自动化任务的部署和扩展，当现货实例中断时，动态地将它们转移到替代资源。此外，人工智能优化检查点和恢复过程，确保工作负载可以高效地恢复，同时最大限度地减少停机时间。这对于批处理或数据分析等任务尤其有价值。

通过整合这两种模型，人工智能可以创建一个智能的混合策略，平衡预留资源的成本效率和现货实例的灵活性和低价格。它确保根据工作负载需求进行最佳资源分配，预测需求激增以主动调整资源，并提供持续成本优化的可操作见解。

## 使用人工智能管理容器成本

容器化架构在现代应用程序开发中扮演着重要的角色。*容器*将应用程序及其依赖项打包成轻量级、可移植的单位，使它们能够在不同的环境中一致运行。这些容器在*节点*上运行，节点是提供底层资源的物理或虚拟机（通常称为实例）。多个节点组合形成一个*集群*，这是一个协调的机器组，它们协同工作以运行和管理容器。在节点内部，容器通常被分组到*pod*中，这些 pod 共享资源，并作为一个单一的操作单元一起部署。这些集群的管理通过*编排*来完成，其中像 Kubernetes 这样的工具自动化了容器的部署、扩展和生命周期管理。

虽然容器化架构在跨不同环境提供无与伦比的便携性、资源效率和适应性方面具有优势，但管理容器化环境的云成本与在虚拟机环境中管理成本不同。共享的底层基础设施使得成本跟踪变得复杂。在虚拟机环境中，每个虚拟机都是一个独立的单元，具有固定的资源，因此成本更容易分配。然而，当多个容器在单个服务器实例上运行时，你的云账单将只提供底层服务器的使用情况，而不是单个容器的使用情况。这使得难以准确理解容器之间的使用成本，因为你需要更多关于 CPU 和内存等资源如何共享的详细信息。缺乏可见性在成本归属方面带来了挑战，使得在容器级别跟踪和管理费用变得更加困难。

容器化并不消除对 FinOps 的需求；对于容器化应用程序，财务问责制和成本优化的原则依然至关重要。除非你依赖云管理的容器平台，否则你必须收集关于运行容器时服务器资源使用情况的相关补充数据。这包括跟踪每个容器在共享服务器实例上消耗的 CPU、内存和存储的比例。将这种细粒度的资源使用数据与你的云计费信息相结合，可以实现准确的成本分配，确保团队和应用程序对其资源消耗负责。没有这种洞察力，在容器化环境中有效地管理和优化成本就会变得具有挑战性。

AI 再次可以发挥重要作用。AI 帮助的关键方式之一是通过智能资源分配：它分析历史使用模式和负载，以预测容器所需的资源需求，建议最佳的 pod 配置、扩展策略和节点大小。这减少了过度配置，因此容器只需它们需要的资源，而不会浪费容量。此外，AI 还可以实现动态工作负载扩展，在低使用期间自动缩减工作负载，这补充了 Kubernetes 自动扩展功能，以最大化成本节约。

AI 还通过预测和警报改善成本控制。通过分析历史使用情况并识别趋势，AI 模型可以预测未来的 Kubernetes 相关成本，提供准确的预测，帮助团队有效规划预算。警报可以通知利益相关者潜在的预算超支，在成本失控之前采取纠正措施。此外，AI 可以智能地在集群、节点甚至区域之间调度工作负载，以在保持性能、合规性和可靠性的同时最小化云支出。

## 将成本节约目标与商业目标对齐

虽然 AI 可以使寻找成本节约变得更容易，但请记住 FinOps 原则，即决策是由云的业务价值驱动的。我们权衡云成本节约与我们对质量、速度和创新的商业需求至关重要。

考虑一家大型零售公司，在销售旺季之前准备推出新平台。其主要目标是确保平稳且成功推出，即使这意味着更高的初始云成本。准时且无瑕疵的推出带来的收入增加，以及提供卓越的客户体验，可能超过立即降低云成本的需求。零售商可能会接受更高的初始支出，以确保成功推出，并知道它可以优化云使用并在长期内降低成本。

虽然成本节约是一个重要的考虑因素，但请记住，战略性地投资以最大化商业利益同样重要。诸如实现快速扩展以加速增长、增加收入、缩短交付时间、提高客户满意度和降低劳动力成本等因素，都应与支出一起考虑。

# 自动化云治理和合规性

到目前为止，我们已经探讨了 FinOps 的核心原则，并研究了优化云资源的战术方法，从调整大小和利用折扣到管理容器化环境。但您如何确保这些实践始终如一地应用，并与组织的更广泛目标保持一致？这就是云成本治理的作用所在。云治理框架是一套政策、程序和最佳实践，定义了组织如何使用和管理其云资源。将这些视为安全且高效采用云和成本管理的蓝图。在本节中，我们将探讨一个强大的治理框架如何将云财务管理各个方面结合起来。最后，我们将探讨自动化和人工智能在执行治理策略中的作用。

## 实施云治理策略

为您的云战略设定明确的目标是创建一个坚实的云成本治理框架的第一步。这有助于确保您的云运营与业务优先事项保持一致，如管理成本、推动创新和支持增长。与您的战略相关的特定成功指标可能包括减少 20%的云浪费、实现 95%的标记合规性或限制每月成本差异在 5%以内。

一个有效的治理策略应涵盖包括以下领域：

成本可见性

这包括考虑诸如您的资源标记策略等问题，我们将在下一节中详细讨论。成本可见性策略还可以包括使用 Google Cloud Billing 或与 Slack 或电子邮件通知集成的自定义脚本来配置意外成本激增的警报。

预算编制和预测

策略应设定团队特定的预算，并留有应对意外增长的缓冲。

优化流程

策略应包括优化实践，例如定期分析资源使用情况并调整实例大小以更好地匹配工作负载，为可预测的工作负载预先购买预留或节省计划，以及使用 spot 实例来降低容错工作负载的计算费用。

安全性和合规性

最后，策略应实施基于角色的访问控制（RBAC）以限制资源访问。使用 Prisma Cloud 或 AWS Security Hub 等工具自动检查以确保符合 GDPR 或 HIPAA 等法规。

人工智能和自动化使自动执行策略变得更加容易，从而减少了错误或疏忽的可能性。例如，人工智能驱动的工具可以在资源上添加或检查标签，如果未遵循策略，则会发送实时警报。这些工具还可以帮助分析基础设施，并建议可以设置以改善整体成本、安全和合规性的策略。此外，它们通过标记异常活动并确保系统在无需持续手动检查的情况下保持合规，帮助避免意外成本激增。

自动化简化了容易出错的过程，例如设置访问控制或分配资源。通过自动化这些任务，您可以降低安全问题的风险，并提高云环境运行的流畅性。将自动化与明确的政策相结合，确保云的使用保持成本效益、安全，并与组织目标保持一致。

## 通过自动化执行预算限制

自动化在执行预算限制方面至关重要，尤其是在具有动态资源分配的环境下。预算超支通常是由于资源的无序扩张、意外的使用激增或未能实时监控成本所导致的。当接近支出阈值时，监控、警报并采取行动的机制可以自动执行政策，例如关闭未充分利用的资源、缩减实例或在新资源供应接近预定义限制时限制新的资源分配。这确保了成本保持在财务目标内，而无需完全依赖手动干预，手动干预容易延误和出错。

人工智能可以通过预测成本可能超出预算的时间来更进一步。这项技术可以预测支出何时将超过预算，并自动采取措施防止这种情况发生。例如，一个 AI 系统可能会看到某个项目的云资源使用量正在迅速增长，并预测到月底将超出预算。然后系统可以采取行动，例如通过调整资源到更便宜的选项或通知团队进行调整。例如，在大型销售活动期间，AI 可以确保所需资源到位，同时不让成本失控，自动平衡成本和性能。AI 工具可以潜在地将外部业务指标（如销售数据、员工人数和行业市场动态）与历史使用模式和这些外部因素的关联结合起来，并将它们纳入预测引擎中。

## 通过自动化确保标签合规性

成本分配对于云成本管理至关重要，因为它提供了对云资源如何被使用以及由谁使用的透明度。准确地将成本分配给特定的团队、项目或应用程序，可以创造问责制并鼓励负责任的云使用。这种透明度确保每个团队都是成本优化努力的参与者。

标签是成本分配的关键。标签是附加到云资源上的元数据标签，提供了有关其目的和所有权的信息。例如，您可以使用一个设置为生产、开发或测试的环境标签集来区分资源使用阶段。您可以使用成本中心标签将资源链接到业务单元或预算。云账户是另一种成本分配工具。通过创建一个分层账户系统——通常由一个根账户监督不同环境、团队或项目的子账户——您可以集中化计费和治理，同时保持单个账户的灵活性。标签与云账户层次结构相结合，可以实现成本准确跟踪和分配。例如，为虚拟机添加相关细节的标签允许轻松筛选和分析云账单，以了解按项目、部门或应用程序的支出模式。

有效的标签策略应该是全面的，并且在整个组织中易于理解。该策略应定义要跟踪的关键信息，例如项目名称、部门和应用程序名称，并使用清晰、简洁和一致的标签名称。

需要适当的工具来确保所需标签的持续使用。手动标签可能不足，尤其是在复杂的多云环境中。人为错误可能导致不一致性、缺失标签或错误的值，阻碍成本分配和资源跟踪。在这里，自动化可以强制执行标签策略并验证所有云平台上的标签值。

自动化工具还可以定期审计标签，以识别和修复或报告不符合规定的资源，确保在整个云环境中的一致性和准确性。这不仅节省了时间并减少了错误，还加强了您的云治理和成本优化努力。AI 还可以帮助将多个相似标签的变体归一化为一个综合标签变体，从而减少噪声。

## 分配共享平台和服务的成本

成本分配的另一个挑战是共享平台和服务的使用，这是现代云架构的常见特征。当基础设施或资源在团队和应用程序之间共享时，准确划分成本变得更加复杂。现代、基于 AI 的工具在根据资源使用模式和依赖关系分配成本方面表现出色。

# 云成本管理以实现环境可持续性目标

随着组织迁移到云端，将成本管理策略与可持续性目标相一致可以帮助您既降低运营成本，又减少对环境的影响。除了典型的仅关注节省金钱的焦点之外，绿色云成本管理方法还涉及积极选择环保选项并跟踪您的环境影响。以下实践展示了如何实现这些双重效益：

适当规模和优化云资源

持续监控云使用情况，以识别和消除未充分利用或闲置的资源。合理配置确保仅提供必要的资源，从而降低成本和能源消耗。实施自动扩展机制，根据实时需求调整资源分配，防止过度配置和不必要的能源使用。您还可以实施自动停止，关闭未使用的资源，从而实现它们的零碳足迹。

利用可再生能源和绿色云服务提供商

选择数据中心由可再生能源供电的云服务提供商。例如，[Google Cloud Platform 的一些地区使用 100%的可再生能源](https://oreil.ly/R6bQM)，使组织能够通过环保基础设施选择来减少其碳足迹。您还应该优先考虑碳强度较低的提供商和地区。

实施成本分配和问责制

将云成本分配给每个部门、项目或团队，以提高透明度并鼓励负责任的资源使用。这不仅优化了支出，还促进了可持续性努力的问责制。使用标记、标准化工作流程和自动化治理政策，确保资源高效使用并符合可持续性目标。

采用节能工作负载调度

将非紧急或批量工作负载安排在非高峰时段或在能源成本和碳强度较低的地区运行，进一步降低支出和排放。利用人工智能驱动的工具分析使用模式，并推荐最优的工作负载放置方案，以实现成本和环境影响的高效。

将可持续性指标整合到云战略中

建立负责设定和跟踪可持续性目标（如温室气体排放、能源消耗和用水）的“绿色团队”。您还可以将可持续性关键绩效指标（KPI）纳入云管理仪表板（例如 AWS 提供的仪表板）中，并通过游戏化可持续性努力来激励团队寻找降低成本和环境影响的新方法。

跟踪碳足迹

使用提供碳跟踪功能的云管理平台，以衡量云使用的环境影响并生成碳抵消。像 Cloud Carbon Footprint 和 Harness Cloud Cost Management 这样的工具为组织提供了最佳案例估计，以衡量、监控和减少云支出及其相关的碳排放。您还可以将云成本优化的节省重新投资于碳信用或其他环保倡议，将财务效率转化为可衡量的气候行动。

通过结合这些策略，组织可以将成本节约直接与可持续性目标相关联。这种方法不仅提高了运营和财务绩效，而且也展示了在数字时代对环境管理的明确承诺。

# 云成本管理中 AI 的未来

云成本管理工具正在迅速发展，以利用人工智能洞察力来简化优化云使用的工作。我们看到一个未来，其中人工智能通过创新的新功能推动云成本管理。

例如，自然语言界面和对话式人工智能有望使云成本管理更加易于访问。新兴的界面将使用户能够以简单、对话的方式与复杂系统互动。用户不必导航仪表板或解释详细报告，他们可以提出问题，例如，“这个月是什么导致我的云支出增加？”或“哪些服务超出了预算？”并收到清晰、可操作的回答。这降低了非技术利益相关者的技术障碍，并使组织中的团队能够参与云成本数据。例如，一位 FinOps 从业者可能会使用集成到 Slack 或 Microsoft Teams 中的对话式人工智能工具请求，“显示超出预算的前五项项目”，并立即收到一份列表以及优化建议。

我们也看到人工智能在平衡成本节约的同时，最大限度地减少云计算的环境影响中扮演着越来越重要的角色。优化工作负载、合理配置资源和使用节能的云区域通常可以实现这两个目标，尽管可持续性努力有时可能需要前期投资。AWS、Google Cloud 和 Azure 已经提供了客户碳足迹工具、碳感知套件和可持续性计算器等工具，以深入了解云计算的碳影响。

这些只是人工智能将为我们管理云使用带来的一些功能示例。云服务既强大又复杂。现在和未来使用人工智能和现代工具将帮助您优化资源分配、利用成本效益定价模型，并在云中实现更大的财务控制和可持续性。

# 摘要

随着云计算支出在各个行业激增，管理云成本已成为组织面临的一个越来越复杂和紧迫的问题。从传统的本地基础设施向基于云的环境的转变带来了更大的灵活性和可扩展性，但也引入了新的成本不可预测性和运营复杂性。为此，FinOps 学科应运而生，强调跨职能协作、共同责任以及使用实时数据来优化云支出并最大化商业价值。

现代策略利用人工智能和自动化来解决资源过度配置、多云复杂性和成本分配等问题，实现了诸如合理规模、利用基于承诺的定价和即时实例以及高效管理容器化环境等实践。人工智能驱动的工具提升了可见性、预测能力和治理政策的执行力度。它们自动化了诸如标记、异常检测和预算限制等任务，以确保成本控制、合规性以及与商业和可持续性目标的协调一致。将人工智能和自动化集成到云成本管理中，最终使组织能够优化支出、提高运营效率并支持环境可持续性倡议。
