<html><head></head><body>
<div class="calibre1" id="sbo-rt-content"><h1 class="tochead" id="heading_id_2">4 <a id="idTextAnchor002"/><a id="idTextAnchor003"/>AI-assisted testing for developers</h1>
<p class="co-summary-head">This chapter covers<a id="idIndexMarker000"/><a id="marker-55"/></p>
<ul class="calibre5">
<li class="co-summary-bullet">Developing unit tests and production code with GitHub Copilot</li>
<li class="co-summary-bullet">Developing unit tests and production code with ChatGPT</li>
</ul>
<p class="body">According to a poll on dev ecosystems conducted by JetBrains in 2022, 81% of respondents have a developer-to-QA ratio greater than one to one. Forty percent reported that they had “less than 1 QA per 10 developers,” and only 1% reported that they had “more QAs than developers” (see <a class="url" href="https://www.jetbrains.com/lp/devecosystem-2022/testing">www.jetbrains.com/lp/devecosystem-2022/testing</a>.)</p>
<p class="body">Understanding and building in quality is essential to delivering value to our users, yet the ratio between development and testing is nearly always imbalanced, and this is so for many reasons. Some organizational leaders choose to educate developers to build in quality with the support of quality coaches, and others simply don’t want to invest in roles that advocate for testing and quality. Either way, this situation puts pressure on everyone on a team to deliver high-quality applications. So, how can artificial intelligence (AI) tools help relieve this pressure?</p>
<p class="body">This chapter will specifically focus on how large language model (LLM) AIs, such as GitHub Copilot and ChatGPT, can help developers build quality into our work. Rather than thinking of these AI tools as replacements for developers and testers, we’ll learn how they can guide us as we carry out activities that build in quality as we develop, as well as demonstrate how we can use AI tools to improve quality and identify risks when testing is a limited resource to take advantage of.<a id="idIndexMarker001"/></p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Setting up Copilot</p>
<p class="fm-sidebar-text">In this chapter, we’ll be looking at examples of GitHub Copilot in use. To familiarize yourself with Copilot before we try out these examples, you can find installation and operation instructions in appendix B.<a id="idIndexMarker002"/><a id="idIndexMarker003"/></p>
</div>
<h2 class="fm-head" id="heading_id_3">4.1 Examining the rise of the automated developer</h2>
<p class="body">In April 2023, Similarweb, a market competition analysis company, reported that Stack Overflow’s traffic in the preceding month had dropped by 14%. According to Similarweb, the cause was a rise in developers switching from Stack Overflow to tools such as GitHub’s Copilot and ChatGPT (see <a class="url" href="https://mng.bz/5Oy4">https://mng.bz/5Oy4</a>). Whether this is a sign of an ongoing trend of developers jumping ship or an anomaly that will eventually balance out, reports such as this one demonstrate the sweeping changes that LLM-based AI tools (LLMs) are introducing to the role of a developer.<a id="idIndexMarker004"/><a id="idIndexMarker005"/><a id="marker-56"/></p>
<p class="body">As a tester, it’s an interesting change to witness. For many years, as test automation tools became more advanced, I had discussions with developers about whether testing could be replaced by automated testing tools. Now, with LLMs that are trained against billions of lines of code from public and private repositories, conversations have turned toward whether developer roles can be automated. For example, a tool such as ChatGPT can be sent a prompt such as</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Write me some Java code that sends an HTTP request to a booking API</p>
</td>
</tr>
</tbody>
</table>
<p class="body">and it will then use its billions of trained weights and balances to return a working code example like this one:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
 
public class BookingAPIClient {
    public static void main(String[] args) {
        String apiUrl = "https://api.booking.com/endpoint"; // Replace with the actual API endpoint URL
 
        try {
            URL url = new URL(apiUrl);
            HttpURLConnection connection = (HttpURLConnection) 
            <span class="fm-code-continuation-arrow">➥</span>url.openConnection();
 
            // Set the request method (GET, POST, etc.)
            connection.setRequestMethod("GET");
 
            // Set request headers if required
            connection.setRequestProperty("Content-Type", 
            "application/json");
            connection.setRequestProperty("Authorization", 
            "Bearer YOUR_ACCESS_TOKEN");
 
            // Get the response code
            int responseCode = connection.getResponseCode();
            System.out.println("Response Code: " + responseCode);
 
            // Read the response
            BufferedReader reader = new BufferedReader(new 
            InputStreamReader(connection.getInputStream()));
            String line;
            StringBuilder response = new StringBuilder();
            while ((line = reader.readLine()) != null) {
                response.append(line);
            }
            reader.close();
 
            // Print the response
            System.out.println("Response: " + response.toString());
 
            // Close the connection
            connection.disconnect();
 
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-57"/>From just one basic prompt, we can use LLMs to create workable code (updating the <code class="fm-code-in-text">apiUrl</code> to a real API returned a positive result). So, it’s not surprising that there are tools that combine prompts attempting to automate development work. Tools such as AutoGPT (<a class="url" href="https://github.com/Significant-Gravitas/AutoGPT">https://github.com/Significant-Gravitas/AutoGPT</a>) and MetaGPT (<a class="url" href="https://github.com/geekan/MetaGPT">https://github.com/geekan/MetaGPT</a>) have appeared to work as autonomous agents, generating their own prompts based on initial questions to solve complex problems. Although these tools are in their infancy, it’s clear why the more hyperbolic claims of developers being automated out of their role are bandied about.</p>
<p class="body">As someone who has spent much of his career explaining why test automation is not a suitable replacement, it’s tempting to enjoy the schadenfreude of seeing developers defending their roles in the same way, but instead, it’s more valuable to learn from the experiences of testers and the automation topic. Just as a tester’s role can’t be fully automated, neither can a developer’s role. A development role is more than just the code that is produced. The solutions that developers create are a product of analytical skills, problem-solving, and design thinking. LLM tools give the impression of having these skills, which is not true.</p>
<p class="body">Instead, developers find success with LLM tools by using them to enhance their own abilities: they may use tools such as Copilot to quickly and effectively create code that they want to build or seek advice from ChatGPT to solve issues or learn new APIs. These principles can also be applied to improving a developer’s ability to build quality into an application. By combining techniques such as test-driven design (TDD) or the power of LLMs, developers can increase their productivity while ensuring that their analytical and design skills lead the charge. To help demonstrate this symbiosis, let’s explore the following two examples:<a id="idIndexMarker006"/></p>
<ul class="calibre5">
<li class="fm-list-bullet">
<p class="list">Using Copilot to rapidly generate unit checks and production code for TDD loops</p>
</li>
<li class="fm-list-bullet">
<p class="list">Emulating pairing with a simulated developer, courtesy of ChatGPT</p>
</li>
</ul>
<p class="body">Through the examples, you’ll learn to set up and use these LLM tools, as well as appreciate the balance that is possible to strike between the power of AI and the abilities of developers.<a id="idIndexMarker007"/><a id="idIndexMarker008"/></p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Experiences may vary</p>
<p class="fm-sidebar-text">Given that Copilot relies on predictive algorithms that are frequently trained on newly added code and updated APIs/libraries, it’s worth highlighting that the output and experience you have when following the upcoming examples may be different from what has been recorded. Keep in mind that the goal of this chapter is not to replicate the examples 100%, but rather for you to become comfortable with using LLMs to assist our work in a way that helps us build in quality.</p>
</div>
<h2 class="fm-head" id="heading_id_4">4.2 Pairing with LLMs</h2>
<p class="body"><a id="marker-58"/>We’ve already seen that LLMs are probabilistic in nature, and as a result, it can be useful to think of them as outputting simulations of roles rather than inhabiting specific roles. An LLM has no more awareness of being a software tester than it does of being a restauranteur. But with prompt engineering, we can create prompts that frame an LLM’s probabilistic output to simulate a role, helping us to create rubber ducks to interact with. This can be useful in a development capacity when testing resources are limited in either availability or capability. So, let’s take a look at a couple of sample prompts we can use to elicit feedback that can help us improve the quality of our work and our products.<a id="idIndexMarker009"/><a id="idIndexMarker010"/></p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Wait, what—rubber duck?</p>
<p class="fm-sidebar-text">When facing a problem that we have no solution for, it can help to verbalize the problem to others to find an answer. By articulating the problem to another person, we sometimes find that the solution presents itself to us. However, there isn’t always an opportunity to speak with colleagues; therefore, some developers will verbalize their issues to a rubber duck (or another item). Although we’re sharing our challenges with an inanimate object, the experience is the same: verbalizing our challenges tricks our brains into finding solutions.</p>
</div>
<h3 class="fm-head1" id="heading_id_5">4.2.1 Analyzing ideas</h3>
<p class="body">Our first prompt is inspired by the shift-left testing mindset that some teams apply to help build quality into applications as early as possible. <i class="fm-italics">Shift-left</i> testing means bringing testing analysis earlier into the development process, ideally around the point at which ideas are being discussed and details clarified. This process results in many questions being asked that help us identify issues earlier, deliver valuable features, and improve the quality of our products. Shift-left activities are an invaluable approach to improving quality and should be encouraged regardless of the use of AI in the development process. However, by introducing LLMs into the process, we can use prompts to generate questions that might reveal assumptions or misunderstandings or questions that we can simply disregard.<a id="idIndexMarker011"/><a id="idIndexMarker012"/><a id="idIndexMarker013"/><a id="marker-59"/></p>
<p class="body">Let’s take a look at a sample prompt that can be used to rapidly generate questions that might be useful. We use delimiters to inform the LLM where the data to analyze is found:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a software testing expert. Analyze the text delimited by triple hashes and generate questions that will clarify ambiguities in the text.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">We then set a series of rules around how questions are asked and output:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table-list-a">   *   Questions will be generated by using the What, Where, Why, When, Who and How heuristic</p>
<p class="body-table-list-a">   *   Multiple questions can be identified for each quality characteristic</p>
<p class="body-table-list-a">   *   The quality characteristics we care about are: Accuracy, Security and Accessibility</p>
<p class="body-table-list-a">   *   Output questions in the format of Question - Explanation</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Few-shot prompting allows us to create an example of how we expect the output to look:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Example:</p>
<p class="body-table">What does relevant mean?</p>
<p class="body-table">The acceptance criteria says relevant search results, but how do we determine what is relevant and what isn’t?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">We then enter the data for analysis into the delimited section of the prompt:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">###</p>
<p class="body-table">As a B&amp;B owner</p>
<p class="body-table">I want to be able to manage user access</p>
<p class="body-table">So that I can allow different levels of access to multiple users</p>
<p class="body-table">Features:</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   DB is configured with an Admin user</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   Guests are asked to create an account to make a booking</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   Admin can see the accounts created on the platform and can delete them</p>
<p class="body-table">###</p>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-60"/>The prompt outlines instructions for an LLM to analyze a user story and acceptance criteria and return a list of questions for us to consider. Notice how we also provide context in the quality characteristics instruction. If we want to focus on different characteristics, we can update these as well.</p>
<p class="body">Entering this prompt into ChatGPT returned the following result:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Accuracy:</p>
<p class="body-table-list-a">   1.  What criteria are used to determine the accuracy of user access management?</p>
<p class="body-table-ind-a">Explanation: The text mentions managing user access, but it doesn’t specify how accuracy is ensured in granting different levels of access to multiple users.</p>
<p class="body-table-list-a">   2.  How is the system ensuring that the right access levels are assigned to users?</p>
<p class="body-table-ind-a">Explanation: The text refers to allowing different levels of access to multiple users, but it doesn’t explain the mechanism for guaranteeing the accuracy of access permissions.</p>
<p class="body-table">Security:</p>
<p class="body-table-list-a">   1.  Who has access to the database configured with an Admin user?</p>
<p class="body-table-ind-a">Explanation: The text mentions configuring the database with an Admin user, but it doesn’t specify who has access to this Admin account and how its security is maintained.</p>
<p class="body-table-list-a">   2.  How is the platform protecting user account information and data?</p>
<p class="body-table-ind-a">Explanation: The text talks about guests creating accounts for bookings, but it lacks details about the security measures implemented to safeguard user data.</p>
<p class="body-table-list-a">   3.  What security measures are in place to prevent unauthorized access to user accounts?</p>
<p class="body-table-ind-a">Explanation: The text mentions that Admin can see and delete accounts, but it doesn’t explain how unauthorized access to such account management functionalities is prevented.</p>
<p class="body-table">Accessibility:</p>
<p class="body-table-list-a">   1.  What levels of accessibility are provided to different types of users?</p>
<p class="body-table-ind-a">Explanation: The text mentions managing user access with different levels, but it doesn’t clarify what those levels are and how they vary based on user types.</p>
<p class="body-table-list-a">   2.  How are guests guided to create accounts for booking, and is the process accessible to all users?</p>
<p class="body-table-ind-a">Explanation: The text states that guests are asked to create accounts, but it doesn’t specify how this process is carried out and if it meets accessibility standards.</p>
<p class="body-table-list-a">   3.  What measures are taken to ensure the platform’s accessibility for users with disabilities?</p>
<p class="body-table-ind-a">Explanation: The text doesn’t provide information on how accessibility is addressed for users with disabilities, and it’s essential to understand the measures taken to accommodate their needs.</p>
<p class="body-table-list-a">   4.  Where can we find information about the platform’s accessibility features?</p>
<p class="body-table-ind-a">Explanation: The text mentions nothing about the platform’s accessibility features, so it would be helpful to know where this information is available.</p>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-61"/>Reading through the response, we can see that there is an interesting collection of questions ranging in quality. For example, consider this question:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">How are guests guided to create accounts for booking, and is the process accessible to all users?</p>
<p class="body-table">Explanation: The text states that guests are asked to create accounts, but it doesn’t specify how this process is carried out and if it meets accessibility standards.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">This is a helpful question that encourages us to consider in more detail the statement “Guests are asked to create an account to make a booking, ”found in our user story. We could consider this question and think about how we would design the booking process to make it accessible to all types of users.</p>
<p class="body">However, other questions are perhaps not quite as good. For example,</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">What criteria are used to determine the accuracy of user access management?</p>
<p class="body-table">Explanation: The text mentions managing user access, but it doesn’t specify how accuracy is ensured in granting different levels of access to multiple users.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">What makes this question problematic is its reference to the quality characteristic <i class="fm-italics">accuracy</i>. Typically, accuracy would be more focused on the accuracy of data processed or stored (think bank interest rate calculations). Instead, the phrase “accuracy of user access” feels like an odd way to describe the rules set around users and what they can access. Ultimately, it’s up to us to evaluate each question for suitability and use. Some questions can encourage us to build products that are more closely aligned with what a user wants and help us avoid errors, whereas other generated questions will either make little sense or cover topics already considered.</p>
<p class="body">We’ll come back to this prompt and how we might use it during the development of a feature, but first, let’s take a look at how we can repurpose this prompt to review our code.<a id="idIndexMarker014"/><a id="idIndexMarker015"/></p>
<h3 class="fm-head1" id="heading_id_6">4.2.2 Analyzing code</h3>
<p class="body">Just as we can prompt an LLM to analyze written-down ideas, we can also have it review code and help us identify risks. Using this prompt is akin to simulating the role of a developer or tester that you are pairing with by having them analyze your work as you develop to offer suggestions for consideration. Let’s check out a prompt that could be of use for this type of activity. We use delimiters to signal where the code will be, as well as check for assumptions if no code is given:<a id="idIndexMarker016"/><a id="idIndexMarker017"/><a id="marker-62"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a software testing expert. Analyze the code delimited by triple hashes and identify risks that might impact the code. If no code is provided, respond with “No risks could be found.”</p>
</td>
</tr>
</tbody>
</table>
<p class="body">We then provide instructions around quality characteristics and output structure:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table-list-a">   *   Risks must be related to the quality characteristics: Performance, security and interoperability</p>
<p class="body-table-list-a">   *   Multiple risks can be identified for each quality characteristic</p>
<p class="body-table-list-a">   *   Output identified risks in the format of Risk - Quality Characteristic - Explanation</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Few-shot prompting allows us to give an example of output structure:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Example:</p>
<p class="body-table">Overflow - Security - Adding in large integers as parameters might cause the method to trigger a buffer overflow.</p>
<p class="body-table">Code is provided within the instructed delimiters:</p>
<pre class="programlisting">###
public BookingResult createBooking(Booking bookingToCreate) throws
<span class="fm-code-continuation-arrow">➥</span>SQLException {
    if(dateCheckValidator.isValid(bookingToCreate.getBookingDates())) {
        if (bookingDB.checkForBookingConflict(bookingToCreate)) {
            return new BookingResult(HttpStatus.CONFLICT);
        } else {
            CreatedBooking createdBooking = 
            <span class="fm-code-continuation-arrow">➥</span>bookingDB.create(bookingToCreate);
 
            if(bookingToCreate.getEmail() != null &amp;&amp; 
            <span class="fm-code-continuation-arrow">➥</span>bookingToCreate.getPhone() != null){
                MessageBuilder messageBuilder = new MessageBuilder();
                Message message = messageBuilder.build(bookingToCreate);
 
                messageRequests.postMessage(message);
            }
 
            return new BookingResult(createdBooking, 
         <span class="fm-code-continuation-arrow">➥</span>HttpStatus.CREATED);
        }
    } else {
        return new BookingResult(HttpStatus.CONFLICT);
    }
}
###</pre>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-63"/>After I sent the prompt with the sample code and quality characteristics to ChatGPT, the following output was returned:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Based on the provided code snippet, let’s analyze the potential risks that might affect the quality characteristics of Performance, Security, and Interoperability:</p>
<p class="body-table-list-a">   •   Performance - Nested Validation:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The nested validation checks (<code class="fm-code-in-text1">dateCheckValidator.isValid</code> and <code class="fm-code-in-text1">bookingDB.checkForBookingConflict</code>) may lead to performance issues, especially when dealing with a large number of bookings.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: If the system has to process a substantial amount of bookings, the nested validation can result in increased execution time and resource consumption.</p>
<p class="body-table-list-a">   •   Performance - Message Posting:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The message posting (<code class="fm-code-in-text1">messageRequests.postMessage</code>) might introduce performance bottlenecks, affecting the overall system responsiveness.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: If the message posting process involves network communication or I/O operations, it could slow down the execution of the <code class="fm-code-in-text1">createBooking</code> method.</p>
<p class="body-table-list-a">   •   Security - SQL Injection:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The code is susceptible to SQL injection attacks as it directly uses the <code class="fm-code-in-text1">bookingToCreate</code> object in the database queries.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: Malicious input in the <code class="fm-code-in-text1">bookingToCreate</code> object could manipulate the SQL queries and compromise the integrity and security of the database.</p>
<p class="body-table-list-a">   •   Security - Inadequate Authorization:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The code does not perform explicit authorization checks before creating bookings, potentially allowing unauthorized users to create bookings.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: Lack of proper authorization checks can lead to unauthorized access and misuse of the system’s booking creation functionality.</p>
<p class="body-table-list-a">   •   Interoperability - Platform Dependencies:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The code might have dependencies on specific platforms or libraries, limiting its interoperability with other systems or environments.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: If the <code class="fm-code-in-text1">MessageBuilder</code> or <code class="fm-code-in-text1">messageRequests</code> rely on platform-specific features or external libraries, it could cause issues when running the code in different environments.</p>
<p class="body-table-list-a">   •   Interoperability - Error Codes:</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Risk: The code returns HTTP status codes directly, which may not be compatible with other systems that expect different error code formats.</p>
<p class="body-table-list-b">   <span class="cambria">−</span>   Explanation: If external systems expect error codes in a different format (e.g., JSON or XML), using HTTP status codes may hinder interoperability.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Similar to the previous prompt, which generated questions around written requirements, the quality of these different risks varies. For example, the risk “Performance - Message Posting” feels quite abstract, as we can see in its explanation:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">If the message posting process involves network communication or I/O operations, it could slow down the execution of the <code class="fm-code-in-text1">createBooking</code> method.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Suggesting risks around network communication or I/O operations feels vague because it might refer to a range of implementations, some of which might relate to our work and some that might not.</p>
<p class="body">However, other risks are more concrete and potentially useful—for example, “Security - Inadequate Authorization,” which highlights the following:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">The code does not perform explicit authorization checks before creating bookings, potentially allowing unauthorized users to create bookings.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">This risk feels more concrete because it refers to actions that are carried out in our method and the absence of potentially important checks within it. Of course, we may carry out authorization checks elsewhere, but the information it has given highlighted an explicit activity that we might need to discuss further to improve the security of our booking feature.</p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Generating more ideas</p>
<p class="fm-sidebar-text">So far, we’ve looked at singular prompts to send to LLMs, which gives us useful responses to review. But what if we want to solicit more questions and risks? We simply ask by submitting an additional prompt, such as “Generate more questions” or “Identify further risks.” Be wary, though, as this has diminishing returns. An LLM will try to fulfill our requests at the risk of increasing hallucinations. So, as options start to dry out, we may see more suggestions that are less connected to the ideas and code we wanted feedback on in the first place.<a id="idIndexMarker018"/><a id="marker-64"/><a id="idIndexMarker019"/></p>
</div>
<h3 class="fm-head1" id="heading_id_7">4.2.3 Recognizing that a simulation is better than nothing at all</h3>
<p class="body">When testing is discussed, the focus is typically on the production and execution of test cases. But a highly trained and experienced tester delivers value by using their critical and lateral thinking skills and asks questions that help view solutions in new ways and reveal potential problems. The prompts we’ve looked at can offer a simulation of that process. However, it’s important to remember that LLMs don’t have these critical and lateral thinking skills and that the questions and risks generated come from the instruction of our prompts. Instead, these types of prompts can offer a lightweight way to simulate the experience of pairing with testers or other developers when the opportunity to pair is unavailable. The key is to develop an eye for generated questions to determine which are of use.<a id="idIndexMarker020"/><a id="idIndexMarker021"/><a id="idIndexMarker022"/><a id="idIndexMarker023"/></p>
<h2 class="fm-head" id="heading_id_8">4.3 Building in quality with AI assistance</h2>
<p class="body">So far, we’ve looked at prompts as singular activities, but now, let’s turn our attention to how the prompts we’ve recently learned and other LLM assistant tools can be used in conjunction with TDD to help us build in quality.<a id="idIndexMarker024"/><a id="idIndexMarker025"/><a id="marker-65"/></p>
<p class="body">Although TDD is not strictly a testing activity when compared to other testing activities, TDD that is carried out correctly helps guide developers to build quality into products. To recap, the process of TDD is to use unit-checking tools to first create failing checks and then just enough production code to make the check <i class="fm-italics">pass</i> (and fix any other checks that may have failed). Once all our checks are passing, we can refactor our production code while ensuring all our checks are green. Once that’s complete, we start the loop again until our work is complete, as demonstrated in figure 4.1.</p>
<div class="figure">
<p class="figure1"><img alt="" class="calibre16" src="../../OEBPS/Images/CH04_F01_Winteringham2.png"/></p>
<p class="figurecaption">Figure 4.1 The red/green/refactor TDD cycle</p>
</div>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">What’s all this about checks?</p>
<p class="fm-sidebar-text">In our Automation in Testing training, Richard Bradshaw and I make a distinction between human-led and tool-led testing. We call the latter type <i class="fm-italics">automated checking</i> because the tools can only assert explicit actions or data that we codify into our automation. This distinction helps us better appreciate that automated tools such as unit-checking frameworks are excellent at rapidly checking small, specific changes in a product but are unable to tell us more about a system beyond its assertions. Humans, however, are slower and less deterministic in testing, although we are much more efficient at identifying many events happening simultaneously. Hence, this is why tools check and humans test. One is not better than the other, and hopefully, this book will demonstrate that we can have the best success when combining both.<a id="idIndexMarker026"/></p>
</div>
<p class="body">This approach enables us to design products that are highly testable while ensuring we deliver what the business or end user desires.</p>
<p class="body">Although its benefits are manifold (improving code design, making it more testable, and most importantly, improving its quality), some developers find it hard to adopt the TDD approach, believing that it slows down development as we create unit checks for each specific section of production code added to our system. However, with tools such as Copilot, we can learn how to establish a balance in which the tools enable us to rapidly create unit checks and build in quality.</p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Setting up Copilot</p>
<p class="fm-sidebar-text">This chapter assumes that you have installed and configured the Copilot plugin within your IDE. If you haven’t already completed the setup process, you can find installation instructions in appendix B.</p>
</div>
<h2 class="fm-head" id="heading_id_9">4.4 Creating our first TDD loop with LLMs</h2>
<p class="body">To demonstrate, let’s undergo the process of creating part of a feature for a sample timesheet manager:<a id="idIndexMarker027"/><a id="idIndexMarker028"/><a id="marker-66"/></p>
<ul class="calibre5">
<li class="fm-list-bullet">
<p class="list">As a timesheet user, I want to be able to track time against specific projects so that I can keep a history of how much time I have spent working on individual projects.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Features:</p>
<ul class="calibre17">
<li class="fm-list-bullet">
<p class="list">Time is tracked in half hour units.</p>
</li>
<li class="fm-list-bullet">
<p class="list">To complete a timesheet, a project and amount of time must be entered.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Only I should be able to see my tracked time.</p>
</li>
</ul>
</li>
</ul>
<p class="body">You can review the test and production code created as part of this example in the following GitHub repository: <a class="url" href="https://mng.bz/6YMG">https://mng.bz/6YMG</a>.</p>
<h3 class="fm-head1" id="heading_id_10">4.4.1 Preparing the work</h3>
<p class="body">Before starting to create my timesheet manager feature, I wanted to think about how I would go about building it. To get help with this process and encourage me to think about the solution from various angles, I took the first prompt we explored earlier in this chapter and entered my context into it. Specifically, I changed the quality characteristics to accuracy and consistency and added the user story into the delimited section at the bottom of the prompt:<a id="idIndexMarker029"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a software testing expert. Analyze the text delimited by triple hashes and generate questions that will clarify ambiguities in the text.</p>
<p class="body-table-list-a">   *   Questions will be generated by using the What, Where, Why, When, Who and How heuristic</p>
<p class="body-table-list-a">   *   Multiple questions can be identified for each quality characteristic</p>
<p class="body-table-list-a">   *   The quality characteristics we care about are: Accuracy and Consistency</p>
<p class="body-table-list-a">   *   Output questions in the format of Question - Explanation</p>
<p class="body-table">Example:</p>
<p class="body-table">What does relevant mean?</p>
<p class="body-table">The acceptance criteria say relevant search results, but how do we determine what is relevant and what isn’t?</p>
<p class="body-table">###</p>
<p class="body-table">As a timesheet user</p>
<p class="body-table">I want to be able to track time against specific projects</p>
<p class="body-table">So that I can keep a history of how much time I have spent working on individual projects</p>
<p class="body-table">Features:</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   Time is tracked in half hour units</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   To complete a timesheet a project and amount of time must be entered</p>
<p class="body-table-list-a">   <span class="cambria">−</span>   Only I should be able to see my tracked time</p>
<p class="body-table">###</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Sending this prompt to ChatGPT returned the following response:<a id="marker-67"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Accuracy:</p>
<p class="body-table-list-a">   •   What is the required precision for tracking time in half-hour units? - The text mentions that time is tracked in half-hour units. It’s important to know the level of accuracy required for this tracking.</p>
<p class="body-table-list-a">   •   How will the system handle invalid time entries? - Since time must be entered to complete a timesheet, what measures are in place to ensure that only valid time entries are accepted?</p>
<p class="body-table-list-a">   •   What validation mechanisms are in place to prevent users from entering incorrect time data? - To maintain accuracy, it’s essential to know how the system will validate and handle potential data entry errors.</p>
<p class="body-table-list-a">   •   How will the system handle time zone differences for users in different locations? - This is important to ensure that the tracked time is consistent and accurate for users in various time zones.</p>
<p class="body-table">Consistency:</p>
<p class="body-table-list-a">   •   Where will the history of tracked time be stored and accessed? - To ensure consistency, it’s important to know where the data will be stored and how users can access it.</p>
<p class="body-table-list-a">   •   What are the rules for displaying and formatting tracked time information? - Consistency in displaying the tracked time across the system is crucial for a seamless user experience.</p>
<p class="body-table-list-a">   •   Who is responsible for verifying and maintaining the consistency of tracked time data? – It’s essential to assign responsibility for data integrity and consistency to avoid discrepancies.</p>
<p class="body-table-list-a">   •   When and how often will the timesheet data be synchronized or updated? - Ensuring consistency in real-time updates or scheduled syncs is vital to avoid discrepancies between users’ data.</p>
<p class="body-table-list-a">   •   How will the system handle potential conflicts if multiple users try to update the same project’s timesheet simultaneously? - Maintaining consistency in data updates when multiple users are involved is critical to prevent data loss or inaccuracies.</p>
<p class="body-table-list-a">   •   What security measures are in place to protect the data and ensure its integrity? - Consistency also involves safeguarding the data from unauthorized access or tampering.</p>
</td>
</tr>
</tbody>
</table>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">What are quality characteristics?</p>
<p class="fm-sidebar-text">Quality means very different things to different people and is a multifaceted concept. Therefore, when attempting to understand what quality means to a stakeholder or end user, we break out ways of thinking about it into different characteristics. For example, quality characteristics might include look and feel, usability, compliance, and much more. Different projects will have different quality characteristics that we prioritize, and it’s up to us as teams to identify what quality characteristics are of priority to us and our users.</p>
</div>
<p class="body"><a id="marker-68"/>From here, I read each of the questions sent back to me and noted the ones that stood out as raising points I hadn’t considered. Let’s go through some of them and explore my thinking behind each one:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">How will the system handle invalid time entries? / What validation mechanisms are in place to prevent users from entering incorrect time data?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">These two questions felt very similar, but they highlighted that I will, at some point, need to add date–time handling into the code to prevent problems around invalid entries.</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">How will the system handle time zone differences for users in different locations?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">It’s a good question, but not relevant to this work as I plan to just track the amount of time carried out and not when it was carried out (at least for now).</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">What are the rules for displaying and formatting tracked time information?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Connected to the previous question, I opted for simply tracking the amount of time that had elapsed and not specifically when it had occurred, meaning that the displaying of information is relatively straightforward.</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">How will the system handle potential conflicts if multiple users try to update the same project’s timesheet simultaneously?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">At this time, there is no multiple-user feature, although it might be introduced later, so I make a note to consider this for future iterations.</p>
<p class="body">Many more questions could be asked and addressed, but what this process demonstrates is that, by generating different questions, I am required to think about various aspects of this feature’s design. Some I can choose to rule out, or shelve for later conversation, and some help me to improve the quality of my feature by raising my awareness to validation and date–time formatting.</p>
<h3 class="fm-head1" id="heading_id_11">4.4.2 Loop 1: Save a timesheet entry</h3>
<p class="body">With the questions from the previous prompt in my mind, I start my first loop by creating an empty maven project within my IDE before heading to the <code class="fm-code-in-text">pom.xml</code> to add my required dependencies. I require JUnit 5 to build my unit checks, so I entered the comment<a id="idIndexMarker030"/><a id="idIndexMarker031"/><a id="marker-69"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">&lt;!--    Junit jupiter engine--&gt;</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Copilot returns the following code block:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
        &lt;version&gt;5.8.2&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">At the time of writing, the proposed version of <code class="fm-code-in-text">junit-jupiter-engine</code> is an older version, so I update to <code class="fm-code-in-text">5.9.2</code> as shown here:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
        &lt;version&gt;5.9.2&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This required update is a good example of how data provenance can affect what is being suggested. While constantly being trained on code that is being pushed to GitHub, Copilot runs the risk of lagging behind the latest versions of libraries and APIs. So, we need to be vigilant when adding in dependencies via AI code assistants to ensure they are suggesting the version we want.</p>
<p class="body">Furthermore, what is demonstrated here is how the Copilot IDE plugin will take code (or in this case a code comment) I have written, add it to a prompt, and then send it to the Copilot LLM to process. The LLM then sends back to the IDE plugin a suggestion of what to enter next, and the plugin then presents me with the suggestion. I now have the option to either accept the suggestion by hitting Tab or continue to write my own code.</p>
<p class="body">Much like other LLMs, Copilot is triggered by prompts. But unlike a chat-based LLM (such as ChatGPT), Copilot is tuned to process code-based rather than text-based prompts. This distinction is important because it highlights both the benefits of different types of fine-tuned LLMs for different activities, as well as the need to write prompts that work for different prompt types. This is why TDD and AI assistants are an interesting combination to work with. The unit checks we create not only frame the design of our work but also serve as prompts to inform how we want to implement features.<a id="marker-70"/></p>
<p class="body">For example, for our first check, I prompt Copilot to create my first unit check for me by adding the following comment into a new class titled <code class="fm-code-in-text">TimesheetTest</code> in <code class="fm-code-in-text">src/test/java</code>:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// Test that when a timesheet is submitted with a project name
<span class="fm-code-continuation-arrow">➥</span>and hours it returns true</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This triggers Copilot to suggest the following unit check:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">@Test
public void testSubmitTimesheetWithProjectNameAndHours() {
    Timesheet timesheet = new Timesheet();
    boolean result = timesheet.submitTimesheet("Project 1", 8);
    assertEquals(true, result);
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Looking at this suggested check, we see that it has the necessary details we require. It’s given the class I intend to build a sensible name of <code class="fm-code-in-text">Timesheet</code> and suggested the method <code class="fm-code-in-text">submitTimesheet</code> with the correct parameters of project name and hours. This check is enough of a prompt that when I create a new class <code class="fm-code-in-text">Timesheet</code> in <code class="fm-code-in-text">src/main/java</code>, Copilot suggests</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public boolean submitTimesheet(String projectName, int duration) {
    return true;
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">The unit check served as a prompt to Copilot to create my production code, and although what has been produced is not exactly exciting, the check has been fulfilled. We can also see that Copilot works by building prompts on prompts to get to what we want. First, I created a prompt in the form of a code comment to help Copilot suggest the code for the unit check, and then that unit check served as a prompt for the suggested production code. As the unit checks grow, so will the prompts and directions to Copilot on what to build. Now, let’s look at how I used this process to build out the <code class="fm-code-in-text">submitTimesheet</code> method.<a id="idIndexMarker032"/><a id="marker-71"/></p>
<h3 class="fm-head1" id="heading_id_12">4.4.3 Loop 2: Retrieve a timesheet entry</h3>
<p class="body">With the first loop, I created the skeleton of my project, but at the moment, the actual production code bears little fruit. So, with the second loop, I looked to add more features to the <code class="fm-code-in-text">Timesheet</code> class to help flesh out the <code class="fm-code-in-text">submitTimesheet</code> method. Again, I start by adding a new comment prompt to <code class="fm-code-in-text">TimesheetTest</code>:<a id="idIndexMarker033"/><a id="idIndexMarker034"/><a id="idIndexMarker035"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// Test that when timesheets are added they can be retrieved as a list</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">And upon creating a new line, Copilot returned the following check as a suggestion:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">@Test
public void testAddTimesheetsToList() {
    Timesheet timesheet = new Timesheet();
    timesheet.submitTimesheet("Project 1", 8);
    timesheet.submitTimesheet("Project 2", 8);
    timesheet.submitTimesheet("Project 3", 8);
    assertEquals(3, timesheet.getTimesheets().size());
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This time, the generated check is using the <code class="fm-code-in-text">submitTimesheet</code> method to create some data that I can then verify using the newly created <code class="fm-code-in-text">getTimesheets</code> method. So, heading over to the <code class="fm-code-in-text">Timesheet</code> class, I use Copilot to generate the necessary <code class="fm-code-in-text">getTimesheets</code> method, which returns<a id="idIndexMarker036"/><a id="idIndexMarker037"/><a id="idIndexMarker038"/><a id="idIndexMarker039"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public Collection&lt;Timesheet&gt; getTimesheets() {
    return null;
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Although it’s helpful that it created the method signature for me, the internals of the method are not so useful. However, I add the following to the top of the class:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">private HashMap&lt;String, Integer&gt; timesheets = new HashMap&lt;&gt;();</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Then I return to the <code class="fm-code-in-text">submitTimesheet</code> method and remove <code class="fm-code-in-text">return true</code> from inside the method. When I enter the keyword <code class="fm-code-in-text">if</code> into the statement, Copilot returns<a id="idIndexMarker040"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public boolean submitTimesheet(String projectName, int duration) {
    if (projectName != null &amp;&amp; duration &gt; 0) {
        timesheets.put(projectName, duration);
        return true;
    } else {
        return false;
    }
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This is a useful demonstration of how a project requires a degree of warmup before the LLM can return more accurate suggestions when working with Copilot. By returning to the <code class="fm-code-in-text">submitTimesheet</code> method, removing its contents, and then waiting for Copilot to respond, I get a refreshed response from Copilot based on the new details I’ve provided. Just as a prompt for a chat LLM requires clear and explicit details, so does Copilot. The initial stock methods that were returned from Copilot for <code class="fm-code-in-text">Timesheet</code> are likely because there is little context to work with. Essentially, the prompts sent to Copilot lack information. But as I create new unit checks and additional code to show our intent in our code, the suggestions become more useful. <a id="idIndexMarker041"/></p>
<p class="body">This is also demonstrated when I delete the <code class="fm-code-in-text">getTimesheets</code> method entirely. With the new <code class="fm-code-in-text">HashMap</code> added to the class, my updated code prompts Copilot to return an updated version of the method:<a id="idIndexMarker042"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public Collection&lt;Integer&gt; getTimesheets() {
    return timesheets.values();
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Running both of my unit checks after this loop, I can see both checks are passing and now have working code that is a bit more feature rich than when I started the loop.</p>
<h3 class="fm-head1" id="heading_id_13">4.4.4 Loop 3: Calculating times for a project</h3>
<p class="body">For the final loop, I went back to the questions returned from ChatGPT and thought about the question:<a id="marker-72"/><a id="idIndexMarker043"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">How will the system handle potential conflicts if multiple users try to update the same project’s timesheet simultaneously?</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Although there is no functionality for multiple users at this point in the project, the question from ChatGPT did make me think about how to handle multiple timesheet submissions to the same project. So, I created my third unit check to handle this scenario by once again creating a code comment to prompt Copilot for another unit check:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// Test that the total hours worked can be calculated from a list
<span class="fm-code-continuation-arrow">➥</span>of timesheets from one project</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">It returned the following unit check:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">@Test
public void testCalculateTotalHoursWorked() {
    Timesheet timesheet = new Timesheet();
    timesheet.submitTimesheet("Project 1", 8);
    timesheet.submitTimesheet("Project 1", 8);
    timesheet.submitTimesheet("Project 1", 8);
    assertEquals(24, timesheet.getTimesheets().stream()
.mapToInt(Integer::intValue)
.sum());
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This time, the suggested check is close, but I want the <code class="fm-code-in-text">Timesheet</code> class to return a total, not have a total processed within the unit check itself. So, I opted to update the check to explicitly state there is a method for getting total timesheet hours:<a id="idIndexMarker044"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">@Test
public void testCalculateTotalHoursWorked() {
    Timesheet timesheet = new Timesheet();
    timesheet.submitTimesheet("Project 1", 8);
    timesheet.submitTimesheet("Project 1", 8);
    timesheet.submitTimesheet("Project 1", 8);
 
    int total = timesheet.getTotalTimesheetHours("Project 1");
 
    assertEquals(24, total);
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Heading back over to <code class="fm-code-in-text">Timesheet</code> and waiting for Copilot, the LLM returns the following code:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public int getTotalTimesheetHours(String projectName) {
    return timesheets.get(projectName);
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This allows the code to compile, but my new unit check fails because the project count isn’t being updated. Instead, because I am using a <code class="fm-code-in-text">HashMap</code>, the count is being overwritten. I need to update <code class="fm-code-in-text">submitTimesheet</code> to handle duplicate projects, which I do by dropping the following comment into <code class="fm-code-in-text">submitTimesheet</code>, just after the initial <code class="fm-code-in-text">if</code> statement:<a id="marker-73"/><a id="idIndexMarker045"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// Check to see if project already exists</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Dropping in the code comment returns the following suggested code:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">if (timesheets.containsKey(projectName)) {
    // If it does, add the new duration to the existing total
    duration += timesheets.get(projectName);
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">This expands the <code class="fm-code-in-text">submitTimesheet</code> function to allow it to increase the duration of existing projects in a timesheet:<a id="idIndexMarker046"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="30" src="../../OEBPS/Images/logo-plugin.png" width="30"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">public boolean submitTimesheet(String projectName, int duration) {
    if (projectName != null &amp;&amp; duration &gt; 0) {
        // Check to see if project already exists
        if (timesheets.containsKey(projectName)) {
            // If it does, add the new duration to the existing total
            duration += timesheets.get(projectName);
        }
        timesheets.put(projectName, duration);
        return true;
    } else {
        return false;
    }
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">A final run of my three-unit checks confirms that they are all passing and that I have all the features I want in my <code class="fm-code-in-text">Timesheet</code> class. However, the code is starting to become more complex, so I turn my attention to refactoring my code with the use of ChatGPT.<a id="idIndexMarker047"/></p>
<h3 class="fm-head1" id="heading_id_14">4.4.5 Refactoring code</h3>
<p class="body">One benefit of pairing with others is the ability for a pair partner to see potential problems and risks that we might not see. However, in the absence of a pair partner, I chose to use the second of the prompts we explored earlier in this chapter—specifically, the prompt that analyzes code and returns suggestions. Taking the prompt and adding my code and the quality characteristics’ accuracy and consistency, I sent the following prompt to ChatGPT. I slightly updated the instructions to make it clear I am providing Java code:<a id="idIndexMarker048"/><a id="idIndexMarker049"/><a id="marker-74"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a software testing expert. Analyze the Java code delimited by triple hashes and identify risks that might impact the code. If no code is provided, respond with “No risks could be found”</p>
</td>
</tr>
</tbody>
</table>
<p class="body">I update the additional instructions with my quality characteristics:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table-list-a">   *   Risks must be related to the quality characteristics: Accuracy and Consistency</p>
<p class="body-table-list-a">   *   Multiple risks can be identified for each quality characteristic</p>
<p class="body-table-list-a">   *   Output identified risks in the format of Risk - Quality Characteristic - Explanation</p>
</td>
</tr>
</tbody>
</table>
<p class="body">An example is provided to demonstrate the format of the response:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Example:</p>
<p class="body-table">Overflow - Security - Adding in large integers as parameters might cause the method to trigger a buffer overflow.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">The code I created from my earlier loops is added in the delimited section:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">###
public class Timesheet {
 
    private HashMap&lt;String, Integer&gt; timesheets = new HashMap&lt;&gt;();
 
    public boolean submitTimesheet(String projectName, int duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
            // Check to see if project already exists
            if (timesheets.containsKey(projectName)) {
                // If it does, add the new duration to the
                // existing total
                duration += timesheets.get(projectName);
            }
            timesheets.put(projectName, duration);
            return true;
        } else {
            return false;
        }
    }
 
    public Collection&lt;Integer&gt; getTimesheets() {
        return timesheets.values();
    }
 
    public int getTotalTimesheetHours(String projectName) {
        return timesheets.get(projectName);
    }
}
###</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Sending the prompt returned the following risks that I might want to consider:<a id="marker-75"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk 1 - Accuracy - <code class="fm-code-in-text1">submitTimesheet</code> method can overwrite existing duration:</p>
<p class="body-table">The <code class="fm-code-in-text1">submitTimesheet</code> method allows adding a new duration to an existing project’s total if the project already exists in the timesheets. However, this approach may not always ensure accuracy. If the user intends to submit a correction or update the duration for a specific project, this method will not provide accurate results. It merely adds the new duration to the existing one without considering the possibility of editing or deleting a previous entry.<a id="idIndexMarker050"/></p>
<p class="body-table">Risk 2 - Consistency - Null key in timesheets HashMap:</p>
<p class="body-table">The timesheets HashMap allows null keys. This might lead to inconsistency issues when querying for timesheet information by project name. If a project with a null name is mistakenly added to the timesheets, it may cause issues in subsequent operations, leading to unexpected behavior.</p>
<p class="body-table">Risk 3 - Consistency - Lack of validation for project names:</p>
<p class="body-table">The <code class="fm-code-in-text1">submitTimesheet</code> method does not validate the project name before adding it to the timesheets HashMap. This lack of validation might result in inconsistent data, such as duplicate or improperly formatted project names. For example, if two different variations of the same project name (e.g., <code class="fm-code-in-text1">"ProjectA"</code> and <code class="fm-code-in-text1">"projecta"</code>) are added, the system might treat them as separate projects, leading to inconsistencies in reporting or querying.<a id="idIndexMarker051"/></p>
<p class="body-table">Risk 4 - Accuracy - <code class="fm-code-in-text1">getTotalTimesheetHours</code> method may throw <code class="fm-code-in-text1">NullPointer-Exception</code>:<a id="idIndexMarker052"/><a id="idIndexMarker053"/></p>
<p class="body-table">The <code class="fm-code-in-text1">getTotalTimesheetHours</code> method directly calls <code class="fm-code-in-text1">timesheets.get(projectName)</code>, which may throw a <code class="fm-code-in-text1">NullPointerException</code> if the given <code class="fm-code-in-text1">projectName</code> is not present in the timesheets HashMap. This can lead to inaccurate results if the method is used without checking for the existence of the project name in the timesheets before calling this method.</p>
<p class="body-table">Risk 5 - Accuracy - Return type of <code class="fm-code-in-text1">getTotalTimesheetHours</code> method:</p>
<p class="body-table">The <code class="fm-code-in-text1">getTotalTimesheetHours</code> method returns an int data type, which might lead to accuracy issues if the actual total timesheet hours for a project exceed the maximum value that an int can hold. This can result in data loss due to overflow if the sum of durations for a project exceeds <code class="fm-code-in-text1">Integer.MAX_VALUE</code>.<a id="idIndexMarker054"/></p>
<p class="body-table">Risk 6 - Consistency - Lack of synchronization in a multi-threaded environment:</p>
<p class="body-table">If this <code class="fm-code-in-text1">Timesheet</code> class is used in a multi-threaded environment, there is a risk of inconsistent behavior since the methods of this class are not synchronized. This can lead to data corruption or incorrect calculations if multiple threads concurrently access and modify the timesheets HashMap.<a id="idIndexMarker055"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-76"/>Unlike the questions prompt, this response appears to call out specific items of my code and gives reasons for how things might go wrong. With this response, I have the following options:</p>
<ol class="calibre18">
<li class="fm-list-bullet">
<p class="list">Review each risk on a case-by-case basis and then mitigate the ones I feel are important and ignore the others.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Ignore the proposed risks entirely, or perhaps send another prompt to ChatGPT to see whether there are more risks.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Use the response from ChatGPT as a prompt in and of itself to help me refactor my code.</p>
</li>
</ol>
<p class="body">For the purposes of this demonstration, I chose to go with the third option and send an additional prompt to ChatGPT:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Refactor the code to mitigate the risks suggested. Check to see that each risk has been mitigated before outputting the solution.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Notice how I used the time-to-think principle to get the LLM to check whether each risk has actually been mitigated by the refactored code it suggested. This helps increase the likelihood that the code that’s returned will be useful. Sending this prompt to ChatGPT returned the following code:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">import java.util.Collection;
import java.util.concurrent.ConcurrentHashMap;
 
public class Timesheet {
 
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = 
new ConcurrentHashMap&lt;&gt;();                               <span class="fm-combinumeral">❶</span>
 
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
            // Perform validation on project name by converting it to
            // lowercase
            projectName = projectName.toLowerCase();     <span class="fm-combinumeral">❷</span>
 
            // Check to see if project already exists
            timesheets.put(projectName, timesheets
            .getOrDefault(projectName, 0L) + duration);
            return true;
        } else {
            return false;
        }
    }
 
    public Collection&lt;Long&gt; getTimesheets() {            <span class="fm-combinumeral">❸</span>
        return timesheets.values();
    }
 
    public long getTotalTimesheetHours(String projectName) {
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
}</pre>
<p class="fm-code-annotation"><span class="fm-combinumeral">❶</span> Changes HashMap to ConcurrentHashMap</p>
<p class="fm-code-annotation"><span class="fm-combinumeral">❷</span> Adds in additional code to lowercase project names</p>
<p class="fm-code-annotation"><span class="fm-combinumeral">❸</span> Converts the int data type to long</p>
</td>
</tr>
</tbody>
</table>
<p class="body">To check whether these modifications hold up, I copied the suggested code into <code class="fm-code-in-text">Timesheet</code>, modified <code class="fm-code-in-text">testCalculateTotalHoursWorked</code> to take a <code class="fm-code-in-text">long</code> instead of an <code class="fm-code-in-text">int</code> in <code class="fm-code-in-text">TimesheetTest</code>, and discovered that my checks still pass and I refactored my code.<a id="idIndexMarker056"/><a id="marker-77"/><a id="idIndexMarker057"/></p>
<p class="body">However, has this improved my code? To confirm, I run the original code analysis prompt with my updated code again and receive new risks:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk - Accuracy - Case Sensitivity Issue:</p>
<p class="body-table">Explanation: The method <code class="fm-code-in-text1">submitTimesheet</code> converts the <code class="fm-code-in-text1">projectName</code> to lowercase before using it as a key in the timesheets map. This conversion might lead to inaccurate data retrieval if there are projects with the same name but different letter cases (e.g., <code class="fm-code-in-text1">"ProjectA"</code> and <code class="fm-code-in-text1">"projecta"</code> will be considered the same project).<a id="idIndexMarker058"/></p>
<p class="body-table">Risk - Consistency - Inconsistent Data Entry:<a id="idIndexMarker059"/></p>
<p class="body-table">Explanation: The <code class="fm-code-in-text1">submitTimesheet</code> method does not enforce consistent data entry for <code class="fm-code-in-text1">projectName</code> values. If different users enter project names in various formats (e.g., <code class="fm-code-in-text1">"Project A"</code>, <code class="fm-code-in-text1">"project-A"</code>, <code class="fm-code-in-text1">"project_A"</code>), it could lead to multiple entries for what should be the same project in the timesheets map.</p>
<p class="body-table">Risk - Accuracy - Missing Validation for Duration:</p>
<p class="body-table">Explanation: Although the method <code class="fm-code-in-text1">submitTimesheet</code> checks for a positive duration, it does not handle cases where the duration is 0 or negative. This could lead to incorrect data being recorded in the timesheets map.<a id="idIndexMarker060"/></p>
<p class="body-table">Risk - Consistency - Lack of Input Sanitization:</p>
<p class="body-table">Explanation: The <code class="fm-code-in-text1">submitTimesheet</code> method does not sanitize the <code class="fm-code-in-text1">projectName</code> input, which could lead to inconsistent data due to invalid characters or unexpected inputs.<a id="idIndexMarker061"/></p>
<p class="body-table">Risk - Accuracy - Potential Data Loss:</p>
<p class="body-table">Explanation: The method <code class="fm-code-in-text1">submitTimesheet</code> returns a boolean value, but it does not provide any feedback or error handling mechanism if the submission fails. This lack of feedback could lead to data loss if the submission fails silently, and the user is not aware of the issue.<a id="idIndexMarker062"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">What is interesting in this response is I can confirm that some risks have been mitigated such as</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk 5 - Accuracy - Return type of <code class="fm-code-in-text1">getTotalTimesheetHours</code> method:<a id="idIndexMarker063"/></p>
<p class="body-table">The <code class="fm-code-in-text1">getTotalTimesheetHours</code> method returns an int data type, which might lead to accuracy issues if the actual total timesheet hours for a project exceed the maximum value that an int can hold. This can result in data loss due to overflow if the sum of durations for a project exceeds <code class="fm-code-in-text1">Integer.MAX_VALUE</code>.</p>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-78"/>However, it appears that there are still some risks that haven’t mitigated. For example, in the first list of risks I received the following risk:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk 3 - Consistency - Lack of validation for project names:</p>
<p class="body-table">The <code class="fm-code-in-text1">submitTimesheet</code> method does not validate the project name before adding it to the timesheets HashMap. This lack of validation might result in inconsistent data, such as duplicate or improperly formatted project names. For example, if two different variations of the same project name (e.g., <code class="fm-code-in-text1">"ProjectA"</code> and <code class="fm-code-in-text1">"projecta"</code>) are added, the system might treat them as separate projects, leading to inconsistencies in reporting or querying.<a id="idIndexMarker064"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">It was handled by ChatGPT implementing a <code class="fm-code-in-text">lowerCase</code> method to help sanitize the project name. However, on the second analysis, I was returned the following:<a id="idIndexMarker065"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk - Consistency - Inconsistent Data Entry:</p>
<p class="body-table">Explanation: The <code class="fm-code-in-text1">submitTimesheet</code> method does not enforce consistent data entry for <code class="fm-code-in-text1">projectName</code> values. If different users enter project names in various formats (e.g., <code class="fm-code-in-text1">"Project A"</code>, <code class="fm-code-in-text1">"project-A"</code>, <code class="fm-code-in-text1">"project_A"</code>), it could lead to multiple entries for what should be the same project in the timesheets map.<a id="idIndexMarker066"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">This risk is very similar to the original, allegedly mitigated, risk. It feels like this additional risk around inconsistent data entry should have been handled properly when my code was refactored. I could once again ask the LLM to refactor my code for me, but instead given the potential for going around in circles with the LLM, it would be sensible for me to take the lead and fix the problems myself. This is an important skill to develop—knowing when to rely on an LLM and when to take charge.</p>
<p class="body">The reason this choice is important can be highlighted by one of the other suggested risks that came from the second round of analysis. Specifically,</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Risk - Accuracy - Missing Validation for Duration:</p>
<p class="body-table">Explanation: Although the method <code class="fm-code-in-text1">submitTimesheet</code> checks for a positive duration, it does not handle cases where the duration is 0 or negative. This could lead to incorrect data being recorded in the timesheets map.<a id="idIndexMarker067"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">This sounds like a convincing risk, but it’s a demonstration of a hallucination. As the code stands, if the duration is ≥0, the method simply returns false and bails out of the timesheet storage:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">if (projectName != null &amp;&amp; duration &gt; 0)</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">LLMs can be biased sometimes to prioritize giving an answer regardless of its quality, meaning the more times we ask an LLM to analyze our code, the more likely it will start to generate hallucinations to give the impression that it’s producing useful results rather than returning with a response that no useful information can be shared. This is why we must keep careful tabs on when it’s beneficial to use an LLM.</p>
<p class="body">At this point, I chose to stop the use case as what we’ve covered demonstrates the way in which different types of LLMs can help me in different ways. Copilot offers the ability to rapidly generate code, but it requires code-based prompts to help it with its suggestions. What this means is that if we’re working on a fresh project that has very little production code for our LLM to analyze, we’re more likely to get results from Copilot that aren’t useful to us. So, to improve the quality of the output from Copilot, we give it more context using unit checks. This helps not only guide Copilot in the building of our code, but also provides us with the benefits of TDD including well-designed, testable code.</p>
<p class="body">With ChatGPT, we’ve demonstrated that it can be a useful tool for analysis when prompted correctly. Building prompts able to analyze ideas and code and suggest risks and improvements can rapidly offer us alternative perspectives to consider, which we can then either act upon or reject. Utilizing the LLM as a simulation of a role that advocates quality can help us improve our work.</p>
<h2 class="fm-head" id="heading_id_15">4.5 Improving documentation and communication with LLMs</h2>
<p class="body"><a id="marker-79"/>It might not seem so, but communicating the work we’ve done through code comments and release notes can contribute significantly to product quality. By sharing new developments and changes to code bases, we can help fellow developers understand how our work affects theirs, guide testers in what to focus on when testing our work, and even help how users view our products (for example, Slack’s early release notes helped market their tooling with their clear communication and humor).<a id="idIndexMarker068"/><a id="idIndexMarker069"/></p>
<p class="body">Despite these benefits, documentation and release notes are sometimes left to languish at the end of a development cycle or are ignored entirely. This makes sense, given the time required to write and maintain code comments and release notes that are useful and relevant, especially when there is time pressure to be constantly delivering new features. However, with the use of LLMs, we can reduce that time overhead while ensuring we generate useful documentation that creates value for future readers. So, let’s take a look at some useful prompts that can rapidly generate documentation for us.</p>
<h3 class="fm-head1" id="heading_id_16">4.5.1 Generating code comments</h3>
<p class="body">Although we should always strive to create code arranged in a way that is fluent and easy to parse, regardless of experience with a code base, code comments can provide the extra detail that prevents code misuse and speeds up development. This is even more important if we’re releasing APIs that will be used by others. (I’ve on many occasions wasted time trying to understand how a library works from poorly documented API docs.) The challenge is to get the right balance in code comments: too few, and the person reading your code is left to fend for themselves; too much, and we create more work for ourselves in maintaining code and comments to ensure they align.<a id="idIndexMarker070"/><a id="idIndexMarker071"/></p>
<p class="body"><a id="marker-80"/>So, instead, let’s take a look at a prompt that can take care of the process of annotating our work with comments for us. I use the check-the-solution tactics to ensure the code is not altered:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a Java Developer. Update the code delimited by three hashes and add in code comments to explain how the code works. Check that no parts of the code have been changed before outputting the completed code commented code.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Next, I use delimiter tactics to state where the code is:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">###
import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
 
public class Timesheet {
 
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = new
    <span class="fm-code-continuation-arrow">➥</span>ConcurrentHashMap&lt;&gt;();
 
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
                    projectName = projectName.toLowerCase();
 
            timesheets.put(projectName, 
            <span class="fm-code-continuation-arrow">➥</span>timesheets.getOrDefault(projectName, 0L) + duration);
            return true;
        } else {
            return false;
        }
    }
 
    public Collection&lt;Long&gt; getTimesheets() {
        return timesheets.values();
    }
 
    public long getTotalTimesheetHours(String projectName) {
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
 
}
###</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">In this prompt, we use the usual delimiter tactics to provide our code that we would like to see commented, but we also want to ensure that the LLM doesn’t change our code to make it align with the comments it creates. So, we also make it explicit within the prompt to check that no parts of the code have been changed before outputting the completed commented code. Sending this prompt with our example code from earlier to ChatGPT returned the following commented code:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
 
public class Timesheet {
 
    // ConcurrentHashMap to store project timesheets where the key is
    // the project name (in lowercase) and the value is the total duration.
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = new 
    ConcurrentHashMap&lt;&gt;();
 
    // Method to submit a timesheet entry for a project.
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
            // Normalize the project name to lowercase to ensure case
            // insensitive matching.
            projectName = projectName.toLowerCase();
 
            // Update the timesheet entry for the project by adding 
            // the submitted duration.
            timesheets.put(projectName, 
            timesheets.getOrDefault(projectName, 0L) + duration);
            return true; // Submission successful
        } else {
            return false; // Invalid input, submission failed
        }
    }
 
    // Method to retrieve all timesheet durations.
    public Collection&lt;Long&gt; getTimesheets() {
        return timesheets.values();
    }
 
    // Method to get the total hours for a specific project.
    public long getTotalTimesheetHours(String projectName) {
        // Retrieve the total duration for the specified project 
        // (case-insensitive) or return 0 if not found.
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-81"/>As we can see, the methods and sections of code within them have now been annotated with comments to give us more detail. What stands out most are comments such as</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// ConcurrentHashMap to store project timesheets where the key is the
// project name (in lowercase) and the value is the total duration.
private ConcurrentHashMap&lt;String, Long&gt; timesheets = new 
ConcurrentHashMap&lt;&gt;();</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">The comment provides not only references to what <code class="fm-code-in-text">ConcurrentHashMap</code> is used for, but also highlights that all project names will be stored in lowercase, a reference to part of the code inside <code class="fm-code-in-text">submitTimesheet</code>, which does stand in contrast to comments like these that feel a little unnecessary:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">// Method to submit a timesheet entry for a project.<a id="idIndexMarker072"/>
public boolean submitTimesheet(String projectName, long duration)</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Once again, we choose what to use. Although the prompt we’ve used has provided us with comments, we’ve observed that some are probably more useful than others. Thus, our role changes from being the author of comments to an editor, selecting and tweaking the comments that seem the most useful.</p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Maintaining code comments with prompts</p>
<p class="fm-sidebar-text">What makes this process so useful is that when we inevitably come to a point in which our code changes and our comments need updating, we simply can run the prompt again with our updated code to regenerate our comments to incorporate our changes.<a id="idIndexMarker073"/><a id="marker-82"/></p>
</div>
<p class="body">A final observation is that although the comments can be useful for someone reading our code directly, what if we want to provide more structured documentation in the form of, say, Javadoc? In that case, we can modify the prompt and use structured data tactics to create a prompt. We’ll use an updated prompt with structured data tactics for Javadoc:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a Java Developer. Update the code delimited by three hashes and add in code comments in a Javadoc format to explain how the code works. Check that no parts of the code have been changed before outputting the completed code commented code.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">We then provide the code using delimiter tactics:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">###
import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
 
public class Timesheet {
 
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = 
    <span class="fm-code-continuation-arrow">➥</span>new ConcurrentHashMap&lt;&gt;();
 
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
                    projectName = projectName.toLowerCase();
 
            timesheets.put(projectName, 
            <span class="fm-code-continuation-arrow">➥</span>timesheets.getOrDefault(projectName, 0L) + duration);
            return true;
        } else {
            return false;
        }
    }
 
    public Collection&lt;Long&gt; getTimesheets() {
        return timesheets.values();
    }
 
    public long getTotalTimesheetHours(String projectName) {
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
 
}
###</pre>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-83"/>Sending this prompt with our example code to ChatGPT produces</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
/**
 * Represents a timesheet management system for tracking hours spent on
 different projects.
 */
public class Timesheet {
 
    // A concurrent hash map to store project names and their
    // corresponding total hours
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = new
 ConcurrentHashMap&lt;&gt;();
 
    /**
     * Submits a timesheet entry for a project.
     *
     * @param projectName The name of the project.
     * @param duration    The duration in hours to be submitted.
     * @return true if the submission was successful, false otherwise.
     */
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
            // Normalize the project name to lowercase for consistency
            projectName = projectName.toLowerCase();
 
            // Update the total hours for the project or add a new 
            // entry if it doesn't exist
            timesheets.put(projectName, 
timesheets.getOrDefault(projectName, 0L) + duration);
            return true;
        } else {
            return false;
        }
    }
 
    /**
     * Retrieves a collection of all total timesheet hours for all
     * projects.
     *
     * @return A collection of total hours for all projects.
     */
    public Collection&lt;Long&gt; getTimesheets() {
        return timesheets.values();
    }
 
    /**
     * Retrieves the total timesheet hours for a specific project.
     *
     * @param projectName The name of the project.
     * @return The total hours spent on the specified project, or 0 
     * if the project is not found.
     */
    public long getTotalTimesheetHours(String projectName) {
        // Normalize the project name to lowercase for consistency 
        // and retrieve the total hours
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
}</pre>
</td>
</tr>
</tbody>
</table>
<p class="body">Using this prompt, we’ve improved the quality of some of the comments and also created Javadoc-friendly comments that can be used to document our code for external users. Now we only have to tweak and edit at the points we see fit.</p>
<h3 class="fm-head1" id="heading_id_17">4.5.2 Generating release notes</h3>
<p class="body">Just as we can use a LLM to modify our code to add comments, we can also use LLMs to transform our code base into release notes that can be consumed by others in the team and beyond. To do this, we create a new prompt with the following details; we check the solution tactics to ensure the release notes are legible:<a id="idIndexMarker074"/><a id="idIndexMarker075"/><a id="marker-84"/></p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a Java Developer. Convert the code delimited by three hashes into a bullet-pointed set of release notes that describes how the code works. Check that the release notes can be read by someone who has no experience with the code created before outputting it.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">We add an additional instruction to reduce the wordiness of the release notes:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table-list-a">   *   Only output the release notes.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Then we use delimiter tactics to state where the code is:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<pre class="programlisting">###
import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
 
public class Timesheet {
 
    private ConcurrentHashMap&lt;String, Long&gt; timesheets = 
    <span class="fm-code-continuation-arrow">➥</span>new ConcurrentHashMap&lt;&gt;();
 
    public boolean submitTimesheet(String projectName, long duration) {
        if (projectName != null &amp;&amp; duration &gt; 0) {
                    projectName = projectName.toLowerCase();
 
            timesheets.put(projectName,
            <span class="fm-code-continuation-arrow">➥</span>timesheets.getOrDefault(projectName, 0L) + duration);
            return true;
        } else {
            return false;
        }
    }
 
    public Collection&lt;Long&gt; getTimesheets() {
        return timesheets.values();
    }
 
    public long getTotalTimesheetHours(String projectName) {
        return timesheets.getOrDefault(projectName.toLowerCase(), 0L);
    }
 
}
###</pre>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-85"/>The prompt follows a similar pattern to the previous code comment-focused prompt, but this time, instead of asking it to inject comments into our code, we instruct that the code be transformed into natural language release notes. For example, sending the prompt with the sample code to ChatGPT returned</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Release Notes:</p>
<p class="body-table-list-a">   *   The code defines a Java class named <code class="fm-code-in-text1">Timesheet</code> that is used to manage timesheet data.</p>
<p class="body-table-list-a">   *   It uses a <code class="fm-code-in-text1">ConcurrentHashMap</code> to store timesheet entries, where project names (in lowercase) are associated with their respective durations (in hours).</p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">submitTimesheet</code> method allows users to submit timesheet entries. It requires a project name and a positive duration as parameters. If these conditions are met, it stores the duration associated with the project name in the map. If not, it returns false.<a id="idIndexMarker076"/></p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">getTimesheets</code> method returns a collection of all recorded timesheet durations.<a id="idIndexMarker077"/></p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">getTotalTimesheetHours</code> method allows users to retrieve the total duration for a specific project name (case-insensitive). If the project name is not found, it returns 0.<a id="idIndexMarker078"/></p>
<p class="body-table">Note: Ensure that project names are provided in lowercase when using the <code class="fm-code-in-text1">submitTimesheet</code> method to avoid case sensitivity issues when retrieving total timesheet hours.<a id="idIndexMarker079"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">The result we get is in a completely different format compared to our original code that attempts to detail what our code base does. Reviewing the output, it does feel quite technical, which makes sense considering we’ve asked for detailed notes on a small amount of code. However, even these release notes can be of use because we can adapt an earlier prompt for suggesting risks to analyze the notes. We use delimiters to signal where the release notes will be:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">You are a software testing expert. Analyze the release notes delimited by triple hashes and identify risks that might impact the code. If no code is provided, respond with “No risks could be found.”</p>
</td>
</tr>
</tbody>
</table>
<p class="body"><a id="marker-86"/>We then provide instructions around quality characteristics and output structure:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table-list-a">   *   Risks must be related to the quality characteristics: Performance, security and interoperability</p>
<p class="body-table-list-a">   *   Multiple risks can be identified for each quality characteristic</p>
<p class="body-table-list-a">   *   Output identified risks in the format of Risk - Quality Characteristic - Explanation</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Few-shot prompting allows us to give an example of output structure</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Example:</p>
<p class="body-table">Overflow - Security - Adding in large integers as parameters might cause the method to trigger a buffer overflow.</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Release notes are provided within the instructed delimiters:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-MW.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">###</p>
<p class="body-table">Release Notes:</p>
<p class="body-table-list-a">   *   The code defines a Java class named <code class="fm-code-in-text1">Timesheet</code> that is used to manage timesheet data.</p>
<p class="body-table-list-a">   *   It uses a <code class="fm-code-in-text1">ConcurrentHashMap</code> to store timesheet entries, where project names (in lowercase) are associated with their respective durations (in hours).</p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">submitTimesheet</code> method allows users to submit timesheet entries. It requires a project name and a positive duration as parameters. If these conditions are met, it stores the duration associated with the project name in the map. If not, it returns false.<a id="idIndexMarker080"/></p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">getTimesheets</code> method returns a collection of all recorded timesheet durations.<a id="idIndexMarker081"/></p>
<p class="body-table-list-a">   *   The <code class="fm-code-in-text1">getTotalTimesheetHours</code> method allows users to retrieve the total duration for a specific project name (case-insensitive). If the project name is not found, it returns 0.<a id="idIndexMarker082"/></p>
<p class="body-table">Note: Ensure that project names are provided in lowercase when using the <code class="fm-code-in-text1">submitTimesheet</code> method to avoid case sensitivity issues when retrieving total timesheet hours.<a id="idIndexMarker083"/></p>
<p class="body-table">###</p>
</td>
</tr>
</tbody>
</table>
<p class="body">Using this prompt in ChatGPT returned the following suggested risks:</p>
<table border="0" class="contenttable-0-table" width="100%">
<colgroup class="contenttable-0-colgroup">
<col class="contenttable-0-col" span="1" width="7%"/>
<col class="contenttable-0-col" span="1" width="93%"/>
</colgroup>
<tbody class="contenttable-0-tbody">
<tr class="contenttable-0-tr">
<td class="contenttable-0-td">
<div class="figure2">
<p class="figure1"><img alt="" class="calibre7" height="40" src="../../OEBPS/Images/logo-openai.png" width="40"/></p>
</div>
</td>
<td class="contenttable-0-td">
<p class="body-table">Concurrent Modification - Performance - The use of <code class="fm-code-in-text1">ConcurrentHashMap</code> may not be suitable for high concurrent access, leading to performance bottlenecks if there are frequent modifications to the timesheet entries by multiple users simultaneously.</p>
<p class="body-table">Lack of Input Validation - Security - The <code class="fm-code-in-text1">submitTimesheet</code> method lacks proper input validation. It only checks for positive durations but does not validate the project name, making it vulnerable to injection attacks or other malicious input.<a id="idIndexMarker084"/></p>
<p class="body-table">Case Sensitivity - Interoperability - The requirement to provide project names in lowercase may lead to interoperability issues when integrating with systems that expect case-insensitive input or have different naming conventions.</p>
<p class="body-table">No Authentication/Authorization - Security - The release notes do not mention any authentication or authorization mechanisms, which can pose security risks if unauthorized users can submit or access timesheet data.</p>
<p class="body-table">Data Exposure - Security - The <code class="fm-code-in-text1">getTimesheets</code> method provides access to all recorded timesheet durations, which might expose sensitive information if not properly restricted or authenticated.<a id="idIndexMarker085"/></p>
</td>
</tr>
</tbody>
</table>
<p class="body">Of course, this might be an unnecessary step if we can directly ask an LLM to suggest risks based on the code directly, but it does demonstrate the power of LLM’s ability to transform data from one format to another.</p>
<h2 class="fm-head" id="heading_id_18">4.6 Maintaining a balance with code assistants</h2>
<p class="body">The perspective on the value that tools such as Copilot and ChatGPT offer depends on individuals. For some, it means the automation of development and the loss of many roles, and for others, it’s nothing but an advanced tool that randomly picks suggested code. What this chapter demonstrates is the ongoing theme that their worth and usefulness lie somewhere between those two extremes.<a id="idIndexMarker086"/><a id="idIndexMarker087"/><a id="marker-87"/></p>
<p class="body">These models, trained on masses of data from Stack Overflow and GitHub repositories, are very sophisticated in what they suggest for both production and test code. But they still require direction from us humans—direction that is guided by our abilities to communicate with stakeholders, analyze requirements, and design implementation. How well we can use AI tools in development depends on honing our complementary skills, which can be summarized by using the area-of-effect model shown in figure 4.2.</p>
<p class="body">A balanced approach can help us deliver features faster but still ensure that we build in quality. So, our goal is to maintain that balance in situations in which we may need to rely on our own abilities or the features of our tools. Sometimes, code assistants won’t be able to suggest the correct implementation, and we need to take charge. This gives us more control but does sacrifice speed. At other times, we can rely on code assistant tools to reference vast amounts of data to suggest new design ideas through unit checks or conversations. However, we want to ensure that we keep our TDD loops focused on design and not on test coverage. Too many unit checks, and we lose sight of our design and end up in a box-checking activity.</p>
<div class="figure">
<p class="figure1"><img alt="" class="calibre19" src="../../OEBPS/Images/CH04_F02_Winteringham2.png"/></p>
<p class="figurecaption">Figure 4.2 An area-of-effect model, updated to demonstrate the skills of a human and the abilities of code assistant tools</p>
</div>
<h2 class="fm-head" id="heading_id_19">Summary</h2>
<ul class="calibre5">
<li class="fm-list-bullet">
<p class="list">The majority of generative AI tools currently on the market rely on LLMs trained with vast amounts of data scraped from the internet.<a id="marker-88"/></p>
</li>
<li class="fm-list-bullet">
<p class="list">LLMs are sophisticated algorithms that apply statistical analysis to our requests to determine what output they should respond with.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Copilot is a coding assistant tool that uses the OpenAI GPT-4 and is trained on code stored on GitHub.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Copilot works within an IDE and reads your code as a prompt to suggest what to add next into test code and production code.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Tools such as Copilot can work well with the TDD red/green/refactor loop to help us rapidly create unit checks and production code.</p>
</li>
<li class="fm-list-bullet">
<p class="list">To help Copilot return code that is valuable, we need to guide it with prompts.</p>
</li>
<li class="fm-list-bullet">
<p class="list">Success with AI code assistants depends on our understanding of our abilities and the features of code assistant tools.</p>
</li>
<li class="fm-list-bullet">
<p class="list">There is push–pull relationship between how much we are leading versus the tooling leading design.</p>
</li>
<li class="fm-list-bullet">
<p class="list">We must be aware of the tradeoffs when the balance shifts from humans to tools leading.</p>
</li>
</ul>
</div></body></html>