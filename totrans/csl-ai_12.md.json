["```py\n!pip install git+https://github.com/y0-causal-inference/y0.git@v0.2.0\nfrom y0.dsl import P, Variable      #1\nE = Variable(\"E\")     #2\nI = Variable(\"I\")     #2\nquery = P[E](I)     #3\nquery      #4\n```", "```py\nimport requests     #1\ndef download_code(url):   #1\n    response = requests.get(url)   #1\n    if response.status_code == 200:    #1\n        code_content = response.text   #1\n        print(\"Code fetched successfully.\")  #1\n        return code_content    #1\n    else:   #1\n        print(\"Failed to fetch code.\")    #1\n        return None   #1\nurl = (   #1\n    \"https://raw.githubusercontent.com/altdeep/\"   #1\n    \"causalML/master/book/chapter%2010/id_utilities.py\"   #1\n)   #1\nutilities_code = download_code(url)   #1\nprint(utilities_code)    #2\n# After checking, uncomment the exec call to load utilities\n#exec(utilities_code)    #2\n\nfrom y0.graph import NxMixedGraph as Y0Graph    #3\nfrom y0.dsl import P, Variable    #4\nG = Variable(\"G\")   #4\nE = Variable(\"E\")     #4\nI = Variable(\"I\")    #4\ndag = Y0Graph.from_edges(    #4\n    directed=[     #4\n        (G, E),   #4\n        (G, I),     #4\n        (E, I)     #4\n    ]     #4\n)     #4\ngv_draw(dag)     #5\n```", "```py\ne = E    #1\ncheck_identifiable(     #2\n    dag,     #2\n    query=P(I @ e),     #2\n    distribution=P(G, E, I)    #2\n)     #2\n```", "```py\ncheck_identifiable(\n    dag,\n    query=P(I @ e),\n    distribution=P(E, I)\n)\n```", "```py\nfrom y0.graph import NxMixedGraph as Y0Graph\nfrom y0.dsl import P, Variable\nfrom y0.algorithm.identify import Identification, identify\n\nquery = P(I @ e)\nbase_distribution = P(I, E, G)\n\nidentification_task = Identification.from_expression(\n    graph=dag,\n    query=query,\n    estimand=base_distribution)\n\nidentify(identification_task)\n```", "```py\nfrom y0.graph import NxMixedGraph as Y0Graph\nfrom y0.dsl import P, Variable\nG = Variable(\"G\")     #1\nE = Variable(\"E\")     #1\nI = Variable(\"I\")    #1\nW = Variable(\"W\")     #1\ne = E     #1\ndag = Y0Graph.from_edges(     #1\n    directed=[     #1\n        (G, E),    #1\n        (G, I),     #1\n        (E, W),   #1\n        (W, I)    #1\n    ]     #1\n)     #1\n\nquery=P(I @ e)     #2\nbase_distribution = P(I, E, W)    #3\n\nidentification_task = Identification.from_expression(    #4\n    graph=dag,    #4\n    query=query,     #4\n    estimand=base_distribution)     #4\nidentify(identification_task)     #4\n```", "```py\nT = Variable(\"T\")     #1\nW = Variable(\"W\")    #1\nB = Variable(\"B\")    #1\nV = Variable(\"V\")    #1\nC = Variable(\"C\")    #1\nA = Variable(\"A\")    #1\nt, a, w, v, b = T, A, W, V, B   #1\ndag = Y0Graph.from_edges(directed=[     #2\n    (T, W),    #2\n    (W, A),    #2\n    (B, V),    #2\n    (V, A),    #2\n    (C, T),    #2\n    (C, A),    #2\n    (C, B)    #2\n])    #2\ngv_draw(dag)    #3\n```", "```py\nfrom y0.algorithm.identify.idc_star import idc_star\n\nidc_star(\n    dag,\n    outcomes={A @ -t: +a},     #1\n    conditions={T: +t}    #2\n)\n```", "```py\nfrom y0.algorithm.identify.cg import make_parallel_worlds_graph\nparallel_world_graph = make_parallel_worlds_graph(    #1\n    dag,  #1\n     {frozenset([+t])}    #1\n)    #1\ngv_draw(parallel_world_graph)     #2\n```", "```py\nfrom y0.algorithm.identify.cg import make_counterfactual_graph\n\nevents = {A @ -t: +a, T: +t}    #1\ncf_graph, _ = make_counterfactual_graph(dag, events)\ngv_draw(cf_graph)\n```", "```py\nparallel_world_graph = make_parallel_worlds_graph(\n    dag,\n   {frozenset([-t]), frozenset([-b])}      #1\n)\ngv_draw(parallel_world_graph)\n```", "```py\njoint_query = {A @ -t: +a, T: +t, B: -b, V @ -b: +v}\ncf_graph, _ = make_counterfactual_graph(dag, joint_query)\ngv_draw(cf_graph)\n```", "```py\nimport jax.numpy as np\nfrom jax import random\nfrom numpyro import sample\nfrom numpyro.handlers import condition, do\nfrom numpyro.distributions import Bernoulli, Normal\nfrom numpyro.infer import MCMC, NUTS\nimport matplotlib.pyplot as plt\n\nrng = random.PRNGKey(1)\n\ndef model():    #1\n    p_member = 0.5  #1\n    is_guild_member = sample(    #1\n        \"Guild Membership\",    #1\n        Bernoulli(p_member)   #1\n    )    #1\n    p_engaged = (0.8*is_guild_member + 0.2*(1-is_guild_member))    #1\n    is_highly_engaged = sample(    #1\n        \"Side-quest Engagement\",  #1\n        Bernoulli(p_engaged)   #1\n    )    #1\n    p_won_engaged = (.9*is_highly_engaged + .1*(1-is_highly_engaged))    #1\n    high_won_items = sample(\"Won Items\", Bernoulli(p_won_engaged))    #1\n    mu = (    #1\n        37.95*(1-is_guild_member)*(1-high_won_items) +    #1\n        54.92*(1-is_guild_member)*high_won_items +    #1\n        223.71*(is_guild_member)*(1-high_won_items) +    #1\n        125.50*(is_guild_member)*high_won_items    #1\n    )   #1\n    sigma = (   #1\n        23.80*(1-is_guild_member)*(1-high_won_items) +    #1\n        4.92*(1-is_guild_member)*high_won_items +    #1\n        5.30*(is_guild_member)*(1-high_won_items) +    #1\n        53.49*(is_guild_member)*high_won_items    #1\n    )  #1\n    norm_dist = Normal(mu, sigma)#1\n    in_game_purchases = sample(\"In-game Purchases\", norm_dist)    #1\n```", "```py\nintervention_model = do(     #1\n    model,    #1\n    {\"Side-quest Engagement\": np.array(0.)})    #1\nintervention_kernel = NUTS(intervention_model)    #2\nintervention_model_sampler = MCMC(    #2\n    intervention_kernel,   #2\n    num_samples=5000,  #2\n    num_warmup=200     #2\n)     #2\nintervention_model_sampler.run(rng)    #2\nintervention_samples = intervention_model_sampler.get_samples()    #2\nint_purchases_samples = intervention_samples[\"In-game Purchases\"] #2\n```", "```py\ncond_and_int_model = condition(    #1\n    intervention_model,   #1\n     {\"Side-quest Engagement\": np.array(1.)}   #1\n)    #1\nint_cond_kernel = NUTS(cond_and_int_model)    #2\nint_cond_model_sampler = MCMC(     #2\n    int_cond_kernel,     #2\n    num_samples=5000,     #2\n    num_warmup=200   #2\n)     #2\nint_cond_model_sampler.run(rng)     #2\nint_cond_samples = int_cond_model_sampler.get_samples()   #2\nint_cond_purchases_samples = int_cond_samples[\"In-game Purchases\"]  #2\n```", "```py\nplt.hist(     #1\n    int_purchases_samples,   #1\n    bins=30,    #1\n    alpha=0.5,    #1\n    label='$P(I_{E=0})$'   #1\n)     #1\nplt.hist(     #2\n    int_cond_purchases_samples,    #2\n    bins=30,     #2\n    alpha=0.5,     #2\n    label='$P(I_{E=0}|E=1)$'     #2\n)     #2\nplt.legend(loc='upper left')    #2\nplt.show()    #2\n```"]