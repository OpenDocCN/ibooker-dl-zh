- en: Chapter 3\. Advanced Tableau Pulse Features
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you know how to enable Tableau Pulse and construct basic metrics, it’s
    time to dig into the more advanced features that are available. These advanced
    features allow you, the metric author, to create more robust metrics using definition
    filters, make adjustments to the time dimension, and construct an advanced metric
    definition with calculated fields or custom filtering. You’ll also learn how permissions
    for metrics work and how to manage them.
  prefs: []
  type: TYPE_NORMAL
- en: Definition Filters
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the preceding chapter, I briefly described a definition filter. A *definition
    filter* is a preset form of data filtering that limits what records are included
    in a metric definition. That means for each subsequent metric created from a metric
    definition, the scope and inclusion of data that is used for the metrics are always
    filtered in the same way. This behavior is distinctly different from the adjustable
    metric filters, as they are not visible or accessible (adjustable) to the end
    user.
  prefs: []
  type: TYPE_NORMAL
- en: A good use case for a definition filter may be when you cannot change or introduce
    filters in the published data source used for the subsequent metrics. This could
    be because it is not your responsibility to manage, create, or maintain the published
    data source. It could also simply mean that introducing those filters for the
    entire published data source would overly limit and reduce the scope of analysis
    available. Regardless of the reason, definition filters are the in-between filtering
    you’ll want to use for metric definitions when each downstream metric relies on
    the same filtered data.
  prefs: []
  type: TYPE_NORMAL
- en: Application of Definition Filters
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A definition filter is applied in the same metric definition menu you’ve seen
    before. Beneath the measure you select for the metric definition, you’ll see a
    button to add a definition filter. Only text-based (string) fields are available
    for selection from the dropdown. Let’s go through an example with the same published
    data source used in [Chapter 2](ch02.html#ch02_getting_started_with_tableau_pulse_1732595607647464)
    (refer to [Figure 2-8](ch02.html#ch02_figure_8_1732595607634683) for Superstore
    Transactions).
  prefs: []
  type: TYPE_NORMAL
- en: 'This time, you’ll construct a metric called US Orders, which will be the distinct
    count of order IDs associated with orders shipped to the US. The data set includes
    a field called Country/Region that has two values: United States and Canada. You’ll
    be setting the definition filter to United States. [Figure 3-1](#ch03_figure_1_1732595608093614)
    shows the metric configuration and highlights the location of the Add Definition
    Filter button.'
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a phone  Description automatically generated](assets/lait_0301.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-1\. The metric definition for US Orders
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Clicking Add Definition Filter opens a dropdown where you can select the appropriate
    field, Country/Region. A window will appear where you can set the behavior of
    the filter. The filter can be set to include or exclude values in a multiselect
    format, and there is also a search function for fields with many values. [Figure 3-2](#ch03_figure_2_1732595608093646)
    shows the options for the field.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0302.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-2\. The definition filter for Country/Region
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: As you would expect, all the data in the metric definition is now for only the
    US. From here, if you wanted to, you could apply another definition filter. When
    you do this, you’ll notice that the Country/Region option is no longer available
    to select. That’s because each field’s filtering behavior can be configured only
    once (later in the chapter you’ll see how to work around this). Additionally,
    these filters are immediately applied and considered for any subsequent definition
    filtering. For example, after selecting United States, applying a filter for State/Province
    includes only names of US states.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A best practice for applying filters is to start from the broadest filter, the
    filter that will reduce the most rows from your data, and continue down to the
    narrowest filter. Throughout the Tableau platform, filters are typically shown
    in a vertical list format, so maintaining this approach allows for easy debugging
    if you end up over-filtering your data or are trying to ensure that only relevant
    data is included in your analysis.
  prefs: []
  type: TYPE_NORMAL
- en: The great news is that the application of this definition filter applies to
    all child metrics based off this metric definition. This saves a lot of work and
    ensures consistency across the metrics.
  prefs: []
  type: TYPE_NORMAL
- en: Relationship to Adjustable Metric Filters
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Although definition filters work behind the scenes, that doesn’t mean the fields
    used within those filters can’t also be used as adjustable metric filters for
    end users. Remember, an adjustable metric filter is an interactive filter that
    end users can access to filter and limit data shown in the metric. The distinction
    here is that only those values that are included in the definition filter are
    listed in the subsequent adjustable metric filters. So, if, for example, you include
    an adjustable filter for Country/Region for the metric definition, as in the previous
    example, your end user will see only United States as an option for interactive
    filtering.
  prefs: []
  type: TYPE_NORMAL
- en: The Time Dimension
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 2](ch02.html#ch02_getting_started_with_tableau_pulse_1732595607647464)
    covered the time dimension, the field that is used for the date axis and trending.
    Tableau Pulse also uses the time dimension to compute different comparison periods.
    The *granularities* (unit of time) that Tableau Pulse supports for dates are days,
    weeks, months, quarters, and years. It also supports the use of fiscal calendars
    which have a different start date than the default Gregorian calendar. Remember
    that fields must exist in the published data source to be selected for the time
    dimension—as such, modifications can be made to the published data source to explore
    this functionality.'
  prefs: []
  type: TYPE_NORMAL
- en: 'If you’re following along, make these updates to the published data source
    Superstore Transactions:'
  prefs: []
  type: TYPE_NORMAL
- en: Create a field called Order Date (Months) by right-clicking the Order Date and
    creating a custom date field that uses Months as the Detail and the Date Value
    (see [Figure 3-3](#ch03_figure_3_1732595608093668)).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0303.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 3-3\. The Create Custom Date window
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Create a field called Order Date (Quarters) by using the same action as the
    previous step, but this time selecting Quarters as the Detail.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a field called Order Date (Years), setting Years as the Detail.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Right-click Order Date and select Duplicate; rename the field as Order Date
    FY.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Set the Fiscal Year Start for the Order Date FY field to July by right-clicking
    Order Date FY, and then choosing Default Properties > Fiscal Year Start > July
    (see [Figure 3-4](#ch03_figure_4_1732595608093688)).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0304.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 3-4\. Setting the Fiscal Year Start for a field
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Publish the updated data source to Tableau Cloud.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now there are four new variations of the Order Date to work with: the first
    three, which specify the granularity of the date to larger time units (months,
    quarters, years), and one where the fiscal year starts in July. Let’s go through
    an example with one of these dates to fully explore Pulse functionality.'
  prefs: []
  type: TYPE_NORMAL
- en: Exploring Time Granularity
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you created custom dates for months, quarters, and years, behind the scenes
    Tableau truncated the dates to the specificity you set. Another way to think about
    it is that it rounded the date to the nearest time unit you specified. [Table 3-1](#ch03_table_1_1732595608098525)
    shows how Tableau transforms the date June 15, 2024 (06/15/2024).
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-1\. Transformation of date based on specified detail
  prefs: []
  type: TYPE_NORMAL
- en: '| Date | New date granularity | Transformation |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 06/15/2024 | Months | 06/01/2024 |'
  prefs: []
  type: TYPE_TB
- en: '| 06/15/2024 | Quarters | 04/01/2024 |'
  prefs: []
  type: TYPE_TB
- en: '| 06/15/2024 | Years | 01/01/2024 |'
  prefs: []
  type: TYPE_TB
- en: You can now create a metric using one of these new date fields; you can use
    the Quarters version and find out what happens.
  prefs: []
  type: TYPE_NORMAL
- en: 'This time, construct a metric for Quantity Sold using Order Date (Quarters)
    by setting the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Measure*: Quantity'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Aggregation*: Sum'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Show sparkline values to date as*: Non-cumulative'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Time dimension*: Order Date (Quarters)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Adjustable metric filters*: Region'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can leave everything else at its default setting and then save the definition.
    [Figure 3-5](#ch03_figure_5_1732595608093707) shows the completed metric from
    the definition.
  prefs: []
  type: TYPE_NORMAL
- en: The resulting metric doesn’t appear very useful. Instead, it is completely blank,
    with no metric summary or visualization. Scanning over the metric begins to reveal
    the *why* behind this. The time dimension chosen is at the quarter level, so the
    only possible values for the date in use by Pulse are January 1, April 1, July
    1, or October 1\. Furthermore, the metric identifies that it is Month to Date
    (next to the Filter button) for the month of June, and the visualization date
    axis goes from September 1 to September 29\. This explains why the metric is blank.
    There are no September dates to use.
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a chat  Description automatically generated](assets/lait_0305.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-5\. Newly created Quantity Sold metric
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Setting Minimum Time Granularity
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you encounter this scenario, you can use the Minimum time granularity feature
    located in the “Advanced time settings” section of the Definition menu. This feature
    allows you to set the minimum granularity level that the line chart data points
    will display at; the options are day, week, month, quarter, and year. Once set,
    any metrics created from the definition will adhere to this behavior, and users
    will not be able to select time ranges that are *more* granular than the specified
    granularity. [Figure 3-6](#ch03_figure_6_1732595608093727) shows how applying
    a default time granularity of quarter impacts the Quantity Sold metric. Notice
    how the drop-down options for selecting a different time period have been reduced
    to only those that make sense for dates at a quarter granularity. Similarly, there
    is a callout when hovering over the dropdown to let the user know this limitation
    has been set.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0306.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-6\. Quantity Sold metric time period options after specifying a minimum
    time granularity
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: In this metric example, you had a choice to select the less granular date field,
    but in reality you may not have that choice. As such, it’s important to recognize
    the default time granularity behavior and how specifying a minimum time granularity
    will impact metrics. The time axis used for each time horizon in Pulse when the
    minimum granularity is set to the default of days is summarized in [Table 3-2](#ch03_table_2_1732595608098558)
    along with how each comparison period is computed. Month to Date is the default
    time horizon whenever a new metric definition is made.
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-2\. Available time horizons with date axis units and comparison periods
    in Pulse
  prefs: []
  type: TYPE_NORMAL
- en: '| Time horizon | Date axis units | Prior period | Prior year |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Today | Days | The value computed using yesterday | The value computed for
    the same day from the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Yesterday | Days | The value computed using the day before yesterday | The
    value computed for the same day (yesterday) from the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Week to Date | Days | The value computed using the prior week | The value
    computed using the same week from the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Last Week | Weeks | The value computed using the week before the prior week
    | The value computed using the same week from the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Month to Date (default time horizon) | Days | The value computed using the
    same number of days of the month directly prior to the current month | The value
    computed using the same number of days of the same month for the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Last Month | Months | The value computed using the month prior to last month
    | The value computed using the same month for the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Quarter to Date | Weeks | The value computed using the same number of days
    of the quarter directly prior to the current quarter | The value computed using
    the same number of days of the same quarter for the prior year |'
  prefs: []
  type: TYPE_TB
- en: '| Last Quarter | Quarters | The value computed using the quarter before the
    prior quarter | The value computed using the same quarter from the prior year
    |'
  prefs: []
  type: TYPE_TB
- en: '| Year to Date | Months | The value computed using the same number of days
    for the prior year | No comparison (identical to prior period) |'
  prefs: []
  type: TYPE_TB
- en: '| Last Year | Years | The value computed for the year prior to last year |
    No comparison (identical to prior period) |'
  prefs: []
  type: TYPE_TB
- en: From the table, you can see that many of these time horizons display metrics
    using days, so it’s safe to say that you’ll get the most benefit out of Pulse
    if your time dimension is at a daily granularity.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Tableau Pulse has recently introduced the ability to specify the lowest date
    granularity allowed for a metric. However, your author still believes you’ll get
    the most flexibility with sticking to days.
  prefs: []
  type: TYPE_NORMAL
- en: Using Fiscal Calendars
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Tableau Pulse also supports the use of fiscal calendar dates for the time dimension.
    As mentioned earlier, a *fiscal calendar* has a different start date than the
    Gregorian calendar (which starts in January). You already set the fiscal start
    of the duplicated Order Date field, Order Date FY, to July, so now it’s time to
    see it in action.
  prefs: []
  type: TYPE_NORMAL
- en: 'Construct a metric called Profit from Sales as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Measure*: Profit'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Aggregation*: Sum'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Show sparkline values to date as*: Running total'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Time dimension*: Order Date FY'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Adjustable metric filters*: Category'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You’ll notice that, beneath the time dimension box, a new message states that
    the fiscal year start for the field is July, as seen in [Figure 3-7](#ch03_figure_7_1732595608093747).
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a phone  Description automatically generated](assets/lait_0307.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-7\. The fiscal year start highlighted for the selected time dimension
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Tableau Pulse will now use this information to construct the time horizons and
    comparison periods. It also includes the word *fiscal* in the summaries and time
    horizon options. The scope and size of the time horizons don’t change with the
    use of a time dimension, and neither do the date axis and time units. Only the
    names of the periods, such as Fiscal Quarter to Date instead of Quarter to Date,
    are modified. [Figure 3-8](#ch03_figure_8_1732595608093768) shows the metric when
    set to Last Fiscal Quarter.
  prefs: []
  type: TYPE_NORMAL
- en: '![A graph on a screen  Description automatically generated](assets/lait_0308.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-8\. A metric using a time dimension with a fiscal calendar start of
    July (see a larger version of this figure [online](https://oreil.ly/lait0308))
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Offsetting the Date
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can adjust one last setting related to the time dimension, which is an offset
    of days from today. This can be very useful if the underlying data for the metric
    you’re constructing isn’t available through today. It can also be useful if the
    data for today is in flux and including it in the metric could generate misleading
    insights. This setting is accessed by clicking “Advanced time settings” beneath
    the “Time dimension” dropdown in the metric Definition. Clicking this opens an
    input box where you can enter a positive integer from 0 to 365 days for the offset.
    This offset works for both fiscal and default time dimensions. [Figure 3-9](#ch03_figure_9_1732595608093786)
    shows the input box for the metric from the previous example. When an offset is
    specified, the metric will no longer include data from the days included in the
    offset. Functionally, this means when you select Month to Date, Quarter to Date,
    or Year to Date time horizons, the end date for each of these selections will
    be today minus the offset days.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0309.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-9\. The Date offset box for a time dimension
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Advanced Metric Definition
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Up to this point you’ve relied on preexisting fields in the published data source
    to construct Pulse metrics. But what happens if you need to create a metric that
    relies on a calculation based on two measures in your data? What if you need a
    definition filter more robust than a multiselect list, or you simply prefer to
    work with the worksheet editor interface you’re accustomed to in the Tableau visualization
    authoring experience? In these scenarios, using the advanced metric definition
    feature will be necessary. The *advanced metric definition*functionality grants
    you access to an editor interface where you can drag and drop fields onto a canvas.
    Additionally, you’ll have access to the majority of the functionality (like creating
    bins, sets, and calculated fields) that you’re used to in the typical authoring
    experience. When you choose to use this feature, it will replace the fields in
    the metric definition.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'When using the advanced metric definition functionality, you’ll be specifying
    all three components of the metric definition: the measure, the time dimension,
    and definition filters (optional).'
  prefs: []
  type: TYPE_NORMAL
- en: Calculated Field as Measure
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'It’s easy to imagine that you may need to create a new field based on other
    fields in your existing data set. Often transformation calculations like ratios,
    normalizations, or logic statements can add deeper and more impactful analysis
    and insight to your data. These fields are unlikely to be precomputed in your
    data source (especially if you’re connecting directly to the source system). Here
    you have a choice in approach: construct the calculated field in the published
    data source and then select it in the metric definition as the measure, or calculate
    the field by using the advanced metric definition feature. Let’s walk through
    the latter.'
  prefs: []
  type: TYPE_NORMAL
- en: Using the same published data source, Superstore Transactions, you’ll construct
    a new field called Profit Ratio. [Figure 3-10](#ch03_figure_10_1732595608093806)
    shows the Advanced Analytics Editor that pops up when you select Advanced Metric
    Definition located below the “Compared to” section in the Definition menu.
  prefs: []
  type: TYPE_NORMAL
- en: Here you see the familiar worksheet editor with a few minor modifications. The
    Data pane is still available on the left for access to the fields in your data
    source. However, instead of having a Rows shelf and Columns shelf, you have a
    Measure shelf and Time Dimension shelf. There is still a Filters shelf, but the
    Marks card is completely missing. Additionally, in this editor you are not able
    to control the type of visualization that is shown in the canvas.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0310.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-10\. The Advanced Analytics Editor
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To construct the Profit Ratio calculation, right-click the Profit metric, and
    choose Create > Calculated Field as shown in [Figure 3-11](#ch03_figure_11_1732595608093825).
  prefs: []
  type: TYPE_NORMAL
- en: 'This action displays a calculation editor where you can enter in the following
    calculation: `**SUM(Profit) / SUM(Sales)**`; name the new field Profit Ratio,
    as shown in [Figure 3-12](#ch03_figure_12_1732595608093843).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0311.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-11\. Creating a calculated field from the Profit field
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0312.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-12\. A calculation for Profit Ratio
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This new field can now be dragged onto the Measure shelf. Next, drag Order Date
    onto the Time Dimension shelf. By default, the Order Date will show up as a *discrete*dimension
    with the `YEAR()` function—carryover default behavior from the typical visualization
    authoring experience. A *discrete* field in Tableau has a finite list of options
    for the field value and is visually denoted by the blue color of the field. Additionally,
    discrete fields are used as headers in visualizations. This is in contrast to
    a *continuous* field that shows up as green and generates a visualization axis,
    demonstrating the infinite possibilities of potential values. The `YEAR()` function
    returns the four-digit year associated with the date. The resulting visualization
    is shown in [Figure 3-13](#ch03_figure_13_1732595608093863). Paradoxically, the
    behavior applied to the Order Date field in the visualization is completely ignored
    when passed back to the metric definition. This means that although the visualization
    in the Advanced Analytics Editor shows a chart of Profit Ratio by the year of
    the Order Date, the metric definition and subsequent metrics will access the Order
    Date by its natural time granularity of days.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0313.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-13\. The Advanced Analytics Editor with the Profit Ratio calculated
    field in use
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When you click Apply to save the advanced metric definition, a warning message
    pops up reminding you that there must be a measure and a time dimension specified
    for the definition to be valid, as shown in [Figure 3-14](#ch03_figure_14_1732595608093882).
    If your advanced definition is missing any of the required components, you’ll
    be unable to exit the editor screen, and a red error message will display at the
    top.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 3-15](#ch03_figure_15_1732595608093904) shows how the selections from
    the editor are mapped to the sections in the metric definition. When a calculated
    field is chosen for a Measure, the option to specify a running total sparkline
    for *to date* options is no longer available and instead will always be displayed
    as non-cumulative.'
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a computer screen  Description automatically generated](assets/lait_0314.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-14\. Warning message when applying an advanced metric definition
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![A screenshot of a phone  Description automatically generated](assets/lait_0315.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-15\. The metric definition generated from the advanced metric definition
    constructed in the Advanced Analytics Editor
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Custom Definition Filter
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: One of my favorite features of Tableau is the ability to filter data in a variety
    of ways. As you saw earlier in this chapter, text fields can be used as definition
    filters by way of a multiselect include or exclude list. However, discrete dimensions
    of any field type can also be filtered using a *wildcard* condition, a condition
    that relies on the value of an aggregated field or formula, and a *top* or *bottom*
    condition that relies on the value of an aggregated field or formula. All these
    additional filtering types can be applied only as definition filters through the
    Advanced Analytics Editor. The editor is also the only place you’ll be able to
    apply a definition filter based on a measure.
  prefs: []
  type: TYPE_NORMAL
- en: 'Imagine you get a request to construct a metric that displays the quantity
    of Canon printers, copiers, scanners, and fax machines sold. You may consider
    building a multiselect definition filter based on the Product Name field in the
    traditional way, but this has limitations. First, there are several values, and
    it can be easy to miss one in a large checklist. Next, new products are added
    to inventory frequently. If you use the typical multiselect list, new values won’t
    automatically be added to the filter. Instead you’ll end up maintaining the definition
    filter in perpetuity, as you try to ensure all past and future products are included
    in the filter. It would be better to construct a wildcard filter based on Product
    Name. To do this, click the Create Advanced Definition button in a new metric
    definition window. Then do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Drag Quantity to the Measure shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag Order Date to the Time Dimension shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag Product Name to the Filters shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Once you drag the Product Name to the Filters shelf, the full filter configuration
    window will appear, as seen in [Figure 3-16](#ch03_figure_16_1732595608093923).
    Click the arrow next to General to collapse the multiselect list functionality,
    then click the arrow next to Wildcard to expand the options. From here, enter
    “`**Canon**`” in the “Match value” box, and keep the Comparison set to Contains.
    This will limit the metric to only sum the quantity of products sold that contain
    the name *Canon*. Alternatively, you could select “Starts with” if you wanted
    to enforce that the first word of the Product Name is *Canon*.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0316.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-16\. Constructing a custom wildcard definition filter
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To enhance this metric further, you can add Product Name as an adjustable filter
    in the definition. When metrics from this definition are constructed, end users
    can select from the dropdown of available Canon products and see them in the Breakdown.
    [Figure 3-17](#ch03_figure_17_1732595608093942) shows the newly created metric
    and breakdown for the Year to Date.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0317.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-17\. Metric with Breakdown shown after applying custom definition filter
    (see a larger version of this figure [online](https://oreil.ly/lait0317))
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Now let’s go through an example where the metric has a definition filter based
    on a measure. This type of filtering is useful anytime you want to isolate data
    used in a Pulse metric based on a numerical value.
  prefs: []
  type: TYPE_NORMAL
- en: 'Continuing with Superstore Transactions, you can construct a metric showing
    the number of items sold where the Discount value was at least 50%. At Superstore,
    any sale with a discount of 50% or greater represents discontinued products. The
    department buyers like to track these transactions to minimize the amount of unpopular
    products stocked. To do this, click the Create Advanced Definition button in a
    new metric definition window. Then do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Drag Quantity to the Measure shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag Order Date to the Time Dimension shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag Discount to the Filters shelf.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Once you drag Discount to the Filters shelf, a menu will pop up ([Figure 3-18](#ch03_figure_18_1732595608093961)).
    Since this is a numerical filter, you’re given the option to filter by the individual
    values that exist in the Discount field (“All values”), or you can filter by a
    specified aggregation. Additionally, because you want to filter individual rows
    of data that have a discount value of at least 50%, select “All values.” An additional
    box will display ([Figure 3-19](#ch03_figure_19_1732595608093980)) that allows
    you to specify the way the data is limited. Here choosing the “At least” option
    and setting the minimum to 0.5 (50%) makes the most sense.
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0318.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-18\. Filter menu specifying how a measure is to be filtered
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: As a last step, include Sub-Category as an adjustable filter. Remember, the
    department buyers are on the lookout for products that aren’t sold until they
    are discontinued, so including the Sub-Category will help them identify if one
    particular type of product isn’t very popular. [Figure 3-20](#ch03_figure_20_1732595608093998)
    shows the completed metric set to Quarter to Date with Breakdown; it appears that
    many Binders have been discontinued and sold.
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0319.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-19\. Filter menu specifying the minimum Discount value to be included
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0320.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-20\. Metric with a custom definition filter based on a measure (see
    a larger version of this figure [online](https://oreil.ly/lait0320))
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The Advanced Metric Definition feature adds a very robust capability for constructing
    Pulse Metrics. In [Chapter 5](ch05.html#ch05_use_cases_with_tableau_pulse_1732595608896811),
    you’ll see more examples of this functionality in action.
  prefs: []
  type: TYPE_NORMAL
- en: Managing Pulse Metrics
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you’ve seen how to construct advanced Pulse metrics, it’s time to turn
    your attention to managing the metric definitions and subsequent metrics that
    are created. Remember that one of the most important responsibilities you take
    on is ensuring that the right people have access to the right information.
  prefs: []
  type: TYPE_NORMAL
- en: Permissions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Tableau platform has a very detailed and robust permissions capability.
    Permissions determine not only who has access to what, but also the level of interactivity
    an end user can have, including whether they can see disaggregated data. In addition
    to permissions, content is organized in folders called *Projects* where permissions
    can be applied en masse to all content contained within the folder.
  prefs: []
  type: TYPE_NORMAL
- en: Permissions for Pulse metrics start at the published data source level. This
    alone will determine whether a user will be able to create or follow a metric.
    For each published data source, several permission types are available (described
    in [Table 3-3](#ch03_table_3_1732595608098581)). It’s important to remember that
    these permissions are set in Tableau Cloud and won’t be accessible or adjustable
    when in Pulse.
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-3\. Types of permissions available for a published data source
  prefs: []
  type: TYPE_NORMAL
- en: '| Permission | Granted ability | Necessary for Pulse |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| View | User can see the data source on Tableau Cloud. | Yes |'
  prefs: []
  type: TYPE_TB
- en: '| Connect | User can connect to the data source by using Tableau Desktop, Prep
    Builder, Ask Data, or web authoring. | Yes |'
  prefs: []
  type: TYPE_TB
- en: '| Download Data Source | User can download published data source as a standalone
    file (*.tdsx*). | No |'
  prefs: []
  type: TYPE_TB
- en: '| Overwrite | User can overwrite the existing data source. | No |'
  prefs: []
  type: TYPE_TB
- en: '| Save As | User can save the published data source as a new file. | No |'
  prefs: []
  type: TYPE_TB
- en: '| Move | User can move the data source to a different project. | No |'
  prefs: []
  type: TYPE_TB
- en: '| Delete | User can delete the data source. | No |'
  prefs: []
  type: TYPE_TB
- en: '| Set Permissions | User can create and edit permissions rules for the data
    source. | No |'
  prefs: []
  type: TYPE_TB
- en: 'To create or access Pulse metrics, a user must have both the View and Connect
    permissions. In addition to permissions, capabilities of a user are also governed
    by their site role. There are six roles:'
  prefs: []
  type: TYPE_NORMAL
- en: Site Administrator Creator
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creator
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Site Administrator Explorer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Explorer (can publish)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Explorer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Viewer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Viewers and Explorers will be able to create and access metrics, whereas Site
    Administrator Creators, Creators, Site Administrator Explorers, and Explorers
    (can publish) will be able to create metric definitions along with metrics. Finally,
    permissions can be applied to user groups or individual users. [Figure 3-21](#ch03_figure_21_1732595608094017)
    shows the permissions assigned to a group for the Superstore Transactions published
    data source. These permissions will allow anyone in the group to access and build
    metrics from definitions, and those with an Explorer (can publish) or greater
    role can create new metric definitions.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0321.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-21\. Permissions set for published data source (see a larger version
    of this figure [online](https://oreil.ly/lait0321))
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Followers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To see what metric definitions and metrics exist in Pulse, go to its Browse
    Metrics section. Remember, you’ll need to have a Site Administrator Creator, Creator,
    Site Administrator Explorer, or Explorer (can publish) role to edit or delete
    the metric definition. [Figure 3-22](#ch03_figure_22_1732595608094035) shows the
    metric definitions on my Tableau Cloud site.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lait_0322.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-22\. List of metric definitions and metrics available
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Within the screen in [Figure 3-22](#ch03_figure_22_1732595608094035), you can
    see the name of metric definitions, the number of child metrics created for each
    definition, and the data source the definition is connected to. An Actions menu
    allows you to navigate to the Insights Exploration section, see all metrics created
    from the definition, and both edit and delete the definition. [Figure 3-23](#ch03_figure_23_1732595608094054)
    shows the metrics that exist for the Sales metric definition.
  prefs: []
  type: TYPE_NORMAL
- en: It is from this screen that you’ll be able to see and manage who is following
    specific metrics. Each metric constructed indicates the number of followers and
    whether you are following the metric, and has a small triple dot actions menu
    to manage the followers. From this menu you can see, add, and remove groups and
    users from a metric. [Figure 3-24](#ch03_figure_24_1732595608094071) shows the
    followers for the Quarter to Date - Corporate metric.
  prefs: []
  type: TYPE_NORMAL
- en: Depending on where you’re looking, the number of followers may show as two different
    values. Within the Manage Followers menu, it is the count of unique groups and
    individual users named who follow the metric. On the metric itself (in [Figure 3-23](#ch03_figure_23_1732595608094054)),
    the number of followers represents the unique number of users and is therefore
    the accurate value to use to track the number of people following a given metric.
  prefs: []
  type: TYPE_NORMAL
- en: '![A screenshot of a computer  Description automatically generated](assets/lait_0323.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-23\. Metrics associated with the Sales metric definition (see a larger
    version of this figure [online](https://oreil.ly/lait0323))
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![](assets/lait_0324.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-24\. The followers assigned to a metric
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If a user’s access to a metric is in question, first check their permissions
    for the published data source by going to the permissions of the data source and
    entering the user’s name in the Effect Permissions section. This will also show
    you their site role. [Figure 3-21](#ch03_figure_21_1732595608094017) shows my
    effective permissions.
  prefs: []
  type: TYPE_NORMAL
- en: Tracking Usage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The last piece of managing Pulse metrics is tracking the quantity of definitions,
    metrics, and users. This is different from managing *who* is following a metric
    and instead aims at seeing a holistic picture of metrics across your entire Tableau
    Cloud environment. To do this, you can access data sources in the Admin Insights
    project.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Admin Insights is a project automatically created for each Tableau Cloud site.
    It includes a prebuilt workbook and data sources that contain metadata usage and
    information about content on Tableau Cloud and Pulse.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can use two data sources within Admin Insights to manage Pulse metrics.
    The first is the Site Content data source. This data source includes the content’s
    type, name, and key features. The most useful fields from this data source for
    managing Pulse metrics are the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Created At
  prefs: []
  type: TYPE_NORMAL
- en: The UTC timestamp (date and time) when an item was created
  prefs: []
  type: TYPE_NORMAL
- en: Created At (Local)
  prefs: []
  type: TYPE_NORMAL
- en: The timestamp (date and time), controlled by the Timezone parameter, when an
    item was created in your local timezone
  prefs: []
  type: TYPE_NORMAL
- en: Item Type
  prefs: []
  type: TYPE_NORMAL
- en: The type of content for Pulse items, either metric definition or metric
  prefs: []
  type: TYPE_NORMAL
- en: Item Name
  prefs: []
  type: TYPE_NORMAL
- en: The name of the item
  prefs: []
  type: TYPE_NORMAL
- en: Owner Email
  prefs: []
  type: TYPE_NORMAL
- en: The email address of the user who created the metric
  prefs: []
  type: TYPE_NORMAL
- en: Description
  prefs: []
  type: TYPE_NORMAL
- en: The description listed in the metric definition
  prefs: []
  type: TYPE_NORMAL
- en: Adjustable Filter Options
  prefs: []
  type: TYPE_NORMAL
- en: The fields added and selected as adjustable filter options for the metric definition
  prefs: []
  type: TYPE_NORMAL
- en: Has Definition Filters
  prefs: []
  type: TYPE_NORMAL
- en: A Boolean denoting whether definition filters are applied to a metric definition
  prefs: []
  type: TYPE_NORMAL
- en: Metric Definition Aggregation
  prefs: []
  type: TYPE_NORMAL
- en: The aggregation of the measure tracked in the metric definition
  prefs: []
  type: TYPE_NORMAL
- en: Metric Definition Data Source ID
  prefs: []
  type: TYPE_NORMAL
- en: The data source that the metric definition is connected to
  prefs: []
  type: TYPE_NORMAL
- en: Metric Definition ID for Related Metric
  prefs: []
  type: TYPE_NORMAL
- en: The definition that the metric originates from
  prefs: []
  type: TYPE_NORMAL
- en: Metric Definition Number Format
  prefs: []
  type: TYPE_NORMAL
- en: The number format of the metric definition value
  prefs: []
  type: TYPE_NORMAL
- en: Metric Time Granularity
  prefs: []
  type: TYPE_NORMAL
- en: The level of detail that the metric is aggregated to
  prefs: []
  type: TYPE_NORMAL
- en: 'The other useful data source is called Permissions. This data source lists
    the permissions type and granted permissions for all content on Tableau Cloud.
    Additionally, it includes whether the grantee is a user or a group. The most useful
    fields from this data source for managing Pulse metrics are the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Capability Type
  prefs: []
  type: TYPE_NORMAL
- en: The type of action a user can perform on a piece of content, like view or connect
  prefs: []
  type: TYPE_NORMAL
- en: Permission Description
  prefs: []
  type: TYPE_NORMAL
- en: The detailed description of the capability
  prefs: []
  type: TYPE_NORMAL
- en: Permission Value
  prefs: []
  type: TYPE_NORMAL
- en: A numerical representation of the effective permission
  prefs: []
  type: TYPE_NORMAL
- en: Grantee Name
  prefs: []
  type: TYPE_NORMAL
- en: The name of the user or group with permissions specified
  prefs: []
  type: TYPE_NORMAL
- en: Grantee Type
  prefs: []
  type: TYPE_NORMAL
- en: Denotes whether the grantee is a user or a group
  prefs: []
  type: TYPE_NORMAL
- en: Item Name
  prefs: []
  type: TYPE_NORMAL
- en: The name of the piece of content the permissions are applied to
  prefs: []
  type: TYPE_NORMAL
- en: Item Type
  prefs: []
  type: TYPE_NORMAL
- en: The type of content
  prefs: []
  type: TYPE_NORMAL
- en: User Email
  prefs: []
  type: TYPE_NORMAL
- en: The email address of the user with permissions
  prefs: []
  type: TYPE_NORMAL
- en: Has Permission?
  prefs: []
  type: TYPE_NORMAL
- en: A calculated Boolean field that determines whether a user has the stated permission.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 5](ch05.html#ch05_use_cases_with_tableau_pulse_1732595608896811)
    you’ll see examples of Pulse metrics that can be created from these data sources
    for easy administration.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, you’ve had exposure to the advanced features and capabilities
    in Tableau Pulse. Here are some key takeaways you’ve learned:'
  prefs: []
  type: TYPE_NORMAL
- en: Definition filters limit the scope of data included in a metric definition and
    its subsequent child metrics.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The time dimension can have a granularity of day, week, month, quarter, or year.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For the most benefit, use a time dimension with granularity of a day.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pulse will use fiscal calendar information assigned to a time dimension to adjust
    the time horizons and language present in the metric.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can offset the end date of a pulse metric by using the advanced time settings.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The advanced metric definition feature allows you to create calculated fields
    and use more robust filtering options.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using the advanced metric definition feature replaces the measure, aggregation,
    time dimension, and definition filters shown in the Value section of the metric
    definition.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom definition filters can be made using the advanced metric definition that
    include more robust filtering such as wildcard filtering or numerical measure
    filtering.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Permissions for metrics are governed by the permissions a user has for the published
    data source associated with the metric.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The followers for a metric can easily be managed through the action menu associated
    with the metric.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Two published data sources in Admin Insights contain metadata information for
    tracking usage and permissions associated with Pulse.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the next chapter, you’ll take a step back and learn what the Pulse environment
    looks like for an end user (not a metric author). You’ll see how their Pulse summaries
    are organized and displayed across a variety of environments, including Tableau
    Mobile. Finally, you’ll see how they can set up digests via email or Slack and
    what those digests consist of.
  prefs: []
  type: TYPE_NORMAL
