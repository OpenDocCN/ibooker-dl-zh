["```py\nfrom pydantic import BaseModel\n\nclass CalendarEvent(BaseModel):\n    name: str\n    date: str = Field(..., description=\"The date of the event. Use yyyy-MM-dd format\")\n    participants: list[str]\n```", "```py\ndate: str = Field(..., description=\"The date of the event. Use yyyy-MM-dd format\")\n```", "```py\nclass Contract(BaseModel):\n    \"\"\"\n    Represents the key details of the contract.   #1\n    \"\"\"\n\n    contract_type: str = Field(\n        ...,\n        description=\"The type of contract being entered into.\",\n        enum=contract_types,   #2\n    )\n    parties: List[Organization] = Field(   #3\n        ...,\n        description=\"List of parties involved in the contract, with details of each party's role.\",\n    )\n    effective_date: str = Field(\n        ...,\n        description=\"The date when the contract becomes effective. Use yyyy-MM-dd format.\",   #4\n    )\n    term: str = Field(\n        ...,\n        description=\"The duration of the agreement, including provisions for renewal or termination.\",\n    )\n    contract_scope: str = Field(\n        ...,\n        description=\"Description of the scope of the contract, including rights, duties, and any limitations.\",\n    )\n    end_date: Optional[str] = Field(    #5\n        ...,\n        description=\"The date when the contract becomes expires. Use yyyy-MM-\n    ↪ dd format.\",\n    )\n    total_amount: Optional[float] = Field(\n        ..., description=\"Total value of the contract.\"\n    )\n    governing_law: Optional[Location] = Field(\n        ..., description=\"The jurisdiction's laws governing the contract.\"\n    )\n```", "```py\ncontract_types = [\n    \"Service Agreement\",\n    \"Licensing Agreement\",\n    \"Non-Disclosure Agreement (NDA)\",\n    \"Partnership Agreement\",\n    \"Lease Agreement\"\n]\n```", "```py\nclass Organization(BaseModel):\n    \"\"\"\n    Represents an organization, including its name and location.\n    \"\"\"\n\n    name: str = Field(..., description=\"The name of the organization.\")\n    location: Location = Field(\n        ..., description=\"The primary location of the organization.\"\n    )\n    role: str = Field(\n        ...,\n        description=\"The role of the organization in the contract, such as \n    ↪ 'provider', 'client', 'supplier', etc.\", #1\n    )\n```", "```py\nclass Location(BaseModel):\n    \"\"\"\n    Represents a physical location including address, city, state, and country.\n    \"\"\"\n\n    address: Optional[str] = Field(\n        ..., description=\"The street address of the location.\"\n    )\n    city: Optional[str] = Field(..., description=\"The city of the location.\")\n    state: Optional[str] = Field(\n        ..., description=\"The state or region of the location.\"\n    )\n    country: str = Field(\n        ...,\n        description=\"The country of the location. Use the two-letter ISO standard.\",      #1\n    )\n```", "```py\nsystem_message = \"\"\"\nYou are an expert in extracting structured information from legal documents and contracts.\nIdentify key details such as parties involved, dates, terms, obligations, and legal definitions.\nPresent the extracted information in a clear, structured format. Be concise, focusing on essential\nlegal content and ignoring unnecessary boilerplate language. The extracted data will be used to address\nany questions that may arise regarding the contracts.\"\"\"\n```", "```py\ndef extract(document, model=\"gpt-4o-2024-08-06\", temperature=0):\n    response = client.beta.chat.completions.parse(\n        model=model,\n        temperature=temperature,\n        messages=[\n            {\"role\": \"system\", \"content\": system_message},   #1\n            {\"role\": \"user\", \"content\": document},    #2\n        ],\n        response_format=Contract,  #3\n    )\n    return json.loads(response.choices[0].message.content)\n```", "```py\nwith open('../data/license_agreement.txt', 'r') as file:\n    contents = file.read()    #1\n```", "```py\ndata = extract(contents)\nprint(data)\n```", "```py\n{'contract_type': 'Licensing Agreement',\n 'parties': [{'name': 'Mortgage Logic.com, Inc.',\n   'location': {'address': 'Two Venture Plaza, 2 Venture',\n    'city': 'Irvine',\n    'state': 'California',\n    'country': 'US'},\n   'role': 'Client'},\n  {'name': 'TrueLink, Inc.',\n   'location': {'address': '3026 South Higuera',\n    'city': 'San Luis Obispo',\n    'state': 'California',\n    'country': 'US'},\n   'role': 'Provider'}],\n 'effective_date': '1999-02-26',\n 'term': \"1 year, with automatic renewal for successive one-year periods unless terminated with 30 days' notice prior to the end of the term.\",\n 'contract_scope': 'TrueLink grants Mortgage Logic.com a nonexclusive license to use the Interface for origination, underwriting, processing, and funding of consumer finance receivables. TrueLink will provide hosting services, including storage, response time management, bandwidth, availability, access to usage statistics, backups, internet connection, and domain name assistance. TrueLink will also provide support services and transmit credit data as permitted under applicable agreements and laws.',\n 'end_date': None,\n 'total_amount': None,\n 'governing_law': {'address': None,\n  'city': None,\n  'state': 'California',\n  'country': 'US'}}\n```", "```py\nneo4j_driver.execute_query(\n    \"CREATE CONSTRAINT IF NOT EXISTS FOR (c:Contract) REQUIRE c.id IS UNIQUE;\"\n)\nneo4j_driver.execute_query(\n    \"CREATE CONSTRAINT IF NOT EXISTS FOR (o:Organization) REQUIRE o.name IS UNIQUE;\"\n)\nneo4j_driver.execute_query(\n    \"CREATE CONSTRAINT IF NOT EXISTS FOR (l:Location) REQUIRE l.fullAddress IS UNIQUE;\"\n)\n```", "```py\nimport_query = \"\"\"WITH $data AS contract_data\nMERGE (contract:Contract {id: randomUUID()})    #1\nSET contract += {\n  contract_type: contract_data.contract_type,\n  effective_date: contract_data.effective_date,\n  term: contract_data.term,\n  contract_scope: contract_data.contract_scope,\n  end_date: contract_data.end_date,\n  total_amount: contract_data.total_amount,\n  governing_law: contract_data.governing_law.state + ' ' +\n                 contract_data.governing_law.country\n}\nWITH contract, contract_data\nUNWIND contract_data.parties AS party       #2\nMERGE (p:Organization {name: party.name})\nMERGE (loc:Location {\n  fullAddress: party.location.address + ' ' +\n                party.location.city + ' ' +\n                party.location.state + ' ' +\n                party.location.country})\nSET loc += {\n  address: party.location.address,\n  city: party.location.city,\n  state: party.location.state,\n  country: party.location.country\n}\nMERGE (p)-[:LOCATED_AT]->(loc)   #3\nMERGE (p)-[r:HAS_PARTY]->(contract)   #4\nSET r.role = party.role\n\"\"\"\n```", "```py\nneo4j_driver.execute_query(import_query, data=data)\n```"]