<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 5. Documenting Your API"><div class="chapter" id="chapter_5">
<h1><span class="label">Chapter 5. </span>Documenting Your API</h1>

<blockquote data-type="epigraph" epub:type="epigraph">
  <p>Documentation is where developers come to learn about your API. Whether you’re providing a simple README file or developing a full website for your developers, it is critical to clearly document how they can most effectively use your API.</p>
  <p data-type="attribution">Brenda Jin, Saurabh Sahni, and Amir Shevat, <em>Designing Web APIs</em> (O’Reilly, 2018)</p>
</blockquote>

<p>In <a data-type="xref" href="ch04.html#chapter_4">Chapter 4</a>, you created your <a data-type="indexterm" data-primary="Designing Web APIs (Jin, Sahni, and Shevat)" id="id1142"/><a data-type="indexterm" data-primary="Jin, Brenda" id="id1143"/><a data-type="indexterm" data-primary="Sahni, Saurabh" id="id1144"/><a data-type="indexterm" data-primary="Shevat, Amir" id="id1145"/><a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="about" id="id1146"/>first API to fulfill the user stories identified in <a data-type="xref" href="ch01.html#chapter_1">Chapter 1</a>. The primary users you developed these for are data science users and advice website providers. The API will enable them to create analytics products such as dashboards, charts, and models using the SportsWorldCentral (SWC) fantasy data. Now you will create documentation to help them use your API. Documentation and features such as software development kits (SDKs) improve the <em>developer experience</em> (DX) for your technical users.</p>






<section data-type="sect1" data-pdf-bookmark="Sending a Signal of Trust"><div class="sect1" id="id172">
<h1>Sending a Signal of Trust</h1>

<p>An important job of your API <a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="trust built by" id="id1147"/><a data-type="indexterm" data-primary="data scientists" data-secondary="trusting your API and data" data-seealso="documentation" id="id1148"/><a data-type="indexterm" data-primary="building APIs" data-secondary="documentation building trust" data-seealso="documentation" id="id1149"/>docs is to signal trust to potential API consumers. If they don’t trust you, they won’t use your API. If API consumers are going to call your API multiple times, they will build an <em>integration</em>, which is basically code that calls your code repeatedly. For the SWC API, this might be a fantasy advice website that will be adding SWC to its list of supported websites. Another example would be a data science user who is going to schedule an Extract, Transform, Load (ETL) process to get the latest stats every week.</p>

<p>These repeat users are asking the following when they consider using your API: Can I count on you? Will your API be available for me a month from now? A year from now?</p>

<p>Many public API websites have a dusty, neglected feel. They have blog posts that are a few years old, message boards where posts get no response, or feature road maps that are out of date. If your docs are a ghost town, potential users will go elsewhere.</p>

<p>You can signal trust to these users<a data-type="indexterm" data-primary="feedback mechanism in documentation" data-secondary="importance of responding to feedback" id="id1150"/> by ensuring that your feedback mechanism is up to date and any questions are responded to quickly. A current release history and a clear versioning strategy are also good signs of life.</p>

<p>Data science users may be <a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="data quality information" id="id1151"/>looking for one-time data loads and have less interest in long-term support. They may be asking different questions: Can I trust your data? Do the definitions match the contents? What level of quality is your data? Signal trust to these users by stating information about the quality of your data, and giving specific commitments on update frequency.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Making Great API Docs"><div class="sect1" id="id381">
<h1>Making Great API Docs</h1>

<p>When you begin the documentation for a new API, you can start with the core features discussed in this section. These give users what they need to get the job done. As your API matures, continue to improve the documentation and add features that set yours apart from competitors’.</p>








<section data-type="sect2" data-pdf-bookmark="Core Features"><div class="sect2" id="id48">
<h2>Core Features</h2>

<p>All API documentation should include<a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="core features" id="id1152"/> a few core features. Without these basics, it is unlikely that an API will be used by many consumers. They allow a user to understand the value of the API, get the address and any necessary authorization information, and easily test the API. Terms of service and a feedback mechanism ensure that users use the API appropriately and know where to go for help. Following are the core feature
that are expected for someone to use the API:</p>
<dl>
<dt>Getting started</dt>
<dd>
<p>This is an overview or introduction that explains the purpose of the API and how consumers can interact with it. It also provides the address of the API, security requirements, and instructions for requesting user IDs or API keys.</p>
</dd>
<dt>Endpoint definitions</dt>
<dd>
<p>These explain the purpose of <a data-type="indexterm" data-primary="endpoints of APIs" data-secondary="documentation of" id="id1153"/><a data-type="indexterm" data-primary="API endpoints" data-secondary="documentation of" id="id1154"/>each endpoint, along with the format of requests, responses, and any errors. An endpoint is the full address and resource name that API users will make a call to. For example, <a href="https://api.sportsworldcentral.com/v0/players" class="bare"><em class="hyperlink">https://api.sportsworldcentral.com/v0/players</em></a> is an endpoint that returns a list of players.</p>
</dd>
<dt>OAS file</dt>
<dd>
<p>The OpenAPI Specification (OAS) file is a machine-readable file<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="OAS file in documentation" id="id1155"/><a data-type="indexterm" data-primary="OAS file in documentation" data-seealso="OpenAPI Specification (OAS)" id="id1156"/> that defines the connection instructions and endpoint definitions.</p>
</dd>
<dt>Terms of service</dt>
<dd>
<p>These explain the allowed usage of the API and any rate limits or restrictions that apply.<a data-type="indexterm" data-primary="terms of service" data-secondary="documenting your API" id="id1157"/></p>
</dd>
<dt>Feedback mechanism</dt>
<dd>
<p>For people to use your API,<a data-type="indexterm" data-primary="feedback mechanism in documentation" id="id1158"/> they need to have a method to reach out and ask questions. Some common methods include support email addresses, contact forms, and GitHub issue trackers.</p>
</dd>
<dt>SDKs</dt>
<dd>
<p>By creating SDKs in popular <a data-type="indexterm" data-primary="SDK (software development kit)" data-secondary="documentation component" id="id1159"/><a data-type="indexterm" data-primary="data scientists" data-secondary="SDK  importance" data-seealso="SDK (software development kit)" id="id1160"/>programming languages, an API provider can make the process of using the API much easier for consumers. These can help enforce responsible usage of the API, reducing some common problems such as overuse. If an API’s primary users are data scientists, this will greatly smooth the process of using your API. You will create an SDK for your API in <a data-type="xref" href="ch07.html#chapter_7">Chapter 7</a>.</p>
</dd>
</dl>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Extra Features"><div class="sect2" id="id49">
<h2>Extra Features</h2>

<p>In addition to the basics, several<a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="extra features" id="id1161"/> other items improve the DX of the API by simplifying the process of using the API or making it easier to try it out:</p>
<dl>
<dt>Sample program code</dt>
<dd>
<p>These are example <a data-type="indexterm" data-primary="sample program code in documentation" id="id1162"/>snippets of code in popular software languages that demonstrate how to properly use the API.</p>
</dd>
<dt>Interactive documentation</dt>
<dd>
<p>Interactive documentation<a data-type="indexterm" data-primary="interactive documentation" id="id1163"/><a data-type="indexterm" data-primary="documentation" data-secondary="interactive documentation" id="id1164"/> allows users to submit sample API calls to a development environment to get hands-on experience using the API. Swagger UI is used to generate interactive documentation for FastAPI projects.</p>
</dd>
<dt>Sandbox environment</dt>
<dd>
<p>Going beyond interactive documentation,<a data-type="indexterm" data-primary="sandbox environment for API" id="id1165"/> a full-featured sandbox environment will enable developers to submit multiple API calls in an environment that saves the sample data. For example, they might create an order with one API call and then retrieve the results of the order in another API call.</p>
</dd>
<dt>Additional features</dt>
<dd>
<p>There are a variety of other extras that API providers provide. <a data-type="indexterm" data-primary="Postman collection in documentation" id="id1166"/>One that has been increasing in popularity is creating a <em>Postman collection</em>, which includes example requests and tests that can be run with the Postman API testing tool.</p>
</dd>
</dl>

<p class="less_space pagebreak-before">Some of these require a commitment of time and resources to create, and also to keep current as the APIs change. This is often the role of dedicated developer relations (devrel) staff. API providers must consider the business proposition of the API before investing the resources in these.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Advanced features can significantly<a data-type="indexterm" data-primary="time to hello world (TTHW)" id="id1167"/><a data-type="indexterm" data-primary="TTHW (time to hello world)" id="id1168"/> reduce the friction a consumer faces to use the API, and get them up and running quickly. Sometimes this is referred to as reducing the <em>time to hello world</em> (TTHW). The quicker a potential consumer can make a basic prototype with your API, the more likely they are to use it.</p>
</div>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Reviewing Examples of API Documentation"><div class="sect1" id="id382">
<h1>Reviewing Examples of API Documentation</h1>

<p>A tour of some real-world API documentation will demonstrate the features mentioned previously. These examples illustrate some core features and extra features.</p>








<section data-type="sect2" data-pdf-bookmark="Sleeper App"><div class="sect2" id="id173">
<h2>Sleeper App</h2>

<p>The Sleeper app is a real-life <a data-type="indexterm" data-primary="documentation" data-secondary="API documentation examples" data-tertiary="Sleeper app" id="id1169"/><a data-type="indexterm" data-primary="Sleeper" data-secondary="API documentation" id="id1170"/>fantasy football league host, like your imaginary SportsWorldCentral. Its <a href="https://docs.sleeper.com">API documentation</a> demonstrates several of the basic features of documentation (<a data-type="xref" href="#sleeper_documentation_1_ch3">Figure 5-1</a>).</p>

<figure><div id="sleeper_documentation_1_ch3" class="figure">
<img src="assets/haad_0501.png" alt="Sleeper landing page" width="943" height="473"/>
<h6><span class="label">Figure 5-1. </span>Core feature: Getting started page</h6>
</div></figure>

<p class="less_space pagebreak-before">The landing page gives some basic information about using the API, including authentication requirements (no authentication) and general usage limits (under 1,000 API calls per minute). The documentation provides a search function and navigation bar showing the major endpoints and errors. <a data-type="xref" href="#sleeper_documentation_2_ch3">Figure 5-2</a> shows the more detailed information available for the Drafts endpoint.</p>

<figure><div id="sleeper_documentation_2_ch3" class="figure">
<img src="assets/haad_0502.png" alt="Sleeper Drafts endpoints" width="1051" height="582"/>
<h6><span class="label">Figure 5-2. </span>Core feature: Endpoint definitions</h6>
</div></figure>

<p>This page includes the production API URL along with the HTTP verb and required parameters. The righthand column demonstrates an example API call and the output of the API call in JSON format.</p>
</div></section>








<section data-type="sect2" data-pdf-bookmark="MyFantasyLeague"><div class="sect2" id="id50">
<h2>MyFantasyLeague</h2>

<p>MyFantasyLeague is a fantasy <a data-type="indexterm" data-primary="documentation" data-secondary="API documentation examples" data-tertiary="MyFantasyLeague" id="id1171"/><a data-type="indexterm" data-primary="MyFantasyLeague API documentation" id="id1172"/><a data-type="indexterm" data-primary="documentation" data-secondary="interactive documentation" data-tertiary="MyFantasyLeague API documentation" id="id1173"/><a data-type="indexterm" data-primary="interactive documentation" data-secondary="MyFantasyLeague API documentation" id="id1174"/>league host that provides a <a href="https://oreil.ly/t7tSf">full-featured developer portal</a> and is known for providing quality support to developers.</p>

<p>The welcome page begins with a focus on release notes of API versions (<a data-type="xref" href="#mfl_documentation_1_ch3">Figure 5-3</a>). It provides links to a request reference page and sample code, and then prominently features the terms of service for using the API.</p>

<figure><div id="mfl_documentation_1_ch3" class="figure">
<img src="assets/haad_0503.png" alt="MyFantasyLeague Welcome Page" width="928" height="380"/>
<h6><span class="label">Figure 5-3. </span>MyFantasyLeague welcome page</h6>
</div></figure>

<p>Following the “test the requests” link from the welcome page brings you to the interactive API documentation (<a data-type="xref" href="#mfl_documentation_2_ch3">Figure 5-4</a>). <a data-type="indexterm" data-primary="documentation" data-secondary="interactive documentation" data-tertiary="sandbox environment versus" id="id1175"/><a data-type="indexterm" data-primary="interactive documentation" data-secondary="sandbox environment versus" id="id1176"/><a data-type="indexterm" data-primary="sandbox environment for API" data-secondary="interactive documentation versus" id="id1177"/>What is the difference between interactive API documentation and a sandbox environment? Interactive documentation supports test API calls, but it doesn’t store the results between test calls. A sandbox environment keeps track of previous API calls to allow you to test multiple tasks together.</p>

<figure><div id="mfl_documentation_2_ch3" class="figure">
<img src="assets/haad_0504.png" alt="Extra feature: Interactive documentation" width="1454" height="1090"/>
<h6><span class="label">Figure 5-4. </span>Extra feature: Interactive documentation</h6>
</div></figure>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Yahoo! Fantasy Football"><div class="sect2" id="id51">
<h2>Yahoo! Fantasy Football</h2>

<p>Yahoo! is another fantasy football league<a data-type="indexterm" data-primary="documentation" data-secondary="API documentation examples" data-tertiary="Yahoo! Fantasy Football" id="id1178"/><a data-type="indexterm" data-primary="Yahoo! Fantasy Football API documentation" id="id1179"/> host that provides detailed <a href="https://oreil.ly/4YIxy">API documentation</a>. <a data-type="indexterm" data-primary="Yahoo! Fantasy Football API documentation" data-secondary="PHP code for accessing APIs" id="id1180"/>Yahoo! provides sample PHP code for accessing its APIs. This sample code provides detailed instructions on authentication, which can be especially tricky (<a data-type="xref" href="#yahoo_documentation_2_ch3">Figure 5-5</a>).</p>

<figure><div id="yahoo_documentation_2_ch3" class="figure">
<img src="assets/haad_0505.png" alt="Extra feature: Sample program code" width="1450" height="1134"/>
<h6><span class="label">Figure 5-5. </span>Extra feature: Sample program code</h6>
</div></figure>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Viewing Your API’s Built-in Documentation"><div class="sect1" id="id174">
<h1>Viewing Your API’s Built-in Documentation</h1>

<p>In <a data-type="xref" href="ch04.html#chapter_4">Chapter 4</a>, you built an <a data-type="indexterm" data-primary="documentation" data-secondary="API built-in documentation" id="ch5-built"/>API with the endpoints to fulfill your top-priority use cases. In this chapter, you will view the built-in documentation for the API. You will also make a few updates to the API code to improve the documentation.</p>
<aside data-type="sidebar" epub:type="sidebar" class="less_space pagebreak-before"><div class="sidebar" id="id1181">
<h1>You Can Start from Here</h1>
<p>The instructions in this chapter assume that you completed Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch02.html#chapter_2">2</a>, <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch03.html#chapter_3">3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch04.html#chapter_4">4</a>. If you’re starting your coding in this chapter, you will need to perform a couple of steps to catch up. First, you need to create a GitHub Codespace from the book’s GitHub repository. Full instructions are available in <a data-type="xref" href="ch02.html#getting_started_GHcodespace">“Getting Started with Your GitHub Codespace”</a>.</p>

<p>To catch up on the coding from previous chapters, <a data-type="indexterm" data-primary="resources online" data-secondary="chapter code" data-tertiary="chapter 4 complete" id="id1182"/>you can use the completed set of files in the <em>chapter4/complete</em> directory of your Codespace. If you are using these, use the directory <em>chapter4/complete</em> in the setup commands that follow.</p>
</div></aside>








<section data-type="sect2" data-pdf-bookmark="Copying Files from Chapter 4"><div class="sect2" id="id52">
<h2>Copying Files from Chapter 4</h2>

<p>To continue your portfolio project where you left it in the previous chapter, change the directory to <em>chapter5</em> and then copy the previous chapter’s files into it. The following shows the commands and expected output:<a data-type="indexterm" data-primary="portfolio projects" data-secondary="copying files from previous chapters" data-tertiary="from chapter 4" id="id1183"/></p>

<pre data-type="programlisting" data-code-language="shell">.../portfolio-project (main) $ cd chapter5
.../chapter5 (main) $ cp ../chapter4/*.py .
.../chapter5 (main) $ ../chapter4/fantasy_data.db
.../chapter5 (main) $ cp ../chapter4/requirements.txt .
.../chapter5 (main) $ ls *.*
crud.py  database.py  fantasy_data.db  main.py  models.py  readme.md
requirements.txt  schemas.py  test_crud.py  test_main.py</pre>

<p>Now launch your API <a data-type="indexterm" data-primary="FastAPI" data-secondary="CLI" data-tertiary="fastapi dev" id="id1184"/>using <code>fastapi dev</code> instead of <code>fastapi run</code>, as you did in the previous chapter. This tells FastAPI to automatically reload the application each time you make any changes to the program code:</p>

<pre data-type="programlisting" data-code-language="shell">.../chapter5 (main) $ fastapi dev main.py
INFO:     Will watch for changes in these directories:
          ['/workspaces/portfolio-project/chapter5']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [9999] using WatchFiles
INFO:     Started server process [9999]
INFO:     Waiting for application startup.
INFO:     Application startup complete.</pre>

<p class="less_space pagebreak-before">You will see a dialog <a data-type="indexterm" data-primary="port 8000 for application" id="id1185"/><a data-type="indexterm" data-primary="launching your API" data-secondary="port 8000 for application" id="id1186"/><a data-type="indexterm" data-primary="Codespaces (GitHub)" data-secondary="launching your API" data-tertiary="port 8000 for application" id="id1187"/><a data-type="indexterm" data-primary="building APIs" data-secondary="launching your API" data-tertiary="port 8000 for application" id="id1188"/><a data-type="indexterm" data-primary="GitHub" data-secondary="Codespaces" data-tertiary="launching your API to port 8000" id="id1189"/>stating “Your application running on port 8000 is available,” as shown in <a data-type="xref" href="#codespaces_open_browser_ch3">Figure 5-6</a>.</p>

<figure><div id="codespaces_open_browser_ch3" class="figure">
<img src="assets/haad_0506.png" alt="Codespaces browser window popup" width="771" height="169"/>
<h6><span class="label">Figure 5-6. </span>Codespaces browser window pop-up</h6>
</div></figure>

<p>Click “Open in Browser” to open a browser tab outside your Codespaces. This browser will show a base URL that ends in <em>app.github.dev</em> that contains the response from your API running on Codespaces. You should see the following health check message in your web browser:<a data-type="indexterm" data-primary="building APIs" data-secondary="health check" data-tertiary="launching API" id="id1190"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="health check" data-tertiary="launching API" id="id1191"/><a data-type="indexterm" data-primary="health check" data-secondary="launching API" id="id1192"/></p>

<pre data-type="programlisting">{"message":"API health check successful"}</pre>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Documentation Option 1: Swagger UI"><div class="sect2" id="id53">
<h2>Documentation Option 1: Swagger UI</h2>

<p>I will go into more detail on<a data-type="indexterm" data-primary="documentation" data-secondary="API built-in documentation" data-tertiary="Swagger UI" id="ch5-swag"/><a data-type="indexterm" data-primary="Swagger UI" id="ch5-swag2"/><a data-type="indexterm" data-primary="documentation" data-secondary="interactive documentation" data-tertiary="Swagger UI" id="ch5-swag3"/><a data-type="indexterm" data-primary="interactive documentation" data-secondary="Swagger UI" id="ch5-swag4"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="interactive documentation" id="id1193"/> the Swagger UI documentation than the Redoc documentation, because the former allows you to test your API. To view the Swagger UI interactive API documentation for your API, copy and paste the following onto the end of the base URL in your browser: <strong><em>/docs</em></strong>. For example, the full URL in the browser might be <em><a href="https://happy-pine-tree-1234-8000.app.github.dev/docs" class="bare"><em class="hyperlink">https://happy-pine-tree-1234-8000.app.github.dev/docs</em></a></em>. You should see documentation as shown in <a data-type="xref" href="#swagger_docs_1_ch5">Figure 5-7</a>.</p>

<p>You may recognize this <a data-type="indexterm" data-primary="endpoints of APIs" data-secondary="documentation of" data-tertiary="Swagger UI" id="id1194"/><a data-type="indexterm" data-primary="API endpoints" data-secondary="documentation of" data-tertiary="Swagger UI" id="id1195"/>list of endpoints from <a data-type="xref" href="ch04.html#swc_endpoints_ch4">Table 4-1</a> in the last chapter. You can see that all the endpoints you implemented in your API are listed here. You can click on any of these endpoints to expand the section that is specific to that endpoint and interact with it.</p>

<figure><div id="swagger_docs_1_ch5" class="figure">
<img src="assets/haad_0507.png" alt="Initial Swagger UI interactive documentation" width="789" height="602"/>
<h6><span class="label">Figure 5-7. </span>Initial Swagger UI interactive documentation</h6>
</div></figure>

<p>Click on the bar that says “Get /v0/players/{player_id}” and then click the “Try it out” button. This button changes to Cancel, as seen in <a data-type="xref" href="#swagger_docs_2_ch5">Figure 5-8</a>.</p>

<figure><div id="swagger_docs_2_ch5" class="figure">
<img src="assets/haad_0508.png" alt="Expanded endpoint section, top half" width="729" height="350"/>
<h6><span class="label">Figure 5-8. </span>Expanded endpoint section, top half</h6>
</div></figure>

<p>The Parameters section includes the <code>player_id</code> parameter that is defined for this endpoint. This parameter is required, it has a data type of integer, and it is a path parameter, which means that when this API is called, the URL path includes the <code>player_id</code> value, as shown in the endpoint definition. <a data-type="xref" href="#swagger_docs_3_ch5">Figure 5-9</a> displays the bottom half of this endpoint section.</p>

<figure><div id="swagger_docs_3_ch5" class="figure">
<img src="assets/haad_0509.png" alt="Expanded endpoint section, bottom half" width="569" height="642"/>
<h6><span class="label">Figure 5-9. </span>Expanded endpoint section, bottom half</h6>
</div></figure>

<p>This section describes two expected responses that consumers should plan for. <a data-type="indexterm" data-primary="HTTP" data-secondary="status codes" data-tertiary="200 as successful response" id="id1196"/>If a request to this endpoint is successful, an HTTP status code 200 (successful response) will be returned, and the response body will be in this format:</p>

<pre data-type="programlisting" data-code-language="json">{
  "player_id": 0,
  "gsis_id": "string",
  "first_name": "string",
  "last_name": "string",
  "position": "string",
  "last_changed_date": "2024-04-27",
  "performances": []
}</pre>

<p>However, if the request is invalid,<a data-type="indexterm" data-primary="HTTP" data-secondary="status codes" data-tertiary="422 as unprocessable content" id="id1197"/> the consumer will receive a response with an HTTP status code 422 (unprocessable content) and an error message in this format:</p>

<pre data-type="programlisting" data-code-language="json">{
  "detail": [
    {
      "loc": [
        "string",
        0
      ],
      "msg": "string",
      "type": "string"
    }
  ]
}</pre>

<p>To interact with the interactive documentation, click the Execute button. You should see the error result displayed in <a data-type="xref" href="#swagger_docs_4_ch5">Figure 5-10</a>, or something similar.</p>

<figure><div id="swagger_docs_4_ch5" class="figure">
<img src="assets/haad_0510.png" alt="Player endpoint error message" width="709" height="502"/>
<h6><span class="label">Figure 5-10. </span>Player endpoint error message</h6>
</div></figure>

<p class="less_space pagebreak-before">The documentation has enforced the required <code>player_id</code> parameter and displayed the message “Required field is not provided.” Enter a value of <strong><code>1385</code></strong> in the <code>player_id</code> field, and click Execute again. This request should be successful, and the Responses section of the web page should look similar to <a data-type="xref" href="#swagger_docs_5_ch5">Figure 5-11</a>.</p>

<figure><div id="swagger_docs_5_ch5" class="figure">
<img src="assets/haad_0511.png" alt="Successful player response" width="1265" height="1108"/>
<h6><span class="label">Figure 5-11. </span>Successful player response</h6>
</div></figure>

<p>This part of the page shows useful information about the HTTP request that is constructed by the documentation and the HTTP response that is sent back by your API.</p>

<p>First, look at the response.<a data-type="indexterm" data-primary="cURL" data-secondary="Swagger UI output" id="id1198"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="command line statement calling API" id="id1199"/><a data-type="indexterm" data-primary="building APIs" data-secondary="launching your API" data-tertiary="Swagger UI presenting command line statement" id="id1200"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="launching your API" data-tertiary="Swagger UI presenting command line statement" id="id1201"/><a data-type="indexterm" data-primary="launching your API" data-secondary="Swagger UI presenting command line statement" id="id1202"/> In the <code>curl</code> section, the documentation displays the command-line statement that could be used to call this API. This is helpful to understand the exact HTTP request that is constructed by the parameters you entered earlier.<a data-type="indexterm" data-primary="cURL" id="id1203"/> (cURL is a common command-line utility used to make HTTP requests to web applications and APIs.) You could copy that URL into your browser bar and make the same API call directly.</p>

<p>Remember, the endpoint is a combination of an HTTP verb and a URL. In <a data-type="xref" href="#swagger_docs_5_ch5">Figure 5-11</a>, the HTTP verb is <code>GET</code>, as displayed in the documentation. The URL points to the address that Codespaces generates.</p>

<p>In the Request URL section, you see the URL without the HTTP verb. Note that the end of the URL is <em>v0/players/1385</em>. This matches the expected <em>/v0/players/{player_id}</em> from our program code and the earlier documentation. Since <code>player_id</code> is a path parameter, it is added to the end of the URL.</p>

<p>Now let’s look at the response. Under “Server response,” you see that the response received was an HTTP 200, which is a successful response. The “Response body” shows the JSON data that was returned by the API. It matches the format of the <code>Player</code> object, and it contains the data for <code>player_id</code> 1385, which is what you entered in the path parameter. It also includes the <code>Performance</code> records that are associated with this <code>Player</code>.</p>

<p>The “Response headers” section displays the HTTP headers, which are additional metadata the API sent along with the response body. This is information you would not see if you were calling the API directly in your browser.</p>

<p>As you have seen, this interactive API documentation is very powerful. It compares well to the features of any of the API documentation demonstrated on the real-world fantasy league hosts in this chapter. Since you did not create this code yourself, where is it coming from? This documentation is generated by <a href="https://oreil.ly/r6P--">Swagger UI</a>, which is an open source project led by SmartBear software. The Swagger UI has been heavily used in API documentation for many years. Many times when people use the term <em>API documentation</em>, Swagger UI is what they mean. <a data-type="indexterm" data-primary="REST (Representational State Transfer) APIs" data-secondary="popularity of" id="id1204"/>It is not an exaggeration to say that this open source project deserves a lot of credit for expanding the popularity of REST APIs as a core technology across the IT industry.</p>

<p>Swagger UI is included<a data-type="indexterm" data-primary="Swagger UI" data-secondary="FastAPI code containing" id="id1205"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="openapi.json file" id="id1206"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="Swagger UI included in code" id="id1207"/><a data-type="indexterm" data-primary="building APIs" data-secondary="FastAPI" data-tertiary="Swagger UI included in code" id="id1208"/><a data-type="indexterm" data-primary="openapi.json file" id="id1209"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Swagger UI contents" id="id1210"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="OAS file determining contents" id="id1211"/> in the FastAPI code. It generates this documentation automatically from the OpenAPI Specification (OAS) file that is named <em>openapi.json</em> and is linked under the title of this page. FastAPI generates this OAS file automatically from the <em>main.py</em> code.</p>

<p>If you look at this endpoint definition in <em>main.py</em> that you developed in <a data-type="xref" href="ch04.html#chapter_4">Chapter 4</a>, you will see the following:</p>

<pre data-type="programlisting" data-code-language="python">@app.get("/v0/players/{player_id}", response_model=schemas.Player)</pre>

<p>Looking again at <a data-type="xref" href="#swagger_docs_2_ch5">Figure 5-8</a>, you can see that the HTTP verb, URL, and path parameter are generated from <code>@app.get("/v0/players/{player_id}"</code>.</p>

<p>Looking at <a data-type="xref" href="#swagger_docs_3_ch5">Figure 5-9</a>, you can<a data-type="indexterm" data-primary="schemas.py" data-secondary="Successful Response definition" id="id1212"/><a data-type="indexterm" data-primary="building APIs" data-secondary="FastAPI" data-tertiary="schemas.py Successful Response definition" id="id1213"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="Python files" data-tertiary="schemas.py Successful Response definition" id="id1214"/><a data-type="indexterm" data-primary="Python" data-secondary="API files" data-tertiary="schemas.py Successful Response definition" id="id1215"/> see that the Successful Response definition is generated from the Pydantic schema <code>Player</code>, which you defined in <em>schemas.py</em>. The time you spent defining each piece of the Python code continues to pay off in this well-crafted API.<a data-type="indexterm" data-startref="ch5-swag" id="id1216"/><a data-type="indexterm" data-startref="ch5-swag2" id="id1217"/><a data-type="indexterm" data-startref="ch5-swag3" id="id1218"/><a data-type="indexterm" data-startref="ch5-swag4" id="id1219"/></p>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Documentation Option 2: Redoc"><div class="sect2" id="id54">
<h2>Documentation Option 2: Redoc</h2>

<p>In addition to Swagger UI, <a data-type="indexterm" data-primary="documentation" data-secondary="API built-in documentation" data-tertiary="Redoc" id="id1220"/><a data-type="indexterm" data-primary="Redoc (Redocly)" id="id1221"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="Redoc included in code" id="id1222"/><a data-type="indexterm" data-primary="building APIs" data-secondary="FastAPI" data-tertiary="Redoc included in code" id="id1223"/>FastAPI includes a second API documentation option: Redoc. <a href="https://oreil.ly/redoc">Redoc</a> is an open source API documentation product that is led by Redocly.</p>

<p>To view the Redoc API documentation for your API, copy and paste the following onto the end of the base URL in your browser: <strong><em>/redoc</em></strong>. For example, the full URL might be <em><a href="https://happy-pine-tree-1234-8000.app.github.dev/redoc" class="bare"><em class="hyperlink">https://happy-pine-tree-1234-8000.app.github.dev/redoc</em></a></em> in the browser. Click Read Player in the navigation pane on the left. You should see documentation as shown in <a data-type="xref" href="#redoc_docs_1_ch5">Figure 5-12</a>.</p>

<figure><div id="redoc_docs_1_ch5" class="figure">
<img src="assets/haad_0512.png" alt="Redoc documentation page" width="987" height="610"/>
<h6><span class="label">Figure 5-12. </span>Redoc documentation page</h6>
</div></figure>

<p>As you can see, the Redoc documentation<a data-type="indexterm" data-primary="endpoints of APIs" data-secondary="documentation of" data-tertiary="Redoc" id="id1224"/><a data-type="indexterm" data-primary="API endpoints" data-secondary="documentation of" data-tertiary="Redoc" id="id1225"/> has an attractive three-column layout with the API endpoints in the navigation bar on the left, along with a search function. The center column has the bulk of the information about the endpoint, including parameters, responses, and errors. <a data-type="indexterm" data-primary="HTTP" data-secondary="status codes" data-tertiary="200 as successful response" id="id1226"/><a data-type="indexterm" data-primary="HTTP" data-secondary="status codes" data-tertiary="422 as unprocessable content" id="id1227"/>The righthand column displays example response bodies for successful (200) and error (422) responses.</p>

<p>In general, the contents of the documentation are quite similar to Swagger UI, because both<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Redoc contents" id="id1228"/> are generated from the same OAS file. The biggest difference in functionality between the two included documentation options is that the Redoc library included in FastAPI doesn’t provide a method for submitting API requests. So it is not an interactive option.</p>

<p class="less_space pagebreak-before">What advantages does Redoc have over Swagger UI? In my opinion, the mobile browser layout of Redoc is more attractive than that of Swagger UI. While I generally don’t consider mobile functionality important for a technical reference page like API docs, this might be important to some organizations. In addition, the Redoc layout and appearance might be preferred.<a data-type="indexterm" data-startref="ch5-built" id="id1229"/></p>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Working with Your OpenAPI Specification File"><div class="sect1" id="id55">
<h1>Working with Your OpenAPI Specification File</h1>

<p>Although these documentation pages<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="explanation of" id="ch5oas"/> are quite impressive, they are nothing without the OAS file. <a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="openapi.json file" id="id1230"/><a data-type="indexterm" data-primary="openapi.json file" id="id1231"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="FastAPI generating via Pydantic" id="id1232"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file generated via Pydantic" id="id1233"/><a data-type="indexterm" data-primary="Pydantic" data-secondary="OAS file generated in FastAPI" id="id1234"/>This is literally true, since FastAPI and Pydantic generate the OAS file at the <em>/openapi.json</em> path, and Redoc and Swagger UI generate their documentation from this file.</p>

<p>But the OAS file is more than simply a way to generate documentation: it is a powerful API definition standard that allows many other tools to interact with your API. One quick example is that in <a data-type="xref" href="part03.html#part_3">Part III</a> you will create a custom action that enables ChatGPT to answer questions using the data from your API. What information does it need for this? Your OAS file. This is just a drop in the bucket of what the OAS file is used for. <a data-type="indexterm" data-primary="openapi.tools website" id="id1235"/><a data-type="indexterm" data-primary="resources online" data-secondary="openapi.tools" id="id1236"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="openapi.tools listing tools that use" id="id1237"/>The <a href="https://openapi.tools">OpenApi.Tools</a> website lists code generators, data validators, SDK generators, mock servers, and a dozen other categories of tools that use the OAS file.</p>

<p>For many years, the software development industry was divided between competing vendor-specific API specifications and response formats. The Swagger specification was made open source in 2015 by Swagger, and in 2017 several companies and groups presented a united front at the API Strategy and Practice Conference promoting <a data-type="indexterm" data-primary="REST (Representational State Transfer) APIs" data-secondary="OpenAPI Specifications as standard" id="id1238"/>OAS as the de facto standard for REST API specifications. (Coincidentally, I was a speaker at that conference and got to witness the events unfold.) <a data-type="indexterm" data-primary="Doerrfield, Bill" id="id1239"/><a data-type="indexterm" data-primary="“The Data Format Wars Are Over” (Doerrfield)" data-primary-sortas="Data Format Wars" id="id1240"/>At the time, <a href="https://oreil.ly/m6XNK">Bill Doerrfield</a> summarized the events by saying that the data format wars are over. You’ll read more from Doerrfield in <a data-type="xref" href="ch13.html#chapter_13">Chapter 13</a>.</p>

<p class="less_space pagebreak-after">The <a href="https://oreil.ly/J9v0i">OAS format</a> is <a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="specification online" id="id1241"/><a data-type="indexterm" data-primary="resources online" data-secondary="OpenAPI Specification" id="id1242"/>quite extensive, so this chapter will focus on the items that are implemented in FastAPI. <a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="openapi.json file" data-tertiary="viewing" id="ch5vufile"/><a data-type="indexterm" data-primary="openapi.json file" data-secondary="viewing" id="ch5vufile2"/>To view the raw OAS file for your <span class="keep-together">API, copy and </span> paste the following onto the end of the base URL in your browser: 
<span class="keep-together"><strong><em>/openapi.json</em></strong>.</span> For example, the full URL might be <em><a href="https://happy-pine-tree-1234-8000.app.github.dev/openapi.json" class="bare"><em class="hyperlink">https://happy-pine-tree-1234-8000.app.github.dev/openapi.json</em></a></em> in the browser. You should see the raw JSON file, which begins with <code>{"openapi":"3.1.0","info":{"title":"Fas⁠t​API","version":"0.1.0"},"paths":</code>.</p>
<div data-type="tip"><h6>Tip</h6>
<p>The OAS file defines a single API, but the OpenAPI Initiative is working on a new specification<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Arazzo Specification" data-tertiary="sequences of API calls" id="id1243"/><a data-type="indexterm" data-primary="Arazzo Specification" id="id1244"/><a data-type="indexterm" data-primary="LLMs (large language models)" data-secondary="Arazzo Specification" id="id1245"/><a data-type="indexterm" data-primary="generative AI" data-secondary="Arazzo Specification" id="id1246"/> called <a href="https://oreil.ly/arazzo">Arazzo</a> that will define workflows involving sequences of API calls. One of the potential use cases for this specification is to assist generative AI applications that are based on <em>large language models</em> (LLMs). For more information about these applications, read <a data-type="xref" href="part03.html#part_3">Part III</a> of this book.</p>
</div>

<p>To understand the structure of this file,<a data-type="indexterm" data-primary="JSON" data-secondary="viewing" id="id1247"/> you will need to view the file somewhere that formats JSON in an easier-to-read format. Two convenient approaches to this would be installing a JSON formatter browser extension or opening the file in your IDE. If you save the file and open it in VS Code, you can choose “Format document” from the context menu to see the formatted JSON. Using a browser extension to format JSON has one advantage: as you make changes to the API that modify the JSON file, they can be refreshed and viewed instead of requiring you to download the file repeatedly. I typically install a browser extension for the convenience of viewing API responses. Take a look at the top two levels of the <em>openapi.json</em> file hierarchy:</p>

<pre data-type="programlisting" data-code-language="json">{
    "openapi": "3.1.0", <a class="co" id="co_documenting_your_api_CO1-1" href="#callout_documenting_your_api_CO1-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a>
    "info": { <a class="co" id="co_documenting_your_api_CO1-2" href="#callout_documenting_your_api_CO1-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a>
        "title": "FastAPI",
        "version": "0.1.0"
    },
    "paths": { <a class="co" id="co_documenting_your_api_CO1-3" href="#callout_documenting_your_api_CO1-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a>
        "/": {},
        "/v0/players/": {},
        "/v0/players/{player_id}": {},
        "/v0/performances/": {},
        "/v0/leagues/{league_id}": {},
        "/v0/leagues/": {},
        "/v0/teams/": {},
        "/v0/counts/": {}
    },
    "components": { <a class="co" id="co_documenting_your_api_CO1-4" href="#callout_documenting_your_api_CO1-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a>
        "schemas": {
            "Counts": {},
            "HTTPValidationError": {},
            "League": {},
            "Performance": {},
            "Player": {},
            "PlayerBase": {},
            "Team": {},
            "TeamBase": {},
            "ValidationError": {}
        }
    }
}</pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_documenting_your_api_CO1-1" href="#co_documenting_your_api_CO1-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>This is a <code>string</code> that contains the OpenAPI specification version. For your API, the version is 3.1.0, which was published in 2021.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO1-2" href="#co_documenting_your_api_CO1-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a></dt>
<dd><p>This field is an <code>Info</code> object, which provides metadata about the API. The API’s <code>title</code> and <code>version</code> are the required fields, and they are populated in this example. Optional fields include _summary+, <code>description</code>, <code>termsOfService</code>, <code>contact</code>, and <code>license</code>.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO1-3" href="#co_documenting_your_api_CO1-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a></dt>
<dd><p>This field contains the list of <code>paths</code>, which are relative URLs for API endpoints. You may notice that this list does not contain the HTTP verbs, which make up the other half of an API endpoint. The verbs and additional details are contained one level down inside the <code>path</code> objects.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO1-4" href="#co_documenting_your_api_CO1-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a></dt>
<dd><p>This field can contain a wide range of reusable items that can be referenced in other parts of the OAS. In this example, it contains schemas, which are data structures used by the API.</p></dd>
</dl>

<p>To see the details of one <code>path</code>, expand the <em>/v0/players/{player_id}</em> item. This <code>path</code> object has only one field: <code>get</code>, which is an operation object.  Expand <code>get</code>, and you should see the following:</p>

<pre data-type="programlisting" data-code-language="json">"/v0/players/{player_id}": {   <a class="co" id="co_documenting_your_api_CO2-1" href="#callout_documenting_your_api_CO2-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a>
    "get": {
        "summary": "Read Player",
        "operationId": "read_player_v0_players__player_id__get", <a class="co" id="co_documenting_your_api_CO2-2" href="#callout_documenting_your_api_CO2-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a>
        "parameters": [
            {
                "name": "player_id",
                "in": "path",
                "required": true,
                "schema": {
                    "type": "integer",
                    "title": "Player Id"
                }
            }
        ],
        "responses": {
            "200": {
                "description": "Successful Response",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Player" <a class="co" id="co_documenting_your_api_CO2-3" href="#callout_documenting_your_api_CO2-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a>
                        }
                    }
                }
            },
            "422": {
                "description": "Validation Error",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/HTTPValidationError"
                        }
                    }
                }
            }
        }
    }
},</pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_documenting_your_api_CO2-1" href="#co_documenting_your_api_CO2-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>You will recognize that this section<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Swagger UI contents" id="id1248"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="OAS file determining contents" id="id1249"/> contains the information that was displayed in Swagger UI in <a data-type="xref" href="#swagger_docs_3_ch5">Figure 5-9</a>. Swagger UI generated it from this section of the OAS file.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO2-2" href="#co_documenting_your_api_CO2-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a></dt>
<dd><p>This is an operation identifier.<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="openapi.json file" data-tertiary="operation identifier" id="id1250"/><a data-type="indexterm" data-primary="openapi.json file" data-secondary="operation identifier" id="id1251"/> This was not displayed in Swagger UI, but some tools use it when processing the OAS. This is also useful to generative AI applications that will process the file.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO2-3" href="#co_documenting_your_api_CO2-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a></dt>
<dd><p>This is a reference to the <code>Player</code> schema that is defined in the <code>Components</code> section. These references allow for data structures to be defined a single time in the OAS and referenced in other parts of the file.<a data-type="indexterm" data-startref="ch5oas" id="id1252"/><a data-type="indexterm" data-startref="ch5vufile" id="id1253"/> <a data-type="indexterm" data-startref="ch5vufile2" id="id1254"/></p></dd>
</dl>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Continuing Your Portfolio Project"><div class="sect1" id="id175">
<h1>Continuing Your Portfolio Project</h1>

<p>Although the default information generated in the OAS file is very powerful, you can make it more complete by updating the FastAPI code that generates it.<a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" id="ch5portproj"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" id="ch5portproj2"/><a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" id="ch5portproj3"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" id="ch5portproj4"/></p>

<p><a data-type="xref" href="#oas_updates_table">Table 5-1</a> summarizes the enhancements you will make to the OAS file by modifying the <em>main.py</em> file in your project.</p>
<table id="oas_updates_table">
<caption><span class="label">Table 5-1. </span>Updates to the OAS file</caption>
<thead>
<tr>
<th>Update made</th>
<th>Change in <em>main.py</em></th>
<th>OAS field affected</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Add API title, version, description</p></td>
<td><p>Add elements to <code>FastAPI()</code> constructor</p></td>
<td><p><code>info</code></p></td>
</tr>
<tr>
<td><p>Add path summaries</p></td>
<td><p>Add parameters to path function decorator</p></td>
<td><p>paths</p></td>
</tr>
<tr>
<td><p>Add detailed path descriptions</p></td>
<td><p>Add parameters to path function decorator</p></td>
<td><p><code>paths</code></p></td>
</tr>
<tr>
<td><p>Add path tags to group endpoints in Swagger UI</p></td>
<td><p>Add parameters to path function decorator</p></td>
<td><p><code>paths</code></p></td>
</tr>
<tr>
<td><p>Add unique path operation IDs</p></td>
<td><p>Update the built-in operation IDs</p></td>
<td><p><code>paths</code></p></td>
</tr>
<tr>
<td><p>Add description to query parameters</p></td>
<td><p>Update the parameters in the FastAPI functions</p></td>
<td><p><code>parameters</code></p></td>
</tr>
</tbody>
</table>








<section data-type="sect2" data-pdf-bookmark="Adding Details to the OAS info Object"><div class="sect2" id="id176">
<h2>Adding Details to the OAS info Object</h2>

<p>The OAS <code>info</code> field contains<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="details added to info object" id="id1255"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="details added to info object" id="id1256"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="details added to info object" id="id1257"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="details added to info object" id="id1258"/> information about the entire API. The default information in the current OAS file is very generic. You will add content that helps consumers of the API understand its purpose. This involves changes to the <code>FastAPI()</code> constructor function.</p>

<p>Open the <em>main.py</em> file and make the following updates to the initial application <span class="keep-together">constructor:</span></p>

<pre data-type="programlisting" data-code-language="python">api_description = """ <a class="co" id="co_documenting_your_api_CO3-1" href="#callout_documenting_your_api_CO3-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a>
This API provides read-only access to info from the SportsWorldCentral
(SWC) Fantasy Football API.
The endpoints are grouped into the following categories:

## Analytics
Get information about the health of the API and counts of leagues, teams,
and players.

## Player
You can get a list of NFL players, or search for an individual player by
player_id.

## Scoring
You can get a list of NFL player performances, including the fantasy points
they scored using SWC league scoring.

## Membership
Get information about all the SWC fantasy football leagues and the teams in them.
"""

#FastAPI constructor with additional details added for OpenAPI Specification
app = FastAPI(
    description=api_description, <a class="co" id="co_documenting_your_api_CO3-2" href="#callout_documenting_your_api_CO3-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a>
    title="Sports World Central (SWC) Fantasy Football API", <a class="co" id="co_documenting_your_api_CO3-3" href="#callout_documenting_your_api_CO3-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a>
    version="0.1" <a class="co" id="co_documenting_your_api_CO3-4" href="#callout_documenting_your_api_CO3-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a>
)</pre>

<p>Notice the following items that you changed:</p>
<dl class="calloutlist">
<dt><a class="co" id="callout_documenting_your_api_CO3-1" href="#co_documenting_your_api_CO3-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>The first new statement is the creation of the <code>api_description</code> variable with a description of the API. The three quotation marks are used to include a multiline string.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO3-2" href="#co_documenting_your_api_CO3-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a></dt>
<dd><p>You are passing that <code>api_description</code> to the application constructor.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO3-3" href="#co_documenting_your_api_CO3-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a></dt>
<dd><p>You also give the app a <code>title</code>.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO3-4" href="#co_documenting_your_api_CO3-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a></dt>
<dd><p>And you give the app a <code>version</code>. <a data-type="indexterm" data-primary="semantic versioning" data-secondary="version 0 for your API" id="id1259"/><a data-type="indexterm" data-primary="building APIs" data-secondary="version 0 for your API" id="id1260"/>Notice that you are using a <code>version</code> of 0.1. The major version of 0 communicates that breaking changes can still occur, and it is consistent with the <em>V0</em> in the API’s URL. I typically start all new API projects with a zero version. The minor version of 1 communicates that this is the first published iteration of this API.</p></dd>
</dl>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Adding Tags to Categorize Your Paths"><div class="sect2" id="id56">
<h2>Adding Tags to Categorize Your Paths</h2>

<p>Now you move to changes<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="tags added to categorize paths" id="id1261"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="tags added to categorize paths" id="id1262"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="tags added to categorize paths" id="id1263"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="tags added to categorize paths" id="id1264"/><a data-type="indexterm" data-primary="tags added to OAS file" id="id1265"/><a data-type="indexterm" data-primary="tags added to OAS file" data-secondary="about tags" id="id1266"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="OAS file determining contents" data-tertiary="tags to categorize paths" id="id1267"/><a data-type="indexterm" data-primary="endpoints of APIs" data-secondary="OAS file modifications" data-tertiary="tags to categorize" id="id1268"/><a data-type="indexterm" data-primary="API endpoints" data-secondary="OAS file modifications" data-tertiary="tags to categorize" id="id1269"/> to each individual endpoint, which are described by the <code>path</code> object in the OAS file. The first change to the paths is the addition of <em>tags</em>, which are general-purpose attributes that can be used for a variety of purposes. In this case, the reason to add them is that Swagger UI uses them to group API paths together. This is extremely helpful to consumers when an API has several dozen endpoints. To make this change, you will add another element to the path function decorator.</p>

<p>Here is what the changes will look like for the <code>@app.get("/v0/players/{player_id}")</code> decorator in <em>main.py</em>. Make these changes to this decorator:</p>

<pre data-type="programlisting" data-code-language="python">@app.get("/v0/players/{player_id}",
        response_model=schemas.Player,
        tags=["player"]) <a class="co" id="co_documenting_your_api_CO4-1" href="#callout_documenting_your_api_CO4-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_documenting_your_api_CO4-1" href="#co_documenting_your_api_CO4-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>This tag will be used to group endpoints into categories.</p></dd>
</dl>

<p>You have updated one endpoint. Now use the <code>tag</code> values in <a data-type="xref" href="#endpoint_tag_table_ch3">Table 5-2</a> to update the endpoints in <em>main.py</em>.</p>
<table id="endpoint_tag_table_ch3">
<caption><span class="label">Table 5-2. </span>Tags for endpoints in main.py</caption>
<thead>
<tr>
<th>Endpoint</th>
<th>tag</th>
</tr>
</thead>
<tbody>
<tr>
<td><p><em>/</em></p></td>
<td><p><code>analytics</code></p></td>
</tr>
<tr>
<td><p><em>/v0/players/</em></p></td>
<td><p><code>player</code></p></td>
</tr>
<tr>
<td><p><em>/v0/players/{player_id}</em></p></td>
<td><p><code>player</code></p></td>
</tr>
<tr>
<td><p><em>/v0/performances/</em></p></td>
<td><p><code>scoring</code></p></td>
</tr>
<tr>
<td><p><em>/v0/leagues/</em></p></td>
<td><p><code>membership</code></p></td>
</tr>
<tr>
<td><p><em>/v0/leagues/{league_id}</em></p></td>
<td><p><code>membership</code></p></td>
</tr>
<tr>
<td><p><em>/v0/teams/</em></p></td>
<td><p><code>membership</code></p></td>
</tr>
<tr>
<td><p><em>/v0/counts/</em></p></td>
<td><p><code>analytics</code></p></td>
</tr>
</tbody>
</table>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Adding More Details to Individual Endpoints"><div class="sect2" id="id227">
<h2>Adding More Details to Individual Endpoints</h2>

<p>Next, you will add information<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="details added about endpoints" id="id1270"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="details added about endpoints" id="id1271"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="details added about endpoints" id="id1272"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="details added about endpoints" id="id1273"/><a data-type="indexterm" data-primary="endpoints of APIs" data-secondary="OAS file modifications" data-tertiary="details added about endpoints" id="id1274"/><a data-type="indexterm" data-primary="API endpoints" data-secondary="OAS file modifications" data-tertiary="details added about endpoints" id="id1275"/> about individual endpoints. In the OAS file, these are contained in the <code>paths</code> field. To make updates, you will modify each path function decorator. Here are the changes that will be made for each of the paths:</p>
<dl>
<dt>Add a summary</dt>
<dd>
<p>This summarizes the path and will be displayed on the operation title by Swagger UI.</p>
</dd>
<dt>Add a description</dt>
<dd>
<p>This gives any additional details about the path and will be displayed below the title by Swagger UI.</p>
</dd>
<dt>Add a description to the 200 response</dt>
<dd>
<p>This replaces the default “Successful response” with a clearer description. It will be used when the HTTP 200 successful message occurs.</p>
</dd>
<dt>Modify the <code>operationID</code></dt>
<dd>
<p>This standardizes the <code>operationID</code> value, which will be used by a variety of tools that are using the OAS file.</p>
</dd>
</dl>

<p>Here is what the changes will look like for the <code>@app.get("/v0/players/{player_id}"</code> decorator in <em>main.py</em>:</p>

<pre data-type="programlisting" data-code-language="python">@app.get("/v0/players/{player_id}",
        response_model=schemas.Player,
        summary="Get one player using the Player ID, which is internal to SWC",<a class="co" id="co_documenting_your_api_CO5-1" href="#callout_documenting_your_api_CO5-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a>
        description="If you have an SWC Player ID of a player from another API
        call such as v0_get_players, you can call this API
        using the player ID", <a class="co" id="co_documenting_your_api_CO5-2" href="#callout_documenting_your_api_CO5-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a>
        response_description="One NFL player", <a class="co" id="co_documenting_your_api_CO5-3" href="#callout_documenting_your_api_CO5-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a>
        operation_id="v0_get_players_by_player_id", <a class="co" id="co_documenting_your_api_CO5-4" href="#callout_documenting_your_api_CO5-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a>
        tags=["player"])</pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_documenting_your_api_CO5-1" href="#co_documenting_your_api_CO5-1"><img src="assets/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>Improved summary of the endpoint.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO5-2" href="#co_documenting_your_api_CO5-2"><img src="assets/2.png" alt="2" width="12" height="12"/></a></dt>
<dd><p>Very detailed description, to help developers and AI use it correctly.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO5-3" href="#co_documenting_your_api_CO5-3"><img src="assets/3.png" alt="3" width="12" height="12"/></a></dt>
<dd><p>Improved description of the response. Keep this under 300 characters to make ChatGPT happy.</p></dd>
<dt><a class="co" id="callout_documenting_your_api_CO5-4" href="#co_documenting_your_api_CO5-4"><img src="assets/4.png" alt="4" width="12" height="12"/></a></dt>
<dd><p>Custom operation ID to replace the auto-generated one.</p></dd>
</dl>

<p>Apply these changes to the rest of the endpoints in <em>main.py</em>.</p>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Adding Parameter Descriptions"><div class="sect2" id="id228">
<h2>Adding Parameter Descriptions</h2>

<p>Another recommendation for<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="parameter descriptions added" id="id1276"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="parameter descriptions added" id="id1277"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="parameter descriptions added" id="id1278"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="parameter descriptions added" id="id1279"/> AI to use the API is to add descriptions to parameters used to call the APIs. You will replace the default values of the parameters with the <code>Query()</code> statement and a description.</p>

<p class="less_space pagebreak-before">The <code>read_players</code> function is beneath the decorator you updated. To add descriptions for the parameters, update that function now:</p>

<pre data-type="programlisting" data-code-language="python">def read_players(skip: int = Query(0, description="The number of items to
skip at the beginning of API call."),
  limit: int = Query(100, description="The number of records to return
  after the skipped records."),
  minimum_last_changed_date: date = Query(None, description="The minimum date of
  change that you want to return records. Exclude any records changed before
  this."),
  first_name: str = Query(None, description="The first name of the players
  to return"),
  last_name: str = Query(None, description="The last name of the players
  to return"),
    db: Session = Depends(get_db)):</pre>

<p>You have modified the <code>read_players</code> function. Update the rest of the API endpoints to add descriptions to all the query parameters.</p>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Viewing the Changes in Swagger UI"><div class="sect2" id="id57">
<h2>Viewing the Changes in Swagger UI</h2>

<p>With all of these changes made<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="viewing changes in Swagger UI" id="ch5vudelta"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="viewing changes in Swagger UI" id="ch5vudelta2"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="viewing changes in Swagger UI" id="ch5vudelta3"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="viewing changes in Swagger UI" id="ch5vudelta4"/><a data-type="indexterm" data-primary="Swagger UI" data-secondary="OAS file determining contents" data-tertiary="viewing changes in Swagger UI" id="ch5vudelta5"/> to the OAS file, Swagger UI has much more information than it did previously. Open the <em>/docs</em> endpoint and you will first notice that the details added to the <code>info</code> field are displayed prominently at the top of the documentation, as shown in <a data-type="xref" href="#swagger_docs_6_ch5">Figure 5-13</a>.</p>

<figure><div id="swagger_docs_6_ch5" class="figure">
<img src="assets/haad_0513.png" alt="Updated Swagger UI information section" width="985" height="431"/>
<h6><span class="label">Figure 5-13. </span>Updated Swagger UI information section</h6>
</div></figure>

<p>Scrolling down, you will see the effect that the <code>tags</code> attributes and the endpoint <span class="keep-together"><code>summary</code></span>  values have on Swagger UI, as shown in <a data-type="xref" href="#swagger_docs_7_ch5">Figure 5-14</a>. The endpoints are now arranged in categories, and their summaries are displayed to explain their purpose.</p>

<figure><div id="swagger_docs_7_ch5" class="figure">
<img src="assets/haad_0514.png" alt="Tags used to group endpoints" width="1545" height="1288"/>
<h6><span class="label">Figure 5-14. </span>Tags used to group endpoints</h6>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>With all of the changes you made in this chapter, <em>main.py</em> is too long to show here. <a data-type="indexterm" data-primary="resources online" data-secondary="chapter code" data-tertiary="chapter 5 complete" id="id1280"/><a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="updated main.py online" id="id1281"/>You can view the updated <em>main.py</em> file in the <em>chapter5/complete</em> folder.<a data-type="indexterm" data-startref="ch5vudelta" id="id1282"/><a data-type="indexterm" data-startref="ch5vudelta2" id="id1283"/><a data-type="indexterm" data-startref="ch5vudelta3" id="id1284"/><a data-type="indexterm" data-startref="ch5vudelta4" id="id1285"/><a data-type="indexterm" data-startref="ch5vudelta5" id="id1286"/></p>
</div>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Regression-Testing Your API"><div class="sect2" id="id58">
<h2>Regression-Testing Your API</h2>

<p>With all the changes you made<a data-type="indexterm" data-primary="main.py" data-secondary="OAS file project extended" data-tertiary="regression testing your API" id="id1287"/><a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="Part I portfolio project extended" data-tertiary="regression testing your API" id="id1288"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" data-tertiary="regression testing your API" id="id1289"/><a data-type="indexterm" data-primary="FastAPI" data-secondary="OAS file portfolio project extended" data-tertiary="regression testing your API" id="id1290"/><a data-type="indexterm" data-primary="regression testing" data-secondary="your API" id="id1291"/><a data-type="indexterm" data-primary="pytest" data-secondary="regression testing your API" id="id1292"/><a data-type="indexterm" data-primary="test_main.py" data-secondary="regression testing" id="id1293"/> to your API code, you should <em>regression-test</em> your code, which is running your existing tests to make sure you didn’t break anything. Regression testing is helpful for coding changes that you make and updates to software libraries that you use in your code.</p>

<p class="less_space pagebreak-before">In the terminal window,<a data-type="indexterm" data-primary="terminal window of GitHub Codespace" data-secondary="Ctrl-C to stop API" id="id1294"/><a data-type="indexterm" data-primary="Codespaces (GitHub)" data-secondary="terminal window" data-tertiary="Ctrl-C to stop API" id="id1295"/><a data-type="indexterm" data-primary="GitHub" data-secondary="Codespaces" data-tertiary="terminal window Ctrl-C to stop API" id="id1296"/><a data-type="indexterm" data-primary="Ctrl-C" data-secondary="to stop API in terminal" id="id1297"/> press Ctrl-C to stop the API and display the command prompt. Enter the <strong><code>pytest test_main.py</code></strong> command and you should see an output that looks similar to this:<a data-type="indexterm" data-startref="ch5portproj" id="id1298"/><a data-type="indexterm" data-startref="ch5portproj2" id="id1299"/><a data-type="indexterm" data-startref="ch5portproj3" id="id1300"/><a data-type="indexterm" data-startref="ch5portproj4" id="id1301"/></p>

<pre data-type="programlisting" data-code-language="shell">$ pytest test_main.py
================== test session starts ===========================
platform linux -- Python 3.10.13, pytest-8.1.2, pluggy-1.5.0
rootdir: /workspaces/portfolio-project/chapter5
plugins: anyio-4.4.0
collected 11 items

collected 11 items

test_main.py                                              [100%]

=================== 11 passed in 1.01s ============================</pre>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Updating Your README.md"><div class="sect1" id="id177">
<h1>Updating Your README.md</h1>

<p>With the updates you made<a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="README.md updated" id="id1302"/><a data-type="indexterm" data-primary="README.md file" data-secondary="updated for built-in documentation" id="id1303"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="README.md updated" data-tertiary="documentation" id="id1304"/> to your built-in Swagger documentation, you are well on your way to providing a good developer experience. But there are a few API documentation features that you have not provided yet, including getting started, terms of service, and example code. You will update your <em>README.md</em> file to fill in the gaps of your documentation.</p>

<p>Update <em>README.md</em> with the following contents:<a data-type="indexterm" data-primary="health check" data-secondary="README.md updated" id="id1305"/></p>

<pre data-type="programlisting" data-code-language="markdown"># SportsWorldCentral (SWC) Fantasy Football API Documentation

Thanks for using the SportsWorldCentral API. This is your one-stop shop for
accessing data from our fantasy football website, www.sportsworldcentral.com.


## Table of Contents

- [Public API](#public-api)
- [Getting Started](#getting-started)
  - [Analytics](#analytics)
  - [Player](#player)
  - [Scoring](#scoring)
  - [Membership](#membership)
- [Terms of Service](#terms-of-service)
- [Example Code](#example-code)
- [Software Development Kit (SDK)](#software-development-kit-sdk)

## Public API
*Coming Soon*

We'll be deploying our application soon. Check back for the public API address.

## Getting Started

Since all of the data is public, the SWC API doesn't require any authentication. 
All of the the following data is available using GET endpoints that return 
JSON data.

### Analytics

Get information about the health of the API and counts of leagues, teams, 
and players.

### Player
You can get a list of all NFL players, or search for an individual player 
by player_id.

### Scoring

You can get a list of NFL player performances, including the fantasy points they 
scored using SWC league scoring.

### Membership
Get information about all the SWC fantasy football leagues and the teams in them.

## Terms of Service

By using the API, you agree to the following terms of service:

- **Usage Limits**: You are allowed up to 2000 requests per day. Exceeding this 
                    limit may result in your API key being suspended.
- **No Warranty**: We don't provide any warranty of the API or its operation.

## Example Code

Here is some Python example code for accessing the health check endpoint:

```
import httpx

HEALTH_CHECK_ENDPOINT = "/"
    
with httpx.Client(base_url=self.swc_base_url) as client:
    response = client.get(self.HEALTH_CHECK_ENDPOINT)
    print(response.json())
```

## Software Development Kit (SDK)
*Coming Soon*

Check back for the Python SDK for our API.</pre>
</div></section>






<section data-type="sect1" class="less_space pagebreak-before" data-pdf-bookmark="Additional Resources"><div class="sect1" id="id59">
<h1>Additional Resources</h1>

<p>For a comprehensive discussion of the role that API documentation and developer portals play in an API effort, read Chapter 7 of James Higginbotham’s <em>Principles of Web API Design: Delivering Value with APIs and Microservices</em> (Addison-Wesley, 2021).<a data-type="indexterm" data-primary="Principles of Web API Design (Higginbotham)" id="id1306"/><a data-type="indexterm" data-primary="Higginbotham, James" id="id1307"/></p>

<p>For a great short overview of API design concepts, I recommend <em>Designing Web APIs</em> by Brenda Jin, Saurabh Sahni, and Amir Shevat (O’Reilly, 2018).<a data-type="indexterm" data-primary="Designing Web APIs (Jin, Sahni, and Shevat)" id="id1308"/><a data-type="indexterm" data-primary="Jin, Brenda" id="id1309"/><a data-type="indexterm" data-primary="Sahni, Saurabh" id="id1310"/><a data-type="indexterm" data-primary="Shevat, Amir" id="id1311"/></p>

<p>The <a href="https://oreil.ly/pyatT">NordicAPIs.com blog</a> publishes articles about <a href="https://oreil.ly/YGseq">developer experience</a> and <a href="https://oreil.ly/xpcUd">API documentation</a> that have a lot of useful information.<a data-type="indexterm" data-primary="Nordic APIs community" data-secondary="NordicAPIs.com blog" id="id1312"/><a data-type="indexterm" data-primary="resources online" data-secondary="NordicAPIs.com blog" id="id1313"/></p>

<p>For more information about DX metrics, read <a href="https://oreil.ly/id-00">“Developer Experience: The Metrics That Matter Most”</a>.<a data-type="indexterm" data-primary="“Developer Experience: The Metrics That Matter Most” (Moesif)" data-primary-sortas="Developer Experience" id="id1314"/><a data-type="indexterm" data-primary="Moesif blog" id="id1315"/></p>

<p>To see examples of individuals publishing tips or tools for consuming undocumented APIs, check out <a href="https://oreil.ly/stmorse">Steven Morse’s blog</a> and <a href="https://oreil.ly/leeger">Joey Greco’s Leeger app</a>.<a data-type="indexterm" data-primary="documentation" data-secondary="API documentation" data-tertiary="tips for undocumented APIs" id="id1316"/><a data-type="indexterm" data-primary="Morse, Steven" id="id1317"/><a data-type="indexterm" data-primary="Greco, Joey" id="id1318"/><a data-type="indexterm" data-primary="Leeger app (Greco)" id="id1319"/></p>

<p>For more information about using Swagger UI websites, view the <a href="https://oreil.ly/cSPsX">Swagger UI installation instructions</a>.<a data-type="indexterm" data-primary="Swagger UI" data-secondary="installation instructions online" id="id1320"/><a data-type="indexterm" data-primary="resources online" data-secondary="Swagger UI installation instructions" id="id1321"/></p>

<p>For advice about working with your OAS, read <a href="https://oreil.ly/beRNI">Speakeasy’s OpenAPI Guide</a>.<a data-type="indexterm" data-primary="OpenAPI Specification (OAS) file" data-secondary="guide to OpenAPI online" id="id1322"/><a data-type="indexterm" data-primary="resources online" data-secondary="OpenAPI Specification" data-tertiary="guide to OpenAPI" id="id1323"/><a data-type="indexterm" data-primary="Speakeasy" data-secondary="OpenAPI Guide" id="id1324"/></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id1325">
<h1>Extending Your Portfolio Project</h1>
<p>You provided several of the core<a data-type="indexterm" data-primary="portfolio projects" data-secondary="OAS file project extended" id="id1326"/><a data-type="indexterm" data-primary="portal for developers as portfolio project" id="id1327"/><a data-type="indexterm" data-primary="website portal for developers as portfolio project" id="id1328"/><a data-type="indexterm" data-primary="LaunchAny Minimum viable portal (MVP) template for APIs" id="id1329"/> and extra features of API documentation in this chapter. To provide a full-featured developer experience, you can create a standalone developer portal website. Use a template like LaunchAny’s <a href="https://oreil.ly/nhw1K">LaunchAny Minimum viable portal (MVP) template for APIs</a> to create a developer portal for your API:</p>

<ul>
<li>
<p>Add a Getting Started page with the steps to quickly help consumers make their first API call. (Remember that TTHW metric!)</p>
</li>
<li>
<p>Add a Workflows page to explain how consumers can execute multiple related calls to your API to gather information about leagues, teams, and players.</p>
</li>
<li>
<p>Add code samples on a Code Samples page.</p>
</li>
</ul>

<p>If you created an alternate API in previous chapters, follow the steps in this chapter to add additional information to the <em>openapi.json</em> file for that API.</p>
</div></aside>
</div></section>






<section data-type="sect1" class="less_space pagebreak-before" data-pdf-bookmark="Summary"><div class="sect1" id="id383">
<h1>Summary</h1>

<p>In this chapter, you focused on your consumers by providing API documentation:</p>

<ul>
<li>
<p>You learned about the built-in API documentation that FastAPI provides using both Swagger UI and Redoc.</p>
</li>
<li>
<p>You learned about the OpenAPI specification that FastAPI generates and the value of this specification for users.</p>
</li>
<li>
<p>You learned about the components of great API documentation.</p>
</li>
</ul>

<p>In <a data-type="xref" href="ch06.html#chapter_6">Chapter 6</a>, you will focus on deploying your application to the cloud, where real-world consumers can use it.</p>
</div></section>
</div></section></div>
</div>
</body></html>