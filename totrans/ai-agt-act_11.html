<html><head></head><body><div id="book-content"><div id="sbo-rt-content"><div class="readable-text" id="p1"> 
   <h1 class="readable-text-h1"><span class="chapter-title-numbering"><span class="num-string">appendix A</span></span> <span class="chapter-title-text">Accessing OpenAI large language models</span></h1> 
  </div> 
  <div class="readable-text" id="p2"> 
   <p>Although several commercial large language model (LLM) services are available, this book recommends using OpenAI services directly or through Azure OpenAI Studio. To access either service, you must create an account and register a payment method not covered in this appendix. The GPT-4 family of LLMs is considered best in class and better suited for agent development. Using open source and alternative services is always an option but generally only advisable after you’ve worked with GPT-4 for some time.</p> 
  </div> 
  <div class="readable-text" id="p3"> 
   <h2 class="readable-text-h2" id="sigil_toc_id_160"><span class="num-string">A.1</span> Accessing OpenAI accounts and keys</h2> 
  </div> 
  <div class="readable-text" id="p4"> 
   <p>The following general steps can help you quickly set up using OpenAI LLMs for agent development. Though using OpenAI and other commercial LLMs comes at a price, you can expect to pay less than US$100 to complete all the exercises in this book:</p> 
  </div> 
  <ol> 
   <li class="readable-text" id="p5"> Go to <a href="https://openai.com">https://openai.com</a> and log in, or register for an account and log in. If this is your first time creating an account, you’ll likely be given free credit in some amount. If you already have an account, you must register a payment method and type. It’s generally better to purchase a number of credits at a time. This will allow you to manage the costs better and avoid overruns. </li> 
   <li class="readable-text" id="p6"> After logging in to the platform, select ChatGPT or the API, as shown in figure A.1. Choose the API.<span class="aframe-location"/> </li> 
  </ol> 
  <div class="browsable-container figure-container" id="p7">  
   <img alt="figure" src="../Images/A-1.png" width="722" height="392"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.1</span> Selecting the API section of the OpenAI platform</h5>
  </div> 
  <ol class=" faux-ol-li" style="list-style: none;"> 
   <li class="readable-text faux-li has-faux-ol-li-counter" id="p8"><span class="faux-ol-li-counter">3. </span> Open the left menu, and select the API Keys option, as shown in figure A.2.<span class="aframe-location"/> </li> 
  </ol> 
  <div class="browsable-container figure-container" id="p9">  
   <img alt="figure" src="../Images/A-2.png" width="567" height="639"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.2</span> Selecting the API Keys option</h5>
  </div> 
  <ol class=" faux-ol-li" style="list-style: none;"> 
   <li class="readable-text faux-li has-faux-ol-li-counter" id="p10"><span class="faux-ol-li-counter">4. </span> Click the Create button to create a new key, enter a name for the key, and click the Create Secret Key button, as shown in figure A.3.<span class="aframe-location"/> </li> 
  </ol> 
  <div class="browsable-container figure-container" id="p11">  
   <img alt="figure" src="../Images/A-3.png" width="929" height="674"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.3</span> Creating the secret API key</h5>
  </div> 
  <ol class=" faux-ol-li" style="list-style: none;"> 
   <li class="readable-text faux-li has-faux-ol-li-counter" id="p12"><span class="faux-ol-li-counter">5. </span> Copy and paste the key to a notepad or another area for safekeeping using the Copy button, as shown in figure A.4. Keep this key secret, and ensure it remains only on your development machine.<span class="aframe-location"/> </li> 
  </ol> 
  <div class="browsable-container figure-container" id="p13">  
   <img alt="figure" src="../Images/A-4.png" width="932" height="344"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.4</span> Copying and pasting the key to a well-known safe location</h5>
  </div> 
  <div class="readable-text" id="p14"> 
   <p>After generating a key, you can continue to use it within an <code>.env</code> configuration file or through other means of registering an OpenAI key. For most of the packages used in this book, configuring OpenAI will generally only require the key. Other services, such as Azure OpenAI, will require the configuration of a model deployment and a base URL as covered in the next section.</p> 
  </div> 
  <div class="readable-text" id="p15"> 
   <h2 class="readable-text-h2" id="sigil_toc_id_161"><span class="num-string">A.2</span> Azure OpenAI Studio, keys, and deployments</h2> 
  </div> 
  <div class="readable-text" id="p16"> 
   <p>Through its ongoing relationship with OpenAI, Microsoft hosts the same models at the same price within Azure OpenAI Studio. Occasionally, Azure may be a model version behind, but Microsoft generally keeps current with the latest OpenAI models.</p> 
  </div> 
  <div class="readable-text intended-text" id="p17"> 
   <p>These guidelines will be more general because there are several ways to access Azure and methods of creating accounts and accessing the studio (for specific instructions, refer to Microsoft documentation):</p> 
  </div> 
  <ol> 
   <li class="readable-text" id="p18"> Log in to your Azure portal account subscription. </li> 
   <li class="readable-text" id="p19"> Create a new Azure OpenAI Studio resource in a region that makes sense to you. At the time of writing, not all regions provided access to all models. You may need to check which models are available for your region first. This will also be specific to your account and usage. </li> 
  </ol> 
  <div class="readable-text list-body-item" id="p20"> 
   <p>Within Azure OpenAI, models are exposed through a resource allocation called a <em>deployment</em>. Deployments wrap a model, such as GPT-4, and provide access to the resource. Figure A.5 shows an example of various models being exposed through deployments.<span class="aframe-location"/></p> 
  </div> 
  <div class="browsable-container figure-container" id="p21">  
   <img alt="figure" src="../Images/A-5.png" width="1012" height="679"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.5</span> Deploying a model through an Azure OpenAI Studio deployment</h5>
  </div> 
  <ol class=" faux-ol-li" style="list-style: none;"> 
   <li class="readable-text faux-li has-faux-ol-li-counter" id="p22"><span class="faux-ol-li-counter">3. </span> Click the Create New Deployment button to create a new deployment, and then select the model you want to deploy. </li> 
   <li class="readable-text faux-li has-faux-ol-li-counter" id="p23"><span class="faux-ol-li-counter">4. </span> After the model is wrapped in a deployment, you must access the parent Azure OpenAI resource. From there, you can access the key, endpoint, or base URL needed to configure your connection, as shown in figure A.6.<span class="aframe-location"/> </li> 
  </ol> 
  <div class="browsable-container figure-container" id="p24">  
   <img alt="figure" src="../Images/A-6.png" width="1012" height="764"/> 
   <h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.6</span> Getting access to the keys and base URL used to access the service</h5>
  </div> 
  <div class="readable-text" id="p25"> 
   <p>Again, if you get stuck, the Microsoft documentation can guide you in the right direction. The three critical differences to remember when connecting to a resource such as Azure OpenAI Studio or another LLM using the OpenAI tooling are listed here:</p> 
  </div> 
  <ul> 
   <li class="readable-text" id="p26"> The <code>api key</code> to access the model </li> 
   <li class="readable-text" id="p27"> The base <code>url</code> or <code>endpoint</code> where the model is located </li> 
   <li class="readable-text" id="p28"> The name of the <code>model</code> or <code>deployment</code> name </li> 
  </ul> 
  <div class="readable-text" id="p29"> 
   <p>If you can’t access a model for whatever reason, a good alternative is open source models. Setting up and consuming open source LLMs is covered in chapter 2. </p> 
  </div>
 </div></div></body></html>