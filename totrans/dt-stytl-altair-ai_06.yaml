- en: 5 Crafting a data story using the DIKW pyramid
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter covers
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A homelessness tale, our scenario for this chapter
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What a data story is and how it relates to the DIKW pyramid
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to incorporate generative AI into the DIKW pyramid
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating stories is the most exciting part of data storytelling. It’s really
    about following a plot with a beginning, a main point, and a conclusion—just like
    in the stories at the cinema or theater. Here, however, there are constraints
    imposed by the data. In this chapter, we will focus on using the DIKW pyramid
    by describing two examples. The first example will analyze the problem of homelessness
    in Italy, and the second will examine the problem of fake news on a hypothetical
    website. We will also describe the concept of a data story and how it relates
    to the DIKW pyramid already discussed in the previous chapters. Finally, we will
    describe some strategies to incorporate generative AI in the DIKW pyramid, based
    on how to write specific prompts for ChatGPT to generate the context of a chart
    and for DALL-E to generate contextual images to incorporate into the chart.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '5.1 Breaking the ice: The homelessness tale'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Imagine that Angelica works for a humanitarian organization that wants to apply
    for funding from a foundation to help reduce the population of homeless people
    in Italy. Humanitarian interventions can be applied to up to four Italian regions.
    The call for funds involves preparing a data visualization chart motivating the
    selected regions and detailing reasons to fund the proposal.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Angelica’s boss asks her to complete a study on which regions to invest in and
    to motivate her choice. Angelica starts a web search for possible datasets on
    homelessness in Italy. After several searches, she comes across the ISTAT dataset
    on homelessness in 2021 ([https://mng.bz/Bd6J](https://mng.bz/Bd6J)). She downloads
    the dataset and starts analyzing it. Table 5.1 shows a simplified version of an
    extract of the homelessness dataset. The original dataset column names are in
    Italian. They are translated into English to improve readability.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Table 5.1 An extract of the ISTAT dataset on homelessness in 2021
  id: totrans-9
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| ITTER107 | Territory | Sex | Age | Citizenship | Value |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
- en: '| ITC1  | Piemonte  | M  | TOTAL  | ITL  | 4,218  |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
- en: '| ITC1  | Piemonte  | F  | TOTAL  | ITL  | 1,496  |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
- en: '| ITC2  | Valle d''Aosta  | M  | TOTAL  | ITL  | 41  |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
- en: '| ITC2  | Valle d''Aosta  | F  | TOTAL  | ITL  | 17  |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
- en: The ISTAT dataset on homelessness
  id: totrans-16
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The dataset has the following columns:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '*ITTER107*—The region ID'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Territory*—The region name'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Sex*—One of Male (M), Female (F), or Total (T)'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Age*—One of Sum of All Ages (TOTAL), Under 17 (Y_UN17), Between 18 and 34
    (Y18-34), Between 35 and 54 (Y35-54), and Greater Than 55 (''Y_GE55)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Citizenship*—One of Italian (ITL), Foreign (FRGAPO), or Total (TOTAL)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Value*—The actual number of homeless people'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: At the end of her analysis, Angelica produces the chart shown in figure 5.1
    by writing the code in the following listing, using Altair. You can find the full
    code in the GitHub repository for the book under CaseStudies/homeless-people/raw-chart.py.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在分析结束时，安吉丽卡通过以下列表中的代码使用Altair编写代码，生成了图5.1所示的图表。您可以在GitHub仓库的CaseStudies/homeless-people/raw-chart.py中找到完整的代码。
- en: Listing 5.1 The map in Altair
  id: totrans-25
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表5.1 Altair中的地图
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '#1 Data cleaning'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 数据清洗'
- en: '#2 Focus on total age, total sex, and total citizenship.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 关注总年龄、总性别和总国籍。'
- en: '#3 Load the TopoJSON file by URL.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '#3 通过URL加载TopoJSON文件。'
- en: '![figure](../Images/5-1.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-1.png)'
- en: Figure 5.1 A map showing the homeless people in Italy in 2021
  id: totrans-31
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.1 2021年意大利无家可归者的地图
- en: Note  The chart builds a map using an underlying `topoJSON` object containing
    the map of Italy. To build the map, use the `mark_geoshape()` marker, and specify
    the projection through the `project(`) method. In addition, combine the homeless
    dataset (`df`) and the map through the `transform_lookup()` method. Map the `properties.reg_name`
    variable of the `topoJSON` file with the `Territory` variable of the `df` DataFrame.
    We’ll discuss how to build a geographical map more deeply in the next chapter.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 备注：该图表使用包含意大利地图的底层`topoJSON`对象构建地图。要构建地图，请使用`mark_geoshape()`标记，并通过`project(`)方法指定投影。此外，通过`transform_lookup()`方法将`topoJSON`文件的`properties.reg_name`变量与`df`
    DataFrame的`Territory`变量进行映射。我们将在下一章更深入地讨论如何构建地理地图。
- en: 'Angelica shows the chart to her boss, who asks her to answer their question:
    *Which are the four regions for which we must apply for funding?* Angelica looks
    at the chart and gives this answer: *those with the darker color*. Her answer
    is very ambiguous because from the chart she produced, it is not immediately clear
    which exactly are the four regions with the darkest color. In addition, it is
    not clear why to select the four regions. Angelica has to admit that her chart
    has failed in its mission.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 安吉丽卡向她的上司展示了图表，上司要求她回答以下问题：*我们需要申请资金的四个地区是哪些？* 安吉丽卡查看图表，并给出以下答案：*颜色较深的地区*。她的答案非常含糊，因为从她生成的图表来看，并不立即清楚哪些地区颜色最深。此外，选择这四个地区的原因也不明确。安吉丽卡不得不承认，她的图表未能完成其使命。
- en: 5.1.1 What was wrong with the chart?
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.1.1 图表有什么问题？
- en: The main problem with the chart is there is a large discrepancy between what
    Angelica’s boss (audience) expected to see in the chart and what the chart actually
    shows. In practice, Angelica’s chart does not answer the question for which it
    was requested (figure 5.2).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图表的主要问题是安吉丽卡的上司（观众）期望在图表中看到的内容与图表实际显示的内容之间存在很大差异。在实践中，安吉丽卡的图表没有回答她请求的问题（图5.2）。
- en: '![figure](../Images/5-2.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-2.png)'
- en: Figure 5.2 Angelica’s boss (audience) requested an answer to a specific question
    (on the left). The chart actually answered generic questions (on the right).
  id: totrans-37
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.2 安吉丽卡的上司（观众）要求回答一个具体的问题（在左侧）。实际上，图表回答了通用问题（在右侧）。
- en: 'Here comes the first rule when building a chart: a chart must answer exactly
    the question the intended audience asks. Try not to leave it up to your audience
    to decipher the answer. Do the work for them!'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 建立图表的第一条规则是：图表必须准确回答目标观众提出的问题。尽量不要让观众去解读答案。为他们做这项工作！
- en: 'Angelica’s boss asks her to redo the chart. She returns to her office with
    her head down and analyzes her dataset again. Angelica understands that the problem
    is not so much data analysis but rather how to represent data effectively. She
    tries this reasoning: *at a glance, the audience must understand the four regions
    to apply for funding. What could these four regions be? Probably the ones that
    have the highest value of homeless people*. What is missing in her previous chart
    is the *probably* part. She considers making a bar chart that shows the regions
    in descending order based on the number of homeless people present. After a small
    effort, she produces the chart in figure 5.3, writing the code in listing 5.2\.
    You can also find the code in the GitHub repository for the book under CaseStudies/homeless-people/bar-chart.py.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 安吉丽卡的老板要求她重新绘制图表。她低头回到办公室，再次分析她的数据集。安吉丽卡明白问题不在于数据分析，而在于如何有效地表示数据。她尝试这样的推理：*观众必须一眼就能理解这四个地区以申请资金。这四个地区可能是什么？可能是拥有最多无家可归者数量的那些地区*。她之前图表中缺少的是*可能*的部分。她考虑制作一个条形图，按无家可归者数量降序显示地区。经过一番努力，她制作了图5.3中的图表，并在列表5.2中编写了代码。您也可以在GitHub仓库中找到该书的代码，位于CaseStudies/homeless-people/bar-chart.py。
- en: '![figure](../Images/5-3.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-3.png)'
- en: Figure 5.3 A bar chart showing the number of homeless people in Italy by region
    in 2021
  id: totrans-41
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.3 展示了2021年按地区划分的意大利无家可归者数量的条形图
- en: Listing 5.2 The bar chart in Altair
  id: totrans-42
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表5.2 Altair中的条形图
- en: '[PRE1]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note  The code builds a bar chart using the `mark_bar()` method. It also sets
    the bars’ color using the `color` parameter. To order the bars in descending order,
    use the `sort` parameter within the `y` channel, and specify to sort in descending
    order of the `x` encoding channel. Use `configure_title()` to configure the title
    parameters, such as the font size (`fontSize`) and the `offset` between the title
    and the chart.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：该代码使用`mark_bar()`方法构建条形图。它还使用`color`参数设置条的颜色。为了按降序对条进行排序，在`y`通道中使用`sort`参数，并指定按`x`编码通道的降序排序。使用`configure_title()`配置标题参数，例如字体大小（`fontSize`）和标题与图表之间的`offset`。
- en: 'The chart answers the boss’s question: the four regions are Lazio, Lombardia,
    Piemonte, and Campania. Angelica notes that three of the four regions also correspond
    to the most populous regions of Italy. As Angelica reflects on this, she notices
    that her chart contains an underlying error. The most populous regions also have
    the highest number of homeless people precisely because their population is greater.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 该图表回答了老板的问题：这四个区域是拉齐奥、伦巴第、皮埃蒙特和坎帕尼亚。安吉丽卡注意到这四个区域中的三个也对应着意大利人口最多的地区。当安吉丽卡反思这一点时，她注意到她的图表中存在一个潜在的错误。人口最多的地区也拥有最多的无家可归者，这正是因为它们的人口更多。
- en: Therefore, the chart does not show the situation in a relevant way. She needs
    to normalize the data based on the population—or scale the numbers based on population
    size. Without any normalization, data could be biased. Consider, for example,
    the case of a region with a population of 100 people, of which 30 are homeless.
    Also, consider region with a population of 10 people, of which 8 are homeless.
    If you represent absolute values, you conclude that in the first case, there are
    more homeless people than in the second one. But if you pay more attention to
    the scenario, in the second case, 80% of the population are homeless, while in
    the first case, only 30% are homeless.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，该图表没有以相关的方式展示情况。她需要根据人口对数据进行归一化——或者根据人口规模调整数字。如果没有任何归一化，数据可能会存在偏差。例如，考虑一个有100人口、其中30人是无家可归者的地区。再考虑一个有10人口、其中8人是无家可归者的地区。如果你表示绝对值，你可能会得出结论，在第一种情况下，无家可归者比第二种情况下多。但如果你更关注场景，在第二种情况下，80%的人口是无家可归的，而在第一种情况下，只有30%的人口是无家可归的。
- en: Figure 5.4 shows the resulting chart after the normalization process, focusing
    on the regions with the four largest homeless populations. Listing 5.3 describes
    the code written to draw the chart (script CaseStudies/homeless-people/story-chart.py).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.4显示了经过归一化处理后的结果图表，重点关注拥有最多无家可归者人口的四个地区。列表5.3描述了绘制图表所编写的代码（脚本CaseStudies/homeless-people/story-chart.py）。
- en: '![figure](../Images/5-4.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-4.png)'
- en: Figure 5.4 A bar chart showing the number of homeless people in a region with
    a population of 1,000 in 2021
  id: totrans-49
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.4 展示了2021年人口为1000人的地区无家可归者数量的条形图
- en: Listing 5.3 Listing 5.3 The improved bar chart in Altair
  id: totrans-50
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表5.3 列表5.3 Altair中的改进条形图
- en: '[PRE2]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '#1 Data cleaning'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 数据清洗'
- en: '#2 Focus on total age, total sex, and total citizenship.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 关注总年龄、总性别和总公民身份。'
- en: '#3 Normalize the values by popultation.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '#3 按人口标准化值。'
- en: Note  The code loads the population dataset, which contains the same fields
    as the homeless dataset, except for the Value column, which indicates the actual
    population. The code merges the two datasets, population (`df_pop`) and homeless
    (`df`), and calculates the ratio between the number of homeless and the population.
    Then, the chart builds a bar chart using the ratio as the `x` encoding channel.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 备注：代码加载了包含与无家可归者数据集相同字段的人口数据集，除了值列，该列表示实际人口。代码将两个数据集（人口`df_pop`和无家可归者`df`）合并，并计算无家可归者与人口之间的比率。然后，图表使用比率作为`x`编码通道构建条形图。
- en: 'Angelica’s chart eventually answers her boss’s question: the four regions are
    Lazio, Liguria, Piemonte, and Sardegna. Finally, Angelica shows her chart to her
    boss, who is very satisfied with her result.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Angelica的图表最终回答了她老板的问题：四个地区是拉齐奥、利古里亚、皮埃蒙特和萨丁岛。最后，Angelica向她的老板展示了她的图表，她的老板对她结果非常满意。
- en: To apply for funds, Angelica must send her chart to a commission, which will
    decide whether or not to finance her organization’s proposal. However, after a
    careful evaluation, the foundation commission decides not to finance her project
    because the chart lacks motivation.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了申请资金，Angelica必须将她的图表发送到一个委员会，该委员会将决定是否资助她组织的提案。然而，经过仔细评估后，基金委员会决定不资助她的项目，因为图表缺乏动力。
- en: 5.1.2 What was wrong with the presentation?
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.1.2 展示中有什么问题？
- en: To understand why the foundation commission refused to fund Angelica’s proposal,
    let’s trace back the path she followed. She started with raw data, analyzed it,
    extracted an insight, and represented it through a chart before she sent it to
    the foundation commission (figure 5.5).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解为什么基金委员会拒绝资助Angelica的提案，让我们回顾她所遵循的路径。她从原始数据开始，进行分析，提取洞察，并通过图表来表示，在将图表发送给基金委员会之前（图5.5）。
- en: '![figure](../Images/5-5.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/5-5.png)'
- en: Figure 5.5 Angelica’s journey to chart generation. Angelica presented the results
    of data exploration directly to her audience.
  id: totrans-61
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.5 Angelica的图表生成之旅。Angelica直接向她的观众展示了数据探索的结果。
- en: What is lacking about her chart is that it contains no context and no motivation
    to push the foundation commission to accept her proposal. Angelica should have
    added an explanatory phase to the exploratory phase of the data, where she could
    have engaged the audience with her data and motivated them to accept her proposal.
    Angelica could have used the DIKW model to move from the exploratory phase of
    her data to the explanatory phase (figure 5.6).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 她的图表所缺乏的是没有上下文，也没有推动基金委员会接受她提案的动力。Angelica应该在数据探索阶段之后添加一个解释阶段，在那里她可以用她的数据吸引观众，并激励他们接受她的提案。Angelica可以使用DIKW模型将她数据的探索阶段转移到解释阶段（图5.6）。
- en: '![figure](../Images/5-6.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/5-6.png)'
- en: Figure 5.6 Angelica should have transformed her data exploration into a data
    explanation phase.
  id: totrans-64
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.6 Angelica应该将她的数据探索阶段转化为数据解释阶段。
- en: 'In other words, Angelica hasn’t turned data into a story. In his book, *Effective
    Data Storytelling*, Brent Dykes says, “The formation of a data story begins with
    using exploratory data visualizations to discover insights. Once a meaningful
    insight is uncovered, explanatory data visualizations are used to tell a story.”
    (Dykes, 2019) The chart built by Angelica constitutes only the main point of the
    data story. However, to have a complete story, Angelica should have also included
    a background and next steps (figure 5.7). The foundation commission expected Angelica’s
    chart to answer this question: *Why should we fund your project?* Organizing the
    chart as a story would have increased her chances of receiving funding.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，Angelica还没有将数据转化为故事。在他的书籍《有效数据叙事》中，Brent Dykes说：“数据故事的形成始于使用探索性数据可视化来发现洞察。一旦发现有意义的洞察，就使用解释性数据可视化来讲述故事。”（Dykes，2019）Angelica构建的图表仅构成了数据故事的主要观点。然而，为了有一个完整的故事，Angelica还应该包括背景和下一步行动（图5.7）。基金委员会期望Angelica的图表能够回答这个问题：*为什么我们应该资助你的项目？*将图表组织成一个故事将增加她获得资助的机会。
- en: '![figure](../Images/5-7.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/5-7.png)'
- en: Figure 5.7 The foundation commission expected to see a story with a background,
    a main point, and next steps, inviting them to fund Angelica’s proposal.
  id: totrans-67
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.7 基金委员会期望看到一个包含背景、主要观点和下一步行动的故事，邀请他们资助Angelica的提案。
- en: 'Now, you understand the urgency behind turning data into a story to communicate
    a message to an audience effectively. Next, let’s move to the next step: what
    a data story is and its main components.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你理解了将数据转化为故事以有效地向观众传达信息的紧迫性。接下来，让我们进入下一步：数据故事是什么及其主要组成部分。
- en: '5.2 Uncovering the narrative: What a data story is'
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.2 揭示叙事：数据故事是什么
- en: According to the *Cambridge Dictionary*, a story is “a description, either true
    or imagined, of a connected series of events.” A story is a way to share information
    or entertainment through a structured, cohesive narrative that engages the audience.
    The goal of a story is always to engage its audience to communicate a message.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 根据《剑桥词典》，故事是“对一系列事件的真实或虚构描述。”故事是通过一个结构化、连贯的叙述来分享信息或娱乐，从而吸引观众的方式。故事的目标始终是吸引观众以传达信息。
- en: 'In his book *Poetics*, the Greek philosopher Aristotle proposed a framework
    to structure a tragedy, also known as the *three-act structure*. The structure
    consists of three main parts: the setup, the confrontation, and the resolution
    (figure 5.8).'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在他的著作《诗学》中，古希腊哲学家亚里士多德提出了一种构建悲剧的框架，也称为“三幕结构”。该结构由三个主要部分组成：设置、对抗和解决（图5.8）。
- en: '![figure](../Images/5-8.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-8.png)'
- en: Figure 5.8 The three-act structure proposed by Aristotle to structure a tragedy
  id: totrans-73
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.8 亚里士多德提出的三幕结构来构建悲剧
- en: The setup introduces the audience to the characters, setting, and basic conflict
    of the story. In the confrontation, the main character faces obstacles and struggles
    to overcome them. Finally, in the resolution, the story reaches the point at which
    conflicts are resolved. Aristotle’s tragedy structure is still widely used today
    in literature, film, and other forms of storytelling. Its effectiveness lies in
    its ability to build tension and suspense, leading to a satisfying resolution
    for the audience.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 本节设置向观众介绍了故事的角色、背景和基本冲突。在对抗中，主要角色面临障碍并努力克服它们。最后，在解决阶段，故事达到冲突得以解决的点。亚里士多德的悲剧结构至今仍在文学、电影和其他叙事形式中得到广泛应用。其有效性在于其构建紧张和悬念的能力，从而为观众带来令人满意的结局。
- en: In *Effective Data Storytelling*, Dykes proposes an updated version of the three-act
    tragedy, adapted to the data storytelling scenario (figure 5.9). Dykes calls it
    the *data storytelling arc*.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在《有效数据叙事》一书中，Dykes提出了一种三幕悲剧的更新版本，适用于数据叙事场景（图5.9）。Dykes称之为“数据故事结构弧”。
- en: '![figure](../Images/5-9.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-9.png)'
- en: Figure 5.9 The data storytelling arc proposed by Dykes to structure a data story
  id: totrans-77
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.9 Dykes提出的数据故事结构弧
- en: A data story starts by (a) defining the background behind data and (b) raising
    the audience’s interest. Dykes also proposes including a hook during this initial
    phase. A hook is “a notable observation that acts as a turning point in the story
    and begins to reveal a problem or opportunity” (Dykes, 2019). Then, the data story
    culminates with the main point behind the data by (c) revealing the insight, (d)
    leaving the audience some time to think, and (e) terminating by proposing the
    next steps.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 数据故事首先通过（a）定义数据背后的背景和（b）激发观众的兴趣来开始。Dykes还建议在此初始阶段加入一个钩子。钩子是“一个作为故事转折点的显著观察，开始揭示问题或机会”（Dykes，2019）。然后，数据故事通过（c）揭示洞察力、（d）给观众一些思考时间以及（e）通过提出下一步行动来结束。
- en: The structure proposed in figure 4.9 might seem abstract and difficult to apply
    when constructing a chart. Using the DIKW pyramid covered in chapter 1, you can
    turn a simple chart into a story.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.9中提出的结构在构建图表时可能看似抽象且难以应用。使用第1章中介绍的DIKW金字塔，你可以将简单的图表转变为故事。
- en: 5.2.1 Using the DIKW pyramid to streamline a data story
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.2.1 使用DIKW金字塔简化数据故事
- en: 'In chapter 1, we introduced the data, information, knowledge, wisdom (DIKW)
    pyramid and used it to transform data into wisdom in the practical example of
    an event dedicated to pets. We can generalize the example described in chapter
    2 and use the DIKW to build any data story. Figure 5.10 shows how to map the data
    storytelling arc to the DIKW pyramid:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在第1章中，我们介绍了数据、信息、知识、智慧（DIKW）金字塔，并在宠物活动等实际案例中用它将数据转化为智慧。我们可以概括第2章中描述的例子，并使用DIKW来构建任何数据故事。图5.10显示了如何将数据故事结构弧映射到DIKW金字塔上：
- en: Extracting insights from data corresponds to the main point of a data story.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从数据中提取洞察力对应于数据故事的主要点。
- en: Adding context to the extracted information corresponds to defining the background
    and raising the audience interest.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将背景添加到提取的信息中相当于定义背景并提高观众的兴趣。
- en: Adding a call to action corresponds to inviting the audience to think and follow
    the next steps.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加行动号召相当于邀请观众思考和跟随下一步。
- en: '![figure](../Images/5-10.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-10.png)'
- en: Figure 5.10 A mapping of the data storytelling arc and the DIKW pyramid
  id: totrans-86
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 5.10 数据讲述弧与 DIKW 金字塔的映射
- en: It might seem strange to have knowledge before the data. However, here, by *knowledge*,
    we mean of all the elements needed to understand the story and place it in a specific
    context. The described mapping suggests the natural flow when you build a data
    story (figure 5.11). First, identify the main point of your story; then set the
    background; and, finally, set the next steps.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据之前拥有知识可能看起来很奇怪。然而，在这里，我们所说的“知识”是指理解故事并将其置于特定背景所需的所有元素。所描述的映射表明了构建数据故事时的自然流程（图
    5.11）。首先，确定故事的主要观点；然后设置背景；最后，设置下一步。
- en: '![figure](../Images/5-11.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-11.png)'
- en: Figure 5.11 The flow to build a data story
  id: totrans-89
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 5.11 构建数据故事的流程
- en: '5.2.2 DIKW in action: Completing the homelessness tale'
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.2.2 DIKW 在行动：完成无家可归者故事
- en: The homelessness example described at the beginning of the chapter stopped at
    the information level of the DIKW pyramid that, in terms of a data story, consisted
    only of the main point. Adding background to the chart involves grabbing your
    audience’s attention and making them interested in the problem you’re describing.
    In chapter 2, you learned that in Altair, you can add textual annotations to a
    chart to transform information into knowledge. In addition, there are other ways
    to add context to a chart, including labels, titles, sources, images, descriptions,
    and comparisons. We’ll describe these in more detail in chapter 6.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 本章开头描述的无家可归者例子停留在 DIKW 金字塔的信息层面，从数据故事的角度来看，它只包括主要观点。向图表添加背景涉及吸引观众的注意力，并使他们对你所描述的问题产生兴趣。在第
    2 章中，你学习了在 Altair 中，你可以向图表添加文本注释，将信息转化为知识。此外，还有其他方法可以向图表添加背景，包括标签、标题、来源、图像、描述和比较。我们将在第
    6 章中更详细地描述这些内容。
- en: In the case of the homeless problem, you can add text describing the situation
    of these people and possibly a photo that gives a face to the people involved.
    We will see how to add a hero to the story in chapter 6\. For now, it’s enough
    to give a face to the people behind the data.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在无家可归者问题的案例中，你可以添加描述这些人们情况的文本，以及可能给涉及的人一个面孔的照片。我们将在第 6 章中看到如何将英雄添加到故事中。现在，只需给数据背后的人一个面孔就足够了。
- en: In listing 5.4, we add text describing the context as the chart subtitle. Use
    the `TitleParams()` function to specify the title properties, including the subtitle.
    Set the subtitle to
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在列表 5.4 中，我们将描述背景的文本作为图表副标题添加。使用 `TitleParams()` 函数来指定标题属性，包括副标题。将副标题设置为
- en: '[PRE3]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Also, add a short description, helping the reader to focus on the data:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，添加简短描述，帮助读者关注数据：
- en: '[PRE4]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Listing 5.4 Adding the context as the subtitle
  id: totrans-97
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 5.4 将背景作为副标题添加
- en: '[PRE5]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Note  Within the `properties()` method, use the `title` parameter to set the
    chart title. Define the title using the `TitleParams()` function, which can receive
    many parameters as an input. The example passes the following parameters: title
    (`text`), subtitle (`subtitle`), subtitle font size (`subTitleFontSize`), title
    font size (`titleFontSize`).'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：在 `properties()` 方法中，使用 `title` 参数来设置图表标题。使用 `TitleParams()` 函数定义标题，该函数可以接收多个参数作为输入。示例传递了以下参数：标题（`text`）、副标题（`subtitle`）、副标题字体大小（`subTitleFontSize`）、标题字体大小（`titleFontSize`）。
- en: 'Listing 5.5 shows how to add two photos to the chart and combine them with
    the original chart to build a dashboard. You must run the code on a web server
    to make it work. If you don’t have a web server, you can run a local and temporary
    web server from the command line, running the following command in the directory
    containing the produced HTML file: `python` `-m` `http.server.` The server should
    listen at port 8000 and serve all the files in the directory from which it is
    started. Point your browser to http://localhost:8000/chart.xhtml to access the
    file chart.xhtml.'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 5.5 展示了如何向图表添加两张照片，并将它们与原始图表结合来构建仪表板。你必须在一个网络服务器上运行代码才能使其工作。如果你没有网络服务器，你可以从命令行运行一个本地和临时的网络服务器，在包含生成的
    HTML 文件的目录中运行以下命令：`python` `-m` `http.server.` 服务器应在端口 8000 上监听，并从启动它的目录中提供所有文件。将你的浏览器指向
    http://localhost:8000/chart.xhtml 以访问文件 chart.xhtml。
- en: Listing 5.5 Adding the context as images
  id: totrans-101
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表5.5 添加上下文作为图像
- en: '[PRE6]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '#1 Build the first image.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 构建第一个图像。'
- en: '#2 Build the second image'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 构建第二个图像'
- en: Note  Use `mark_image()` to add an image to a chart. Set the path to the image
    file in the DataFrame passed to the chart. Use the `x` and `y` channels to set
    the image position in the chart. Use the same chart to draw `image1` and `image2`
    (`+` operator), and draw the main chart on the right with respect to `image1`
    `+` `image2`.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 备注：使用`mark_image()`向图表添加图像。在传递给图表的DataFrame中设置图像文件的路径。使用`x`和`y`通道设置图像在图表中的位置。使用相同的图表绘制`image1`和`image2`（`+`运算符），并将主图表相对于`image1`
    `+` `image2`绘制在右侧。
- en: 'To complete the homelessness story, add a call to action, which includes the
    next steps. In this example, we first modify the title: *Together, Let’s Make
    a Difference: Support Our Project to Help the Homeless!* We’ll see different strategies
    to add a call to action to a chart in chapter 9\. Figure 5.12 shows the resulting
    chart.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成无家可归的故事，添加一个行动号召，包括下一步。在这个例子中，我们首先修改标题：*一起，让我们做出改变：支持我们的项目，帮助无家可归者!* 我们将在第9章中看到如何向图表添加行动号召的不同策略。图5.12显示了结果图表。
- en: '![figure](../Images/5-12.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-12.png)'
- en: Figure 5.12 The homelessness chart is enriched with a context (images and subtitle).
  id: totrans-108
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.12 无家可归图表通过上下文（图像和副标题）得到丰富。
- en: Then, we add a new part to the chart, describing how we will use funds (figure
    5.13). For example, we will use 35% of the funds for shelter and housing, 25%
    for job training, and so on.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们在图表中添加一个新的部分，描述我们将如何使用资金（图5.13）。例如，我们将用35%的资金用于庇护和住房，25%用于职业培训，等等。
- en: '![figure](../Images/5-13.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-13.png)'
- en: Figure 5.13 A possible next step explaining how we will use funds
  id: totrans-111
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.13 解释我们将如何使用资金的下一个步骤
- en: The following listing shows how we implemented the charts in figure 5.13\. We
    assume we have a DataFrame storing the percentage of funds (allocation) for each
    category.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列表显示了我们在图5.13中实现图表的方法。我们假设我们有一个DataFrame存储每个类别的资金（分配）百分比。
- en: Listing 5.6 Adding a next step
  id: totrans-113
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表5.6 添加下一步
- en: '[PRE7]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '#1 Creates a DataFrame for the current row to use as data for the chart'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 为当前行创建一个DataFrame，用作图表的数据'
- en: '#2 Generates the donut chart using Altair'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 使用Altair生成饼图'
- en: '#3 Creates a title for the donut chart'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '#3 为饼图创建标题'
- en: '#4 Creates a text annotation for the donut chart'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '#4 为饼图创建文本注释'
- en: '#5 Sets the size of the donut chart'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '#5 设置饼图的大小'
- en: '#6 Combines the title, donut chart, and text annotation'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '#6 结合标题、饼图和文本注释'
- en: '#7 If it’s the first iteration, assigns the combined chart to donuts'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '#7 如果是第一次迭代，则将组合图表分配给饼图'
- en: '#8 If it’s not the first iteration, horizontally concatenates the combined
    chart with the existing donuts'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '#8 如果不是第一次迭代，则将组合图表水平连接到现有的饼图中'
- en: '#9 Sets the title for the final donuts chart'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '#9 为最终的饼图设置标题'
- en: Note  Implement each donut chart as a separate chart using `mark_arc()`. For
    each donut, build an ad-hoc DataFrame (`current_ns`) that contains the actual
    allocation value and its complementary value (100 – Actual Allocation Value).
    Then, use different colors to plot the current allocation value and its complementary
    value.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 备注：使用`mark_arc()`将每个饼图实现为一个单独的图表。对于每个饼图，构建一个临时的DataFrame（`current_ns`），其中包含实际分配值及其互补值（100
    - 实际分配值）。然后，使用不同的颜色绘制当前分配值及其互补值。
- en: Figure 5.14 shows the resulting chart. If Angelica had submitted the chart in
    figure 5.14 to the commission foundation, she probably would have had more opportunities
    to get funded. Now that you have completed the homelessness tale, let’s describe
    how you can incorporate the power of generative AI in the DIKW pyramid.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.14显示了结果图表。如果Angelica将图5.14中的图表提交给委员会基金会，她可能会有更多获得资助的机会。现在你已经完成了无家可归的故事，让我们描述如何将生成式AI的力量融入DIKW金字塔。
- en: '![figure](../Images/5-14.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/5-14.png)'
- en: Figure 5.14 The final chart for the homeless tale
  id: totrans-127
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.14 无家可归故事的最终图表
- en: 5.3 Incorporating generative AI into the DIKW pyramid
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.3 将生成式AI融入DIKW金字塔
- en: Generative AI, as we covered in chapter 4, can help us take things one step
    further by enabling the creation of sophisticated and realistic computer-generated
    content that can revolutionize various industries and domains. Now, armed with
    this knowledge, we can leverage generative AI’s capabilities to augment human
    creativity and automate content generation processes.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在第4章中讨论的，生成式AI可以帮助我们更进一步，通过使创建复杂和逼真的计算机生成内容成为可能，从而改变各个行业和领域。现在，有了这些知识，我们可以利用生成式AI的能力来增强人类创造力并自动化内容生成过程。
- en: 'Figure 5.15 shows where we can incorporate generative AI tools into each step
    of the DIKW pyramid:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.15显示了我们可以将生成式AI工具融入DIKW金字塔的每个步骤：
- en: '*Insight extraction* —Use generative algorithms to automate the creation code
    that builds the chart.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*洞察提取* — 使用生成算法自动化构建图表的代码生成。'
- en: '*Context adding* —Use text generation to transform basic texts into more engaging
    ones for the audience. Add images, voice, and videos generated by AI to give the
    audience additional context.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*添加背景* — 使用文本生成将基本文本转换为更吸引观众的文本。添加由AI生成的图像、声音和视频，为观众提供额外的背景信息。'
- en: '*Call to action* —Use text generation to suggest new ideas and engaging text.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*行动号召* — 使用文本生成来提出新想法和吸引人的文本。'
- en: '![figure](../Images/5-15.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/5-15.png)'
- en: Figure 5.15 Where we can incorporate generative AI tools into the DIKW pyramid
  id: totrans-135
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图5.15 我们如何将生成式AI工具融入DIKW金字塔
- en: 'It’s important to note that the examples listed are just a few of the ways
    that you can incorporate generative AI into the DIKW pyramid. There are countless
    other ways in which you can take advantage of these tools, such as synthesizing
    large amounts of data, developing personalized, predictive models, and constructing
    personalized recommendations based on data. However, in this book, we will focus
    specifically on the techniques for integrating generative AI into the DIKW pyramid,
    as it can assist in building a data story. Anyway, I encourage you to think outside
    the box and explore new and innovative ways to apply generative AI in your work.
    With so much potential waiting to be unlocked, the possibilities are truly endless!
    Now that you have learned how to incorporate generative AI tools into the DIKW
    pyramid, let’s apply this strategy to our case study: the homelessness tale.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，列出的例子只是你可以将生成式AI融入DIKW金字塔的几种方式之一。还有无数其他方式可以利用这些工具，例如综合大量数据、开发个性化的预测模型，以及根据数据构建个性化的推荐。然而，在这本书中，我们将专注于将生成式AI融入DIKW金字塔的技术，因为它有助于构建数据故事。无论如何，我鼓励你跳出思维定式，探索将生成式AI应用于工作中的新方法和创新方式。随着如此多的潜力等待被解锁，可能性确实是无限的！现在，你已经学会了如何将生成式AI工具融入DIKW金字塔，让我们将这种策略应用于我们的案例研究：无家可归者的故事。
- en: '5.4 Behind the scenes: The homelessness tale'
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.4 背后故事：无家可归者的故事
- en: In the previous chapters, you saw how to use GitHub Copilot to generate the
    code to build the chart. Now, it’s time to go a step further.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，你看到了如何使用GitHub Copilot生成构建图表的代码。现在，是时候更进一步了。
- en: Consider the homelessness tale again, specifically figure 5.12\. The figure
    contains a title, defining the call to action; a subtitle, setting the context;
    and two photos, adding to the context. While you may have thought that we came
    up with the title and created or downloaded the images, in reality, it was ChatGPT
    and DALL-E that worked together to generate the content! Let’s see how we used
    ChatGPT to generate the subtitle and DALL-E to generate the photos. In the next
    chapters, we will see how to use more deeply generative AI tools for data storytelling.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 再次考虑无家可归者的故事，特别是图5.12。该图包含一个标题，定义了行动号召；一个副标题，设定背景；以及两张照片，增加了背景信息。虽然你可能认为我们提出了标题并创建或下载了图像，但实际上是ChatGPT和DALL-E共同合作生成内容！让我们看看我们是如何使用ChatGPT生成副标题以及DALL-E生成照片的。在接下来的章节中，我们将看到如何使用更深入的生成式AI工具进行数据叙事。
- en: 5.4.1 Creating a compelling subtitle
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.4.1 创建引人入胜的副标题
- en: We started a conversation with ChatGPT to extract a possible context that describes
    the situation where homeless individuals live. The context should be a short and
    engaging sentence. Figure 5.16 shows the steps involved in the conversation. *Q*
    refers to user questions (which will form the basis of our prompts), and *A* refers
    to ChatGPT’s answers. You can read the complete conversation in 05/genAI/SubtitleConversation.txt.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-16.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
- en: Figure 5.16 The steps to generate the text used for context
  id: totrans-143
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'ChatGPT generated the text after four steps. We used the following strategy
    to make ChatGPT generate the desired text:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '*Describe* —Ask ChatGPT to describe your problem in general. In this case,
    ask ChatGPT to describe the homelessness condition in general. As an answer, ChatGPT
    generates a long passage of text.'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Shorten* —Ask ChatGPT to write a summary of the generated text.'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Transform* —Ask ChatGPT to make the summary more engaging for the audience.'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Shorten* —If the text is still long, ask ChatGPT to reduce it.'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Without realizing it, we applied the DIKW model to the use of ChatGPT. Starting
    from a long passage of text (data), we extracted the information (summary), and
    then converted it into knowledge and wisdom (engaging text). In other words, when
    you talk to ChatGPT to generate context, organize the conversation as a story
    (figure 5.17).
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-17.png)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
- en: Figure 5.17 The mapping between the data story structure and the ChatGPT conversation
    to generate context
  id: totrans-151
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: You can generalize the described procedure to generate a variety of possible
    subtitles and then choose the one that fits your needs. Additionally, you can
    add specific keywords that can help appeal to your target audience and increase
    the visibility of your text. We’ll see how to add keywords to the ChatGPT conversation
    in chapter 6\.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: 5.4.2 Generating images
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Adding one or more images or photos to your chart helps give a face to the topic
    of your chart. However, images are often subjected to copyright, which means using
    them without permission from the owner can lead to legal consequences. We can
    use DALL-E and other AI tools for images to create unique and original images
    that are free from copyright restrictions.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: 'In the chart about homelessness, we have added two photos representing homeless
    individuals. We have generated them using the following simple prompt to DALL-E:
    *a photo of a homeless individual*. DALL-E has generated four images, and we have
    chosen two (figure 5.18). In chapter 6, we will see more advanced techniques to
    generate images.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-18.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
- en: Figure 5.18 The photos generated by DALL-E when prompted with a photo of a homeless
    individual
  id: totrans-157
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Now that you have learned how to use generative AI tools to transform your raw
    data visualization chart into a data story, let’s look at another example, to
    consolidate the concepts.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
- en: '5.5 Another example: Fake news'
  id: totrans-159
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Imagine that LatestNews is an important website that publishes news from different
    contributors. At a given point, the editor-in-chief receives some complaints from
    different readers because they read a high percentage of fake news. The editor-in-chief
    contacts you to analyze the amount of fake news on the LatestNews website and
    advises the website editors to pay attention to the categories of news that have
    the highest probability of being fake. You already have collected data, and you
    have the dataset shown in table 5.2.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
- en: Table 5.2 An extract of the dataset of the example
  id: totrans-161
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| Category | Number of Fake Articles | Number of Articles |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
- en: '| Politics  | 1,235  | 1,300  |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
- en: '| Economy  | 1,456  | 1,678  |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
- en: '| Justice  | 300  | 570  |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
- en: '| Religion  | 30  | 100  |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
- en: The dataset shows the number of fake news stories and the total number of articles
    for each news category. You start by drawing a preliminary chart, paying attention
    to the percentage of fake articles for each category. Figure 5.19 shows the preliminary
    chart, and listing 5.7 shows the associated code. You can also find the code in
    the GitHub repository for the book under CaseStudies/fake-news/raw-chart.py.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-19.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
- en: Figure 5.19 The raw chart showing the number of fake articles by category
  id: totrans-170
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Listing 5.7 Building the raw chart
  id: totrans-171
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '#1 Uses Copilot comments to speed up the chart generation process'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Uses configure_axis() to configure the axes’ general properties'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Removes the grid completely'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
- en: Note  Use `transform_calculate()` to dynamically add a new column to the DataFrame.
    This method receives the new column name as the first parameter (Percentage of
    Fake Articles, in the example) and the expression to calculate the new column
    as the second parameter.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
- en: 'In the remainder of the section, we will apply the DIKW pyramid to transform
    the chart into a data story. Let’s start with the first step: turning data into
    information.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
- en: 5.5.1 From data to information
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Turning data into information means extracting some insights from data, an insight
    that is significant and helps your audience of editors understand which kind of
    news has the highest probability of being fake. Let’s try the rotation strategy.
    This strategy, originally described by Berengueres in his previously quoted book,
    involves rotating the chart to obtain a pyramid and searching for some pyramid
    framework, such as moral, economic, and other similar frameworks. Figure 5.20
    shows the rotation process.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-20.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
- en: Figure 5.20 The rotation process of the chart in figure 5.19
  id: totrans-181
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Next, we can flip the chart horizontally and obtain the chart in figure 5.21,
    with corrected labels. You can also rewrite the Altair code directly to draw a
    column chart instead of a bar chart (the code is in the GitHub repository under
    CaseStudies/fake-news/bar-chart.py). We have preferred to show the rotation process
    instead of drawing the chart directly, to show how the rotation strategy works.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-21.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
- en: Figure 5.21 The rotation process, flipping the chart in figure 5.19 horizontally
  id: totrans-184
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: If you look at labels carefully, you may notice that at the bottom of the pyramid,
    there are categories related to material life (from Education to Business). In
    the middle of the pyramid, there are categories related to moral life (from Human
    Rights to Ethics). At the top of the pyramid, there are categories related to
    spiritual life (from Mysticism to Philosophy). This means that most fake news
    relates to material life (more than 70%) and moral life (more than 30% of fake
    news but less than 60%). You can highlight the model material–moral–spiritual
    life using different colors in the chart based on the different macro categories
    the news belongs to.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
- en: First, use Copilot to generate the list of macro categories, as shown in listing
    5.8 and in the GitHub repository for the book under CaseStudies/fake-news/story-chart.py.
    The listing shows only how to generate the material life macro category, but you
    can apply the same strategy also for the other macro categories.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.8 Using Copilot to generate a list
  id: totrans-187
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '#1 The output produced by Copilot'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
- en: Note  Describe the elements to include in the list.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: Now, ask Copilot to generate the code to add a new column to the DataFrame,
    containing the macro category. The following listing shows the instructions for
    Copilot.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.9 Using Copilot to add a new column to a DataFrame
  id: totrans-192
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '#1 The output produced by Copilot'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: Note  Describe how to build the new category of the DataFrame.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
- en: Next, use the new column Macro Category to set the color of the bars in the
    chart.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.10 Using the new column for the bars’ colors
  id: totrans-197
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Note  Add the color channel to set the color of the bars.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.22 shows the resulting chart. We have used two tonalities of red to
    highlight the urgency of paying attention to material and moral life.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-22.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
- en: Figure 5.22 The chart of figure 5.21 with macro categories highlighted
  id: totrans-202
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'We could improve the chart by simplifying it, for example, by grouping categories.
    However, our audience comprises experts (editors), who need very detailed information
    because they must know precisely which categories they must analyze more deeply.
    For this reason, we keep the chart very detailed. We have removed the legend from
    the chart because we want to replace it with some images, which also act as the
    context for our story. Let’s see how to add these images in the next step: turning
    information into knowledge.'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
- en: 5.5.2 From information to knowledge
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The idea is to add an image for each macro category, more specifically, an
    icon. We can use DALL-E to generate the three images. Use the following prompt
    to generate the spiritual life icon: a black-and-white icon with praying hands.
    DALL-E will generate four images, such as those shown in figure 5.23.'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-23.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
- en: Figure 5.23 The images generated by DALL-E related to the spiritual life
  id: totrans-207
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Similarly, you can generate icons related to the other categories. We have
    used the following prompts:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: '*A black and white icon with a balance symbol of moral life*'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*A black and white icon with a circle representing the world*'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If you don’t have any ideas on how to generate an image, you can use ChatGPT
    to get some ideas. For example, you can write the following prompt in ChatGPT:
    *How would you represent material life through an icon?* Among the other suggestions,
    ChatGPT suggests the following: *A circle to represent the world or universe,
    with various smaller icons or symbols placed within it to represent different
    facets of material life.*'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
- en: Once you have generated the images, you can incorporate them into the chart.
    The following listing describes how to add the spiritual life image. You can adopt
    the same strategy also for the other images. Also, remember to load the generated
    HTML chart in a web server.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.11 Adding an icon to the chart
  id: totrans-213
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '#1 Add an image to the chart.'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: Note  Calibrate the x and y positions manually, based on how the chart appears.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: Near the icon, add a text describing the macro category.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.12 Adding text to the chart
  id: totrans-218
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Note  Calibrate the x and y positions manually, based on how the chart appears.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: Finally, combine all the charts.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.13 Combining the images, texts, and chart
  id: totrans-222
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Note  Use the + operator to combine all the elements of the chart
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.24 shows the resulting chart. The icons and the text act as the legend.
    In addition, they are the characters of our story.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-24.png)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
- en: Figure 5.24 Adding the images related to spiritual life, moral life, and material
    life to the chart
  id: totrans-227
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The next step involves adding a textual background to our chart and setting
    the context. We can add it as the subtitle of our chart. Let’s use ChatGPT to
    generate some ideas. Write the following prompt:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: '*Act as a storyteller. Describe the context of a visual chart showing that
    the highest number of fake news on the LatestNews website is related to material
    life, followed by moral life and finally by spiritual life. Use max 150 characters.*'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
- en: 'We have specified three main elements:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: The ChatGPT role (we’ll see this in the next chapter in more detail)
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The scenario
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The maximum number of characters to use
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'ChatGPT may produce the following output: *In the intriguing chart, depicting
    fake news trends on the LatestNews website, material life claims the most prominent
    slice, trailed by moral life, and lastly, spiritual life.* We can use it as it
    is, we can modify it, or we can even ask for a new subtitle. In our case, we’ll
    use this output as the context of our chart.'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: Let’s add this to our chart, by simply setting the subtitle in the chart properties.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.14 Adding a subtitle to the chart
  id: totrans-236
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Note  Use `TitleParams()` to specify the title and subtitle parameters.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that we have turned information into knowledge, let’s proceed with the
    last step: turning knowledge into wisdom.'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
- en: 5.5.3 From knowledge to wisdom
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Wisdom involves adding a call to action to the story. In our case, we can simply
    say to the audience to pay attention to material and moral news because they have
    a high percentage of fake news. Let’s use ChatGPT to generate an engaging title.
    Use the following prompt: *Transform the following text into an engaging title:
    pay attention to material and moral news because they have a high percentage of
    fake news. Generate 5 titles.* Figure 5.25 shows a possible output generated by
    ChatGPT.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-25.png)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
- en: Figure 5.25 A possible output generated by ChatGPT
  id: totrans-243
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The generated titles do not contain a call to action. To add it, let’s improve
    the title by writing the following new prompt for ChatGPT in the same chat: *Transform
    the titles into a call to action that invites the audience to pay attention to
    news related to material and moral life*. Figure 5.26 shows a possible output
    produced by ChatGPT.'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/5-26.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
- en: Figure 5.26 A possible output generated by ChatGPT when asked to add a call
    to action
  id: totrans-246
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'As an example, select the third title, *Your Truth Guardian: Take a Stand Against
    Fake News in Material and Moral Narratives*, and add it to the chart, simply setting
    the text parameter, as shown in the following listing. Figure 5.27 shows the final
    chart.'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: Listing 5.15 Adding a title to the chart
  id: totrans-248
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![figure](../Images/5-27.png)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
- en: Figure 5.27 The final chart
  id: totrans-251
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Note  Use the `text` parameter to add a title to the chart.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you have learned the main concepts of building a data story
    using the DIKW pyramid and how to incorporate generative AI tools in the flow.
    We’ve had a high-level overview of implementing the DIKW pyramid as part of our
    data story as well as incorporating generative AI tools to enhance things further.
    In the next few chapters, we will look at traversing the DIKW pyramid in greater
    detail, starting by moving from *data* to *information*.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A *story* is a narrative that engages its audience to communicate a message
    and move them to action.
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The *data storytelling arc* identifies five moments in a story: background,
    raising interest, main point, audience thinking, and next steps.'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use the DIKW pyramid to implement the data storytelling arc practically.
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use generative AI to assist you when scaling the DIKW pyramid, using prompts
    to produce what you want (text or images).
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: References
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Dykes, B. (2019). *Effective Data Storytelling: How to Drive Change with Data,
    Narrative and Visuals*. John Wiley & Sons.'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cambridge Dictionary. (n.d.). *Story*. [https://dictionary.cambridge.org/dictionary/english/story](https://dictionary.cambridge.org/dictionary/english/story).
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
