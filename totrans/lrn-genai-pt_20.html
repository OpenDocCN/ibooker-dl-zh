<html><head></head><body>
<div class="calibre1" id="sbo-rt-content"><h1 class="tochead" id="heading_id_2">Appendix A. Installing Python, Jupyter Notebook, and PyTorch<a id="idTextAnchor000"/><a id="idTextAnchor001"/><a id="idTextAnchor002"/><a id="idTextAnchor003"/><a id="idTextAnchor004"/><a id="idTextAnchor005"/></h1>
<p class="body">Various ways of installing Python and managing libraries and packages on your computer exist. This book uses Anaconda, an open-source Python distribution, package manager, and environment management tool. Anaconda stands out for its user-friendly nature and capacity to facilitate the effortless installation of numerous libraries and packages, which could be painful or downright impossible to install otherwise.<a id="idIndexMarker000"/><a id="idIndexMarker001"/><a id="idIndexMarker002"/><a id="marker-388"/><a id="idIndexMarker003"/></p>
<p class="body">Specifically, Anaconda allows users to install packages thro<a id="idTextAnchor006"/>ugh both ‘conda install’ and ‘pip install,’ broadening the spectrum of available resources. This appendix will guide you to create a dedicated Python virtual environment for all projects in this book. This segmentation ensures that the libraries and packages used in this book remain isolated from any libraries utilized in other, unrelated projects, thus eliminating any potential interference.</p>
<p class="body">We will use Jupyter Notebook as our integrated development environment (IDE). I will guide you through the installation of Jupyter Notebook in the Python virtual environment you just created. Finally, I will guide you through the process of installing PyTorch, Torchvision, and Torchaudio, based on whether your computer is equipped with a compute unified device architecture (CUDA)-enabled GPU.<a id="idIndexMarker004"/><a id="idIndexMarker005"/><a id="idIndexMarker006"/><a id="idIndexMarker007"/></p>
<h2 class="fm-head" id="heading_id_3">A.1 Installing Python and setting up a virtual environment</h2>
<p class="body">In this section, I’ll guide you through the process of installing Anaconda on your computer based on your operating system. After that, you’ll create a Python virtual environment for all projects in this book. Finally, you’ll install Jupyter Notebook as your IDE to run Python programs in this book. <a id="idIndexMarker008"/><a id="idIndexMarker009"/><a id="idIndexMarker010"/><a id="idIndexMarker011"/><a id="idIndexMarker012"/><a id="idIndexMarker013"/><a id="idIndexMarker014"/><a id="marker-389"/></p>
<h3 class="fm-head1" id="heading_id_4">A.1.1 Installing Anaconda</h3>
<p class="body">To install Python through the Anaconda distribution, follow these steps.</p>
<p class="body">First, go to the <a class="url" href="https://www.anaconda.com/download/success">https://www.anaconda.com/download/success</a> and scroll to the bottom of the webpage. Locate and download the most recent Python 3 version tailored to your specific operating system (be it Windows, macOS, or Linux).</p>
<p class="body">If you are using Windows, download the latest Python 3 graphical installer from this link. Click on the installer and follow the provided instructions to install. To confirm the successful installation of Anaconda on your computer, you can search for the “Anaconda Navigator” application on your computer. If you can launch the application, Anaconda has been successfully installed.</p>
<p class="body">For macOS users, the latest Python 3 graphical installer for Mac is recommended, although a command line installer option is also available. Execute the installer and follow the provided instructions. Verify the successful installation of Anaconda by searching for the “Anaconda Navigator” application on your computer. If you can launch the application, Anaconda has been successfully installed.</p>
<p class="body">The installation process for Linux is more complex than for other operating systems, as there is no graphical installer. Begin by identifying the latest Linux version. Select the appropriate x86 or Power8 and Power9 package. Click to download the latest installer bash script. The installer bash script is typically saved to your computer’s Downloads folder by default. Install Anaconda by executing the bash script within a terminal. Upon completing the installation, activate it by running the following command:</p>
<pre class="programlisting">source ~/.bashrc</pre>
<p class="body">To access Anaconda Navigator, enter the following command in a terminal:</p>
<pre class="programlisting">anaconda-navigator</pre>
<p class="body">If you can successfully launch the Anaconda Navigator on your Linux system, your installation of Anaconda is complete.</p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Exercise A.1</p>
<p class="fm-sidebar-text">Install Anaconda on your computer based on your operating system. After that, open the Anaconda Navigator app on your computer to confirm the installation.</p>
</div>
<h3 class="fm-head1" id="heading_id_5">A.1.2 Setting up a Python virtual environment</h3>
<p class="body"><a id="marker-390"/>It’s highly recommended that you create a separate virtual environment for this book. Let’s name the virtual environment <i class="fm-italics">dgai</i>. Execute the following command in the Anaconda prompt (Windows) or a terminal (Mac and Linux):</p>
<pre class="programlisting">conda create -n dgai</pre>
<p class="body">After pressing the Enter key on your keyboard, follow the instructions on the screen and press y when the prompt asks you y/n. To activate the virtual environment, run the following command in the same Anaconda prompt (Windows) or terminal (Mac and Linux):</p>
<pre class="programlisting">conda activate dgai</pre>
<p class="body">The virtual environment isolates the Python packages and libraries that you use for this book from other packages and libraries that you use for other purposes. This prevents any undesired interference.</p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Exercise A.2</p>
<p class="fm-sidebar-text">Create a Python virtual environment <i class="fm-italics">dgai</i> on your computer. After that, activate the virtual environment.</p>
</div>
<h3 class="fm-head1" id="heading_id_6">A.1.3 Installing Jupyter Notebook</h3>
<p class="body">Now, let’s install Jupyter Notebook in the newly created virtual environment on your computer.<a id="idIndexMarker015"/><a id="idIndexMarker016"/></p>
<p class="body">First, activate the virtual environment by running the following line of code in the Anaconda prompt (in Windows) or a terminal (in Mac or Linux):</p>
<pre class="programlisting">conda activate dgai</pre>
<p class="body">To install Jupyter Notebook in the virtual environment, run the command</p>
<pre class="programlisting">conda install notebook</pre>
<p class="body">Follow the on-screen instructions all the way through to install the app.</p>
<p class="body">To launch Jupyter Notebook, execute the following command:</p>
<pre class="programlisting">jupyter notebook</pre>
<p class="body">The Jupyter Notebook app will open in your default browser. <a id="idIndexMarker017"/><a id="idIndexMarker018"/><a id="idIndexMarker019"/><a id="idIndexMarker020"/><a id="idIndexMarker021"/><a id="idIndexMarker022"/><a id="idIndexMarker023"/></p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Exercise A.3</p>
<p class="fm-sidebar-text">Install Jupyter Notebook in the Python virtual environment <i class="fm-italics">dgai</i>. After that, open the Jupter Notebook app on your computer to confirm the installation.</p>
</div>
<h2 class="fm-head" id="heading_id_7">A.2 Installing PyTorch</h2>
<p class="body">In this section, I’ll guide you through the installation of PyTorch, based on whether you have a CUDA-enabled GPU on your computer. The official PyTorch website, <a class="url" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>, provides updates on PyTorch installation with or without CUDA. I encourage you to check the website for any updates.<a id="marker-391"/><a id="idIndexMarker024"/></p>
<p class="body">CUDA is only available on Windows or Linux, not on Mac. To find out if your computer is equipped with a CUDA-enabled GPU, open the Windows PowerShell (in Windows) or a terminal (in Linux) and issue the following command:</p>
<pre class="programlisting">nvidia-smi</pre>
<p class="body">If your computer has a CUDA-enabled GPU, you should see an output similar to figure A.1. Further, make a note of the CUDA version as shown at the top right corner of the figure because you’ll need this piece of information later when you install PyTorch. Figure A.1 shows that the CUDA version is 11.8 on my computer. The version may be different on your computer.</p>
<div class="figure">
<p class="figure1"><img alt="" class="calibre4" height="257" src="../../OEBPS/Images/APPA_F01_Liu.png" width="773"/></p>
<p class="figurecaption">Figure A.1 Checking if your computer has a CUDA-enabled GPU</p>
</div>
<p class="body">If you see an error message after running the command <code class="fm-code-in-text">nvidia-smi</code>, your computer doesn’t have a CUDA-enabled GPU.</p>
<p class="body">In the first subsection, I’ll discuss how to install PyTorch if you don’t have a CUDA-enabled GPU on your computer. You can use the CPU to train all generative AI models in this book. It just takes much longer. However, I’ll provide you with the pretrained models so that you can witness generative AI in action.</p>
<p class="body">On the other hand, if you are using a Windows or Linux operating system and you do have a CUDA-enabled GPU on your computer, I’ll guide you through the installation of PyTorch with CUDA in the second subsection.</p>
<h3 class="fm-head1" id="heading_id_8">A.2.1 Installing PyTorch without CUDA</h3>
<p class="body">To install PyTorch with CPU training, first activate the virtual environment <i class="fm-italics">dgai</i> by running the following line of code in the Anaconda prompt (in Windows) or a terminal (in Mac or Linux):<a id="idIndexMarker025"/><a id="idIndexMarker026"/></p>
<pre class="programlisting">conda activate dgai</pre>
<p class="body">You should be able to see <i class="fm-italics">(dgai)</i> in front of your prompt, which indicates that you are now in the <i class="fm-italics">dgai</i> virtual environment. To install PyTorch, issue the following line of command:</p>
<pre class="programlisting">conda install pytorch torchvision torchaudio cpuonly -c pytorch</pre>
<p class="body">Follow the on-screen instructions to finish the installation. Here, we install three libraries together: PyTorch, Torchaudio, and Torchvision. Torchaudio is a library to process audio and signals, and we need it to generate music in this book. We’ll also use the Torchvision library extensively in the book to process images.</p>
<p class="body">If your Mac computer has an Apple silicon or AMD GPU with macOS 12.3 or later, you can potentially use the new Metal Performance Shaders backend for GPU training acceleration. More information is available at <a class="url" href="https://developer.apple.com/metal/pytorch/">https://developer.apple.com/metal/pytorch/</a> and <a class="url" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>.</p>
<p class="body">To check if the three libraries are successfully installed on your computer, run the following lines of code:</p>
<pre class="programlisting">import torch, torchvision, torchaudio
  
print(torch.__version__)
print(torchvision.__version__)
print(torchaudio.__version__)</pre>
<p class="body">The output on my computer says</p>
<pre class="programlisting">2.0.1
0.15.2
2.0.2</pre>
<p class="body">If you don’t see an error message, you have successfully installed PyTorch on your computer.<a id="marker-392"/></p>
<h3 class="fm-head1" id="heading_id_9">A.2.2 Installing PyTorch with CUDA</h3>
<p class="body">To install PyTorch with CUDA, first find out the CUDA version of your GPU, as shown at the top right corner of figure A.1. My CUDA version is 11.8, so I’ll use it as an example in the installation here. <a id="idIndexMarker027"/></p>
<p class="body">If you go to the PyTorch website at <a class="url" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>, you’ll see an interactive interface as shown in figure A.2.</p>
<p class="body">Once there, choose your operating system, select Conda as the Package, Python as the Language, and either CUDA 11.8 or CUDA 12.1 as your computer platform (based on what you have found out in the previous step). If the CUDA version on your computer is neither 11.8 nor 12.1, choose the one closest to your version and it will work. For example, if a computer has a CUDA version of 12.4 and someone used CUDA 12.1, the installation would be successful.</p>
<p class="body">The command you need to run will be shown at the bottom panel. For example, I am using the Windows operating system, and I have CUDA 11.8 on my GPU. Therefore, the command for me is shown at the bottom panel of figure A.2.</p>
<div class="figure">
<p class="figure1"><img alt="" class="calibre4" height="356" src="../../OEBPS/Images/APPA_F02_Liu.png" width="842"/></p>
<p class="figurecaption">Figure A.2 The interactive interface on how to install PyTorch</p>
</div>
<p class="body">Once you know what command to run to install PyTorch with CUDA, activate the virtual environment by running the following line of code in the Anaconda prompt (Windows) or a terminal (Linux):</p>
<pre class="programlisting">conda activate dgai</pre>
<p class="body">Then issue the line of command you have found out in the last step. For me, the command line is</p>
<pre class="programlisting">conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia</pre>
<p class="body"><a id="marker-393"/>Follow the on-screen instructions to finish the installation. Here, we install three libraries together: PyTorch, Torchaudio, and Torchvision. Torchaudio is a library to process audio and signals and we need it to generate music in this book. We also use the Torchvision library extensively in the book to process images.</p>
<p class="body">To make sure you have PyTorch correctly installed, run the following lines of code in a new cell in Jupyter Notebook:</p>
<pre class="programlisting">import torch, torchvision, torchaudio
  
print(torch.__version__)
print(torchvision.__version__)
print(torchaudio.__version__)
device=”cuda” if torch.cuda.is_available() else "cpu"
print(device)</pre>
<p class="body">The output is as follows on my computer:</p>
<pre class="programlisting">2.0.1
0.15.2
2.0.2
cuda</pre>
<p class="body">The last line of the output says <code class="fm-code-in-text">cuda</code>, indicating that I have installed PyTorch with CUDA. If you have installed PyTorch without CUDA on your computer, the output is <code class="fm-code-in-text">cpu</code>.<a id="idIndexMarker028"/></p>
<div class="fm-sidebar-block">
<p class="fm-sidebar-title">Exercise A.4</p>
<p class="fm-sidebar-text">Install PyTorch, Torchvision, and Torchaudio on your computer based on your operating system and on whether your computer has GPU training acceleration. After that, print out the versions of the three libraries you just installed.<a id="marker-394"/></p>
</div>
</div></body></html>