- en: Chapter 3\. Chatting with Copilot in the IDE
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In popular AI platforms like ChatGPT, the chat interface is your gateway to
    interacting with LLMs. Like talking to another person, having a running dialog
    with the AI feels more natural. It also allows for extended conversations to explore
    topics more thoroughly.
  prefs: []
  type: TYPE_NORMAL
- en: The chat interfaces included with Copilot offer those same advantages but targeted
    for the coding domain. The previous inline functionality discussed in [Chapter 2](ch02.html#ch02)
    provides direct, quick, targeted code suggestions from Copilot. These code completions
    are based on what you’re working on. But having interactive, free-form discussions
    about coding can be invaluable, just as discussing coding challenges or ideas
    with a coworker is useful. In fact, it quickly becomes hard to imagine using Copilot
    without using its chat features.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we’ll explore how to use and interact with Copilot’s chat functionality
    (Copilot Chat). We’ll cover basic and advanced aspects of Chat.
  prefs: []
  type: TYPE_NORMAL
- en: We’ll start by helping you understand how to access Chat’s primary interface,
    how to parse its output, and how to manage multiple Chat sessions.
  prefs: []
  type: TYPE_NORMAL
- en: Following that, we’ll briefly look at how best to do prompting for the Chat
    interfaces and then explore the various Chat interfaces themselves. To make sure
    you can target the prompts in the interfaces appropriately, we’ll survey various
    shortcuts and modifiers built into Copilot, including participants and variables.
    We’ll also explore how to use Chat in the IDE’s terminal.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we’ll show you how to create custom instructions for Chat to use in
    generating responses and take a look at how best to deal with hallucinations and
    bad responses from Chat.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s begin by understanding how to quickly start having a conversation with
    Copilot.
  prefs: []
  type: TYPE_NORMAL
- en: Accessing Chat’s Main Interface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When you install Copilot into your IDE, it comes bundled with Copilot Chat.
    Chat’s primary interface is a dedicated pane on the right side that is separate
    from your editor ([Figure 3-1](#copilot-chat-interfac)). The chat interface also
    provides more screen real estate for input, output, and conversations.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0301.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-1\. Copilot chat interface, on the right
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Chat Interface in GitHub
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we are looking at using the chat interface in VS Code. Copilot’s
    chat interface is also used heavily in [GitHub](https://github.com/copilot). We’ll
    cover details on how that interface works in [Chapter 9](ch09.html#ch09).
  prefs: []
  type: TYPE_NORMAL
- en: Copilot Chat has multiple modes for interacting with the AI. The default mode,
    which allows you to interact conversationally, is called *Ask* mode. The chat
    interface in Copilot is also a gateway to advanced editing with Copilot Edits
    and some autonomous development features with Copilot Agent mode. You can switch
    between the modes as shown in [Figure 3-2](#options-for-different).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0302.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-2\. Options for chat modes
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This chapter focuses on the basics of using chat in Ask mode. [Chapter 4](ch04.html#ch04)
    discusses how the Edit and Agent modes are used.
  prefs: []
  type: TYPE_NORMAL
- en: In the IDE integration, the top row contains a Copilot icon. Clicking it allows
    you to open various chat interfaces in the IDE. This includes opening/reopening
    the main chat interface if it’s not visible—the top option in the list, as shown
    in [Figure 3-3](#opening-chats-control).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0303.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-3\. Opening the chat control
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Possible AI Mistakes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'When starting a new conversation with the chat interface, you will see this
    message: *Copilot is powered by AI, so mistakes are possible. Review output carefully
    before use.*'
  prefs: []
  type: TYPE_NORMAL
- en: This caution about potential inaccuracies from the Copilot AI should be considered
    for all responses returned by Copilot, not just in the chat interface. As noted
    in [Chapter 1](ch01.html#ch01), you should vet all responses returned by Copilot.
  prefs: []
  type: TYPE_NORMAL
- en: The options for the Editor Inline Chat and Quick Chat interfaces are explained
    later in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the main chat interface, you can enter your query or prompt in the text
    window labeled *Ask Copilot*. Let’s assume you’ve highlighted your `is_prime`
    code from the [Chapter 2](ch02.html#ch02) examples and want Copilot to explain
    how it works. Here’s a simple query for that:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: After processing the query, Copilot responds; [Figure 3-4](#result-from-chat-quer)
    shows an example.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0304.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-4\. Result from the chat query
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Notice that the response is presented in a more conversational style. It has
    fully formed sentences and can be read and understood even if you’re unfamiliar
    with Python coding. The response also includes any relevant code examples that
    support the explanation.
  prefs: []
  type: TYPE_NORMAL
- en: Explanation Use Cases
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: While it may not seem significant to have Copilot explain code that you created,
    imagine being able to have it explain code that you didn’t write and don’t yet
    understand. An example could be code written in a language you’re not familiar
    with. You could also use Copilot explanations to explain a complex algorithm.
    The explanation could even form the basis of pseudocode for further refinements.
  prefs: []
  type: TYPE_NORMAL
- en: The chat response in this interface provides a lot of information, including
    some elements that are not directly part of the explanation but related to it.
    Let’s spend a little time looking more closely at the entire set of information
    in the output.
  prefs: []
  type: TYPE_NORMAL
- en: Understanding Chat Output
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Beyond the prose from Chat, a couple of other items are worth noting in the
    output. We can use the example from the previous sections to explore these.
  prefs: []
  type: TYPE_NORMAL
- en: First, just under the GitHub Copilot title, Copilot tells us it “Used 1 reference.”
    A *reference* in this case means content from, or related to, the project that
    Copilot determined was relevant to use in creating a response. Most commonly,
    this will be the currently active file in the editor, but it could include additional
    files, dependencies, custom settings, or other types of content that are not files.
    (For example, it could include commands if you’re using a prompt that references
    the terminal.)
  prefs: []
  type: TYPE_NORMAL
- en: Looking at [Figure 3-4](#result-from-chat-quer), just under the GitHub Copilot
    logo, I’ve expanded the reference section to see the content that was considered
    in generating a response. In this case, the reference is the code from the only
    active file, *prime.py*. This is the default context, also shown at the top of
    the text input area. There the file is identified as the “Current file” (and thus
    the default context). We’ll discuss more about context for prompts in [“Making
    Effective Use of the Prompt Dialog”](#making_effective_use).
  prefs: []
  type: TYPE_NORMAL
- en: 'Following the reference section is the full text of the response provided by
    Copilot (in Markdown format) from when we interacted with it. As a reminder, since
    we’re using generative AI, you may get different answers, even with exactly the
    same prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]python'
  prefs: []
  type: TYPE_NORMAL
- en: 'if n <= 1:'
  prefs: []
  type: TYPE_NORMAL
- en: return False
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]python'
  prefs: []
  type: TYPE_NORMAL
- en: 'for i in range(2, int(n**0.5) + 1):'
  prefs: []
  type: TYPE_NORMAL
- en: 'if n % i == 0:'
  prefs: []
  type: TYPE_NORMAL
- en: return False
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]python'
  prefs: []
  type: TYPE_NORMAL
- en: return True
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'The response provides a detailed, step-by-step explanation of the code’s actions
    in prose (complete sentences written as if it were talking to you) as well as
    code excerpts from the file. This is one of the key advantages of working with
    the chat interface: conversational text is included with actual code. The text
    and code together form a complete conversation, just as you might share with a
    colleague.'
  prefs: []
  type: TYPE_NORMAL
- en: It’s easy to continue the conversation in chat. For example, referencing your
    code, you can ask Copilot if there are more efficient ways to implement this logic. [Figure 3-5](#asking-a-followup-que)
    shows Copilot’s response with an optimized version of the code. Notice again the
    text explanation along with the code example.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0305.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-5\. Asking Copilot if there are more efficient ways to implement our
    code
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This output is read-only in the chat interface. However, if you hover over the
    code block, Copilot provides a pop-up bar with icons for different ways to get
    code from the window to the editor in your IDE. [Figure 3-6](#popup-options-in-chat)
    shows the pop-up bar and its extended options.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0306.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-6\. “Hover” icons to transfer code from the chat interface to the editor
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'From left to right, the icons allow you to do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Apply changes to the currently active file for review
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Insert the text at the cursor location in the currently active file
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Copy the text to the clipboard
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Insert the text into a new file (accessible via the More Actions icon [...])
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Insert the text into a terminal (accessible via the More Actions icon [...])
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Customizing the Hover Menu
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: By default, to get to the last two options in the list (insert into a new file
    and insert into the terminal), you need to hover over the ... selection in the
    pop-up, select More Actions, and then select the desired option.
  prefs: []
  type: TYPE_NORMAL
- en: However, if you hover over one of the icons and right-click, you’ll access a
    menu where you can select which icons show up in the *bar* when you hover. By
    checking all the entries in the list, you’ll have all icons available in the hover
    bar and won’t have to use the ... interface.
  prefs: []
  type: TYPE_NORMAL
- en: While most of these options are self-explanatory, Apply deserves additional
    explanation. When you click this option, Copilot will apply the changes to the
    file in your editor, showing you the suggested changes inline and allowing you
    to Keep or Undo each set ([Figure 3-7](#applying-changes-inli)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0307.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-7\. Applying changes inline from the chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Choosing the Insert at Cursor option will replace any highlighted code in the
    editor session with the code from the window. For example, suppose you have your
    previous code highlighted and then select that option. In that case, your previous
    implementation of the `is_prime` function will be overwritten by the one from
    the chat.
  prefs: []
  type: TYPE_NORMAL
- en: In addition to the controls that pop up when you hover over generated code in
    the chat panel, various other controls are always available at the top of the
    chat panel and in the text entry area itself. Let’s take a moment to talk about
    what those are and what they allow you to do, starting with ones that help you
    manage chat sessions.
  prefs: []
  type: TYPE_NORMAL
- en: Managing Chat Sessions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the top line of the chat panel are several controls you can use to manage
    your chat sessions ([Figure 3-8](#top-icons-in-chat-int)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0308.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-8\. Top icons in the chat interface
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: On the right side, the left and right arrows allow you to move forward and backward
    between sessions, respectively. The large + sign allows you to start a new chat
    session instead of continuing with the current one. Starting a new session is
    useful if you want to discuss a new topic and don’t want to risk Copilot assuming
    context from your previous discussions in the existing chat.
  prefs: []
  type: TYPE_NORMAL
- en: In a single chat session, Copilot keeps track of the conversation history including
    the series of prompts. For example, in [Figure 3-9](#creating-tests-for-a), we
    asked Copilot to create tests for one of our files.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0309.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-9\. Creating tests for a file
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Afterwards, we asked Copilot a more generic question about what other use cases
    should be considered, and it returned an answer that was relevant to the context/follow-up
    for the previous question ([Figure 3-10](#follow-up-questions)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0310.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-10\. Follow-up questions
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Clicking the Show Chats icon (which looks like a clock inside a circular arrow)
    shows the set of chats you’ve been working with in a dialog ([Figure 3-11](#showing-sets-of-chats)).
    You can click an entry to switch to that chat.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0311.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-11\. Showing sets of chats
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The Views and More Actions control (the one that looks like three dots) provides
    several options. It allows you to open the current chat in an editor session or
    in a detached window. It also allows you to provide Copilot with feedback on chat
    functionality as well as easily get to the latest release notes.
  prefs: []
  type: TYPE_NORMAL
- en: The “X” in the upper right of the chat window will close the chat view completely.
    Alternatively, you can delete a single chat by hovering over the area for it and
    clicking the “X” in the upper-right corner of the individual chat ([Figure 3-12](#deleting-a-chat)).
    The tip here is worded oddly as *Undo Requests*, but it currently deletes the
    chat. Deleting a chat can sometimes be useful to remove discussions that are no
    longer relevant.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0312.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-12\. Deleting a chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Finally, it’s worth noting that you can export or save the content of a chat
    session. We’ll cover that in [Chapter 6](ch06.html#ch06).
  prefs: []
  type: TYPE_NORMAL
- en: These controls help you manage your chat sessions. Since the way we interact
    with Copilot in chat is through prompts, let’s take a moment to talk about how
    we can best construct our prompts.
  prefs: []
  type: TYPE_NORMAL
- en: Prompt Engineering for Copilot
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Prompt engineering* for GitHub Copilot Chat is the process of crafting clear,
    targeted instructions to guide the AI in generating useful and accurate responses.
    When interacting with Copilot Chat, your prompt can be as simple as a question,
    a shortcut command (discussed later in this chapter), or a specific directive
    for Copilot related to your project. Copilot doesn’t rely on just your prompt—it
    also draws on the context from your open files and the ongoing chat history to
    provide relevant answers.'
  prefs: []
  type: TYPE_NORMAL
- en: If you’re working on a larger effort, a good approach is to begin with a broad
    description of your goal, setting the stage for what you want to achieve. For
    example, you might start with, “Write a function that checks if a number is prime.”
    Once you’ve specified the general purpose, you can iterate with specific requirements
    or constraints, such as, “The function should return true for prime numbers and
    throw an error if the input is not a positive integer.” This progression from
    general to specific helps Copilot understand both the overarching task and the
    details, leading to more precise responses.
  prefs: []
  type: TYPE_NORMAL
- en: Providing examples is another effective technique. Including sample inputs and
    expected outputs, or even unit tests, can help Copilot better infer your intent.
    For instance, if you want a function to extract dates from a string, sharing a
    sample string and the expected array of dates will guide Copilot to generate code
    that matches your needs.
  prefs: []
  type: TYPE_NORMAL
- en: 'Copilot Chat also supports advanced features like referencing specific files,
    using chat variables, and integrating with participants and extensions for domain-specific
    tasks. (Chat variables and participants are discussed later in this chapter. Copilot
    Extensions are discussed in [Chapter 10](ch10.html#ch10).) You can highlight code,
    use keywords, or drag files into the chat to give Copilot more context. Iteration
    is key: if the initial response isn’t quite right, refine your prompt or your
    context until you get the desired result.'
  prefs: []
  type: TYPE_NORMAL
- en: By treating prompt engineering as an interactive conversation, you can leverage
    Copilot Chat to write code, debug errors, generate tests, and answer project-specific
    questions efficiently. The more clearly you communicate your intent, the better
    Copilot can assist you in your development workflow.
  prefs: []
  type: TYPE_NORMAL
- en: More Info
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can find more documentation on prompt engineering in the [Copilot documentation](https://oreil.ly/QnqjI).
  prefs: []
  type: TYPE_NORMAL
- en: When you’re entering your prompts, the text entry area has additional controls
    to let you customize the environment and targets for your prompt.
  prefs: []
  type: TYPE_NORMAL
- en: Making Effective Use of the Prompt Dialog
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Multiple controls are available in the chat dialog for use when submitting prompts
    or queries. These controls are shown in [Figure 3-13](#prompt-dialog-control).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0313.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-13\. Prompt dialog controls
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The controls are used for the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Adding context elements
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting a chat participant to help handle the prompt
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting what Copilot does when your prompt is submitted
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting your AI model
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting whether you are using the chat interface in the Ask, Edit, or Agent
    mode
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As noted earlier, we’re focusing on the Ask mode for chat in this chapter, and
    we’ll cover Edit and Agent modes in [Chapter 4](ch04.html#ch04), so we won’t go
    into more detail on the last item. But the others are covered in this section.
  prefs: []
  type: TYPE_NORMAL
- en: Adding Context Elements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '*Context* here means relevant items that are part of your project that Copilot
    can reference for understanding and formulating responses. At the simplest level,
    if you have an active file open in the editor, it will be used as the current
    context. In [Figure 3-13](#prompt-dialog-control), this is shown as “prime.py
    Current file”. If you want to exclude this file as the current context, you can
    make a different file active or click the icon that looks like an eye to cancel
    that file as context.'
  prefs: []
  type: TYPE_NORMAL
- en: To manually add other types of elements from your project as context, click
    the paperclip icon with Add Context after it. This will bring up a set of optional
    items that you can include as context. These range from content in the editor,
    to individual files, to symbols, to text from the terminal, and even screenshots.
    There are also several options to search for other content like web pages or find
    usage of functions, variables, and symbols. [Figure 3-14](#attaching-additional)
    shows a partial list of items available when the control is invoked.
  prefs: []
  type: TYPE_NORMAL
- en: To find a particular item in the list, you can scroll or type in characters
    in the search bar. This includes files in your project. You can also scroll to
    the bottom of the list to see recently opened files.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0314.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-14\. Attaching additional context
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When you are done adding the context elements you want, you can enter your prompt
    and submit it. The context items you’ve added will be consulted as Copilot prepares
    the response. [Figure 3-15](#running-a-prompt-with) shows an example of the output
    from running a prompt with several context items added.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0315.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-15\. Running a prompt with multiple types of context
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Repository Indexes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: On the topic of context, just a reminder that GitHub automatically builds a
    *workspace index* to help quickly and accurately search your project for relevant
    code pieces. This index can then be used as another supporting piece to help search
    a wider set of content in the codebase and better answer questions about it.
  prefs: []
  type: TYPE_NORMAL
- en: Adding Participants
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The @ control allows you to invoke a chat participant. *Chat participants* set
    a scope for the prompt or query to apply to, such as the entire workspace, the
    terminal, and VS Code. Several built-in chat participants are available in the
    IDE, such as `@workspace` and `@terminal`.
  prefs: []
  type: TYPE_NORMAL
- en: Additional participants can also be provided by GitHub Copilot Extensions when
    you install them. *Copilot Extensions* are custom integrations that incorporate
    other tools (such as Docker) or APIs into your IDE’s chat interface. Chat participants
    are discussed in more detail later in this chapter. Copilot Extensions are covered
    in [Chapter 10](ch10.html#ch10). [Figure 3-16](#invoking-participant) shows a
    list of built-in chat participants that you can select from.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0316.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-16\. Invoking a participant or extension
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Next up is the Send button on the right. Clicking this will submit your prompt
    or query to the AI, but you can submit your prompt in varied ways.
  prefs: []
  type: TYPE_NORMAL
- en: Understanding Options for Submitting Your Prompt
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The arrow control at the right side of the prompt area is referred to as the
    *Send button*. It has a default behavior as well as several other options. The
    various Send options shown in [Figure 3-17](#send-options) all submit your prompt
    or query to Copilot, but there are some key differences. Let’s break down what
    each option means.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0317.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-17\. Send options
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: By default, Copilot Chat will try to direct your prompt or query to a suitable
    action or tool (such as a chat participant), when possible. This is the standard
    Send and Dispatch behavior when you click the arrow.
  prefs: []
  type: TYPE_NORMAL
- en: When routed to an action or tool, you may see a “rerun without” link option
    at the top of the output. In [Figure 3-18](#example-prompt-with-automatic), the
    prompt was simply “Create test cases”. But note that Copilot added the `workspace`
    participant and a `/tests` shortcut command. (We’ll discuss these kinds of commands
    later in the chapter.) The “rerun without” link would run the query without the
    `/tests` command.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0318.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-18\. Example prompt with automatic additions by Copilot
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If the automatically selected action or tool is not the right one for your question,
    you can select the link to resend your question to Copilot without including the
    participant. This is the behavior of the Send option if you select that in the
    drop-down list. [Figure 3-19](#example-prompt-using-send) shows what this option
    looks like with the same prompt.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0319.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-19\. Example prompt using the Send option
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'For the third option, “Send with #codebase”, `#codebase` is a chat variable.
    Chat variables are covered later in the chapter, but essentially this tells Copilot
    to take into account all the information it has about your entire set of code.
    This can be useful if other content in the project may need to be considered in
    the response but you don’t know (or don’t want to) specify individual items for
    context. In our example for generating tests, using this option could allow the
    AI to determine whether there are already existing tests and/or generate suggestions
    for more comprehensive tests across the project.'
  prefs: []
  type: TYPE_NORMAL
- en: The last option, Send to New Chat, is self-explanatory. The prompt you just
    entered will be opened in a new chat as the first prompt. This is useful when
    you want to isolate a specific query or task from ongoing conversations for clarity
    or focus.
  prefs: []
  type: TYPE_NORMAL
- en: The remaining control in the dialog is an option to pick the LLM that you want
    Copilot to use on the backend. This gives you flexibility in choosing an LLM that
    may be better suited for your particular task. A large set of LLMs is currently
    available to choose from via the drop-down ([Figure 3-20](#selecting-a-different)).
    As new ones become available, they are designated as *preview* for a period of
    time. You may also be asked to “Enable access for all clients” as part of using
    a different model.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0320.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-20\. Selecting a different model
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Managing Models
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You may have noticed the Manage Models link at the bottom of the models list
    in [Figure 3-20](#selecting-a-different). This link allows you enter data that
    may be needed to access other models, such as custom model IDs or API keys.
  prefs: []
  type: TYPE_NORMAL
- en: Since you’ve seen how the main Chat dialog works, let’s look at a shortcut to
    using chat inline with your code in the editor.
  prefs: []
  type: TYPE_NORMAL
- en: Using the Editor Inline Chat Interface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Copilot integration provides a simplified, quick-access interface to Chat in
    the editor. The interface can be invoked at any position by using the *Meta*-Icombination
    ([Figure 3-21](#inline-chat-interface)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0321.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-21\. Inline chat interface
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'This dialog is a smaller version of the chat dialog. It’s designed to be used
    inline in the code editor without taking up too much screen real estate. Aside
    from adding context, it has the same controls, and you can supply the same prompts
    or queries as in the main chat window. For example, you can highlight the code
    and ask the same question as earlier in the chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Copilot will return as much of the response as it can show in the limited window
    ([Figure 3-22](#prompting-in-interact)). You can scroll or expand the dialog to
    see more of the output. However, with this limited amount of screen real estate,
    you still may not be able to see the complete response. To see the complete response
    in the main chat interface, click theView in Chat button.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0322.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-22\. Prompting in an interactive chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Regenerate Option
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You may have noticed a circular arrow next to the View in Chat button. Whenever
    you see this symbol, it is a way to ask Copilot to regenerate the answer and see
    if it offers another, possibly better response.
  prefs: []
  type: TYPE_NORMAL
- en: Clicking the View in Chat button displays the full text of the response in the
    main chat window ([Figure 3-23](#output-from-view-in-c)). You can scroll through
    the response and do follow-up prompting, selecting code, and copying/inserting
    code examples.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0323.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-23\. Output from the View in Chat option
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Other operations initiated from the inline dialog may update code inline in
    the editor. For example, if you ask Copilot to
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: then, as shown in [Figure 3-24](#suggested-changes-for), Copilot produces the
    documentation inline for the selected code.
  prefs: []
  type: TYPE_NORMAL
- en: So if the prompt asks Copilot to change an aspect of the editor’s actual code,
    the results are applied directly inline for you to review and to decide whether
    to accept or not. If the prompt asks Copilot for a response that would be an alternative
    to the code in the IDE, such as translating this code to Go or optimizing this
    code, the output can appear either in the interactive chat window (if it is succinct
    enough) or the main output area from chat.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0324.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-24\. Suggested changes for documentation
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: While the main chat panel and the inline editor chat functionality cover most
    use cases, there is one other option for quickly engaging with chat, appropriately
    called *Quick Chat*.
  prefs: []
  type: TYPE_NORMAL
- en: Using the Quick Chat Interface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: At times you may want to quickly ask Chat a question or send it a prompt that
    is not about the code in your current editor and that doesn’t warrant switching
    to the full chat panel. To help with that, Copilot includes a *Quick Chat* feature
    that pops up a simple chat dialog at the top of the IDE. [Figure 3-25](#quick-chat)
    shows an example.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0325.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-25\. Quick Chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The dialog itself is like the one in the inline editor but is not positioned
    in the editor. This option allows you to interact with Copilot via a prompt and
    then go back to what you were doing. Invoking Quick Chat can be done via a shortcut
    or via the Copilot icon at the top of the VS Code interface. Clicking that icon
    (as shown in [Figure 3-26](#chat-options-in-copil)) shows the options to open
    the main Chat panel, open the Quick Chat dialog, and open the Editor Inline Chat*.*
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0326.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-26\. Chat options in the Copilot menu in the title bar
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Just as we can have more concise chat interfaces, we can have more concise prompts
    by using Copilot shortcuts for typical requests. There are several of these, which
    we’ll explore in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: Chat Shortcuts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: GitHub Copilot Chat supports several shortcuts for common types of interactions.
    These shortcuts are referred to as *slash commands* because they start with a
    slash character (/). Slash commands will work when initiated either from the main
    chat window or from the inline chat (*Meta*-I) interface. Not all commands may
    be available in every IDE, but [Table 3-1](#table-slash-command) shows the superset
    of those available at the time of writing.
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-1\. Copilot slash commands
  prefs: []
  type: TYPE_NORMAL
- en: '| Command | Purpose |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `/clear` | Clear the current conversation |'
  prefs: []
  type: TYPE_TB
- en: '| `/doc` | Add comments for selected or specified code |'
  prefs: []
  type: TYPE_TB
- en: '| `/edit` | Edit the selected code in your active editor |'
  prefs: []
  type: TYPE_TB
- en: '| `/explain` | Generate explanations of how code works |'
  prefs: []
  type: TYPE_TB
- en: '| `/fix` | Propose a fix for a problem |'
  prefs: []
  type: TYPE_TB
- en: '| `/fixTestFailure` | Propose a fix for the failing test |'
  prefs: []
  type: TYPE_TB
- en: '| `/generate` | Generate code to address a specific ask |'
  prefs: []
  type: TYPE_TB
- en: '| `/help` | Get help with Copilot |'
  prefs: []
  type: TYPE_TB
- en: '| `/new` | Scaffold code for a new workspace |'
  prefs: []
  type: TYPE_TB
- en: '| `/newNotebook` | Create a new Jupyter notebook |'
  prefs: []
  type: TYPE_TB
- en: '| `/search` | Search for content with VS Code |'
  prefs: []
  type: TYPE_TB
- en: '| `/startDebugging` | Generate launch config and start debugging in VS Code
    |'
  prefs: []
  type: TYPE_TB
- en: '| `/tests` | Create unit tests for code |'
  prefs: []
  type: TYPE_TB
- en: Limited Feature Parity
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Different IDEs may only have a subset of these slash commands or even ones that
    aren’t listed here. The currently implemented and supported slash commands can
    change frequently, so always consult the Copilot documentation for your particular
    IDE to understand which ones are available.
  prefs: []
  type: TYPE_NORMAL
- en: Accessing these commands is straightforward. Simply type the forward slash character
    in one of the chat interfaces, and Copilot will present a list of available commands
    to choose from (see [Figure 3-27](#listing-slash-command)). Note that not all
    shortcut commands are available in the inline chat interface.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0327.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-27\. Listing slash commands in the interactive chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can use the same method in the main chat panel, as shown in [Figure 3-28](#listing-slash-command2).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0328.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-28\. Listing slash commands in the main chat panel
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This is only a brief introduction to the slash commands, but they can be very
    useful. We’ll be exploring particular ones in more detail as we progress through
    the book.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The feature to explain code with Copilot works best in IDEs when you have the
    relevant extension for the language you’re using installed. As of the time of
    this writing, this relates to the VS Code extensions for the following:'
  prefs: []
  type: TYPE_NORMAL
- en: TypeScript/JavaScript
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Python
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Java
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: C#
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: C++
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Go
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ruby
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Included on the same rows as the slash commands in [Figure 3-28](#listing-slash-command2)
    are terms starting with the `@` character. As noted previously, these are referred
    to as *participants* and help identify the *scope* and *domain* where the shortcuts
    can be used. I’ll explain more about these in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: Chat Participants
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In GitHub Copilot, *chat participants* are essentially pointers to certain domains.
    By referencing them in your prompt in the chat interface, you are effectively
    telling the AI to scope the prompt to a particular domain and use the participant’s
    knowledge in that domain to generate relevant responses.
  prefs: []
  type: TYPE_NORMAL
- en: 'To reference one of these chat participants, you type the `@` symbol with the
    name of the participant you want to use as part of your prompt. At the time of
    this writing, the following participants are available per the [GitHub documentation](https://oreil.ly/v0714):'
  prefs: []
  type: TYPE_NORMAL
- en: '`@workspace`'
  prefs: []
  type: TYPE_NORMAL
- en: Has knowledge about the code in your workspace. Use `@workspace` when you want
    Copilot to consider the structure of your project, how different parts of your
    code interact, or design patterns in your project.
  prefs: []
  type: TYPE_NORMAL
- en: '`@vscode`'
  prefs: []
  type: TYPE_NORMAL
- en: Has knowledge about VS Code commands and features. Use `@vscode` when you want
    help with VS Code.
  prefs: []
  type: TYPE_NORMAL
- en: '`@terminal`'
  prefs: []
  type: TYPE_NORMAL
- en: Has knowledge about the VS Code terminal shell and its contents. Use `@terminal`
    when you want help creating or debugging terminal commands.
  prefs: []
  type: TYPE_NORMAL
- en: '`@vision`'
  prefs: []
  type: TYPE_NORMAL
- en: Allows you to attach an image file to help Copilot understand the question.
    (In preview.)
  prefs: []
  type: TYPE_NORMAL
- en: '`@github`'
  prefs: []
  type: TYPE_NORMAL
- en: Allows you to prompt about issues, pull requests, etc. across your repos. (Not
    available in all interfaces.)
  prefs: []
  type: TYPE_NORMAL
- en: '`@project`'
  prefs: []
  type: TYPE_NORMAL
- en: (Applicable to JetBrains IDE) Like `@workspace`, knows about the code in your
    project.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Other Chat Participants
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Beyond the built-in chat participants provided by GitHub, Copilot also allows
    for installing Copilot Extensions that can provide additional custom chat participants.
    We’ll have more to say about these and how you can extend Copilot in [Chapter 10](ch10.html#ch10).
  prefs: []
  type: TYPE_NORMAL
- en: Let’s take a deeper dive into some of the common participants.
  prefs: []
  type: TYPE_NORMAL
- en: '@workspace'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `@workspace` chat participant is useful when you explicitly want Copilot
    to consider all code that’s part of the workspace as potential sources for the
    chat response. This doesn’t mean that all code will be used and sent as part of
    creating the response. The Copilot extension will consider all the files that
    are part of the workspace to determine which files (or portions of them) may be
    useful for context. The automatic indexing we mentioned before makes this simpler.
  prefs: []
  type: TYPE_NORMAL
- en: Suppose we ask Copilot via `@workspace` which files use `import`. Copilot will
    first collect information about the workspace to determine relevant content. When
    done, the chat interface will display a list of references it ultimately decided
    were worth considering for the prompt. This will be at the start of the response.
    As we saw earlier, we can see the list of selected references by expanding the
    “Used references” line. Because we are using the `@workspace` participant, we
    may have more *hits* this time*.* A more extensive set of references resulting
    from a prompt with `@workspace` is shown in [Figure 3-29](#asking-which-files-us).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0329.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-29\. Asking which files use imports via `@workspace`
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When the `@workspace` chat participant is used in prompts, we get a response
    that spans the workspace and lists out multiple files.
  prefs: []
  type: TYPE_NORMAL
- en: Ensuring Changes Are Considered for @workspace
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The `@workspace` functionality is referencing the saved content in your codebase,
    so it’s important to save any changes or new content you want to be considered
    by the chat participant before you execute the prompt.
  prefs: []
  type: TYPE_NORMAL
- en: 'Using `@workspace`, we can ask more general questions about a set of code.
    This can be especially advantageous for finding information about content we’re
    not familiar with. For example, we can ask generic questions like these:'
  prefs: []
  type: TYPE_NORMAL
- en: What kind of backend is used in this project?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do I run this code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Where do I use *X*?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What service do I use to do *Y*?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Which frameworks are being used?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 3-30](#another-example-of-us) shows an example of using that last query
    to gather information.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0330.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-30\. Another example of using the `@workspace` participant
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Shortcut for Adding @workspace
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you use *Meta*-Enter (versus just Enter) when you submit your query in chat,
    it will automatically add the `@workspace` participant to your prompt.
  prefs: []
  type: TYPE_NORMAL
- en: Whereas `@workspace` provides context around our set of code, the chat participant
    `@vscode` can help with any questions or prompts related to using VS Code.
  prefs: []
  type: TYPE_NORMAL
- en: '@vscode'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The `@vscode` chat participant (specific to the VS Code IDE) acts as a domain
    expert on VS Code commands and customizations. By using it in the Copilot chat
    interface, you can ask questions about VS Code via natural language. As implemented,
    it has access to the index of all the settings and commands for the application.
    With this participant, you can ask questions in the GitHub Copilot Chat interface
    like these:'
  prefs: []
  type: TYPE_NORMAL
- en: How can I open a project in VS Code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How can I install extensions in VS Code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How can I create a new file in VS Code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How can I change the theme in VS Code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 3-31](#using-vscode-in-chat) shows an example of using the `@vscode`
    chat participant to find out how to change VS Code defaults.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0331.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-31\. Using `@vscode` in chat
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: In this image, you can also see that Copilot included a link to get to a different
    interface—the Command Palette—as a shortcut to access functionality. Clicking
    that button in the chat output opens up the entry as shown at the top of the figure.
  prefs: []
  type: TYPE_NORMAL
- en: 'As another example of using this participant, you might want to understand
    more about how to debug using your IDE. So you can enter the query:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: The last participant we’ll cover is `@terminal`, which as the name suggests,
    is useful for terminal interactions.
  prefs: []
  type: TYPE_NORMAL
- en: '@terminal'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The `@terminal` participant allows you to query Copilot about the integrated
    terminal shell, its buffer, and the current selection in the terminal. This is
    convenient to understand more about what’s been done in the terminal, help clarify
    any issues, and come up with the commands you need. Examples of questions/prompts
    you could do with this one include the following:'
  prefs: []
  type: TYPE_NORMAL
- en: What did the last command do?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Explain the command
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do I...?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 3-32](#terminal-chat-partic) shows a simple example of using the chat
    participant to ask how to do a task with a command in the terminal. If you hover
    over the output command, you’ll have a pop-up control on the right to insert the
    response directly in the terminal.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0332.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-32\. The `@terminal` chat participant
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can also use this participant to ask Copilot for help on common workflows
    you would execute in the terminal. For example, you might use the terminal participant
    to ask how you could commit your code by using Git through the command line.
  prefs: []
  type: TYPE_NORMAL
- en: Most slash commands default to one of the chat participants as the domain to
    run the command in. As an example, relative to the earlier VS Code debug example,
    the `@vscode` participant has the slash command `/startDebugging` associated with
    it ([Figure 3-33](#participants-and-thei)). So if you enter `/startDebugging`
    in the chat query box, `@vscode` will automatically be prefixed to it ([Figure 3-34](#automatic-insertion-vscode)).
    This means that the `/startDebugging` command is currently only relevant if you’re
    referencing VS Code.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0333.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-33\. Participants and their associated slash commands
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![](assets/lghc_0334.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-34\. Automatic insertion of `@vscode` when `/startDebugging` is selected
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '[Table 3-2](#slash-commands-and-co) shows the mappings between the shortcut
    commands and the participants as well as the intended function of each.'
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-2\. Slash commands and context in Copilot
  prefs: []
  type: TYPE_NORMAL
- en: '| Command | Participant | Function from Copilot |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `/explain` | `@terminal` | Explain something that occurred in the terminal
    |'
  prefs: []
  type: TYPE_TB
- en: '| `/search` | `@vscode` | Generate query parameters for the Search view |'
  prefs: []
  type: TYPE_TB
- en: '| `/startDebugging` | `@vscode` | Generate launch config and start debugging
    in VS Code (experimental) |'
  prefs: []
  type: TYPE_TB
- en: '| `/explain` | `@workspace` | Explain how the active code works |'
  prefs: []
  type: TYPE_TB
- en: '| `/fix` | `@workspace` | Propose a fix for bugs in your code |'
  prefs: []
  type: TYPE_TB
- en: '| `/fixTestFailure` | `@workspace` | Propose a fix for the failing test |'
  prefs: []
  type: TYPE_TB
- en: '| `/new` | `@workspace` | Scaffold code for a new workspace or new file |'
  prefs: []
  type: TYPE_TB
- en: '| `/newNotebook` | `@workspace` | Scaffold a new Jupyter notebook by using
    natural language |'
  prefs: []
  type: TYPE_TB
- en: '| `/setupTests` | `@workspace` | Set up tests in your project (experimental)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `/tests` | `@workspace` | Generate unit tests for code |'
  prefs: []
  type: TYPE_TB
- en: '| `/help` |   | Get help about using GitHub Copilot |'
  prefs: []
  type: TYPE_TB
- en: '| `/clear` |   | Start a new chat session |'
  prefs: []
  type: TYPE_TB
- en: Participants can refine context at a broad level. However, at times you might
    need to specify context for Copilot at a more targeted level. When that’s the
    case, you can use identifiers to specify a file, content in the editor, a selection,
    etc. These identifiers are called *chat variables*.
  prefs: []
  type: TYPE_NORMAL
- en: Chat Variables
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Chat variables provide a way to further refine context within the text of the
    prompt itself. They can target items in the editor, a specific file, your Git
    repository, terminal commands and more. To reference a chat variable in a prompt
    in the chat interface, you indicate it with the `#` symbol. For example, `#terminalSelection`
    pulls in the active terminal’s selection.
  prefs: []
  type: TYPE_NORMAL
- en: '[Table 3-3](#description-of-chat-v) lists the chat variables that are available
    at the time of this writing. (See [the VS Code documentation](https://oreil.ly/0s5TM)
    for the latest info.) The Description column lists the content that is added from
    the project as context for your prompt.'
  prefs: []
  type: TYPE_NORMAL
- en: Table 3-3\. Chat variables
  prefs: []
  type: TYPE_NORMAL
- en: '| Chat variable | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `#changes` | List of source control changes |'
  prefs: []
  type: TYPE_TB
- en: '| `#codebase` | Relevant content found in your workspace |'
  prefs: []
  type: TYPE_TB
- en: '| `#fetch` | Content from a web page by providing its URL |'
  prefs: []
  type: TYPE_TB
- en: '| `#file` | A specified file you pick or specify from your workspace |'
  prefs: []
  type: TYPE_TB
- en: '| `#*<filename>*` | Provides a list of files (matching characters you type
    after `#`) to choose from |'
  prefs: []
  type: TYPE_TB
- en: '| `#folder` | The specified folder and all files in it |'
  prefs: []
  type: TYPE_TB
- en: '| `#problems` | Workspace issues and problems from the Problems panel; useful
    as context for debugging or fixing code |'
  prefs: []
  type: TYPE_TB
- en: '| `#searchResults` | Results from a search query performed within your workspace
    |'
  prefs: []
  type: TYPE_TB
- en: '| `#selection` | The currently selected text in the editor—will add it as *`<filename:lines>`*
    |'
  prefs: []
  type: TYPE_TB
- en: '| `#sym` | The current symbol |'
  prefs: []
  type: TYPE_TB
- en: '| `#*<symbol>*` | Provides a list of symbols (matching characters you type
    after `#`) to choose from |'
  prefs: []
  type: TYPE_TB
- en: '| `#terminalLastCom⁠mand` | Active terminal’s last run command |'
  prefs: []
  type: TYPE_TB
- en: '| `#terminalSelection` | Active terminal’s selection |'
  prefs: []
  type: TYPE_TB
- en: '| `#testFailure` | Adds information about test failures to aid in diagnosing
    and fixing tests |'
  prefs: []
  type: TYPE_TB
- en: '| `#usages` | Combines Find All References, Find Implementation, and Go to
    Definition |'
  prefs: []
  type: TYPE_TB
- en: '| `#vscodeAPI` | Adds VS Code API to answer questions about VS Code extension
    development |'
  prefs: []
  type: TYPE_TB
- en: You can easily get access to the chat variables by simply typing `#` in your
    prompt. When you do that, Copilot will bring up a list of available variables
    ([Figure 3-35](#chat-variables)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0335.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-35\. Chat variables
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: After this, you can select a relevant item (such as a file) from the provided
    list ([Figure 3-36](#selecting-a-file-from)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0336.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-36\. Selecting a file from a populated list
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You can also combine participants, shortcut commands, and variables together
    in prompts. [Figure 3-38](#focusing-on-selection) shows an example of asking Copilot
    to explain a selection in a file. Note that it automatically filled in the `@workspace`
    participant, so that the prompt became `@workspace /explain #selection`. This
    shows an example of using a combination of a chat participant, a shortcut command,
    and a chat variable.'
  prefs: []
  type: TYPE_NORMAL
- en: If you look at the references used, Copilot ended up focusing on the selection
    and another part of the file it needed to produce a response. Copilot then produced
    an explanation for the more targeted context (the selected text) as requested.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0338.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-38\. Using a chat participant and chat variable to help specify context
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Making sure that Copilot is considering the context you intend can sometimes
    be challenging. The key is looking at Copilot’s response to see if:'
  prefs: []
  type: TYPE_NORMAL
- en: Copilot used the reference(s) you expected
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The response Copilot supplied is *generic* advice or is specific to the structure
    or content within your workspace
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Those two attributes of the response will help you quickly identify if Copilot
    is targeting the content you intended or if you need to use one of the approaches
    outlined in this section to steer it more precisely.
  prefs: []
  type: TYPE_NORMAL
- en: There’s one more chat interface that you can also use when interacting with
    Copilot. This one is targeted for operations that you do in the terminal.
  prefs: []
  type: TYPE_NORMAL
- en: Chat in the Terminal
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Copilot provides dedicated, terminal-focused chat functionality. When you’re
    in a terminal, such as in VS Code, using the same *Meta*-I shortcut brings up
    a shortcut dialog for typing in prompts that are directed to the terminal. [Figure 3-39](#terminal-query-dialog)
    shows the shortcut dialog that comes up in this case.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0339.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-39\. The terminal query dialog
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can enter a prompt such as “How do I commit my changes with Git?” and see
    the commands you need to run in the terminal. In addition, you have options to
    run them, view the output in chat, and more (see [Figure 3-40](#chat-in-terminal)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0340.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-40\. Viewing Chat in the terminal
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Creating Custom Code-Generation Instructions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In [Chapter 2](ch02.html#ch02), I mentioned that you could create custom instructions
    for Copilot code reviews. You can also create custom instructions to guide how
    Copilot generates code responses. Note, however, these custom instructions do
    not apply to inline code suggestions in the editor.
  prefs: []
  type: TYPE_NORMAL
- en: As with the custom review instructions, you can accomplish this in three ways.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, you can edit the *settings.json* file and add custom instructions under
    `git⁠hub.​copilot.chat.codeGeneration.instructions`. Here’s an example of a rule
    you can add:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: After adding the rule in the user settings file, you can tell Copilot to review
    the same code again. This time, it flags the condition you specified in the settings
    file, as shown in [Figure 2-24](ch02.html#flagged-issue-from-se).
  prefs: []
  type: TYPE_NORMAL
- en: Second, you can create a Markdown file in your repository or project with the
    specific path and name of *.github/copilot-instructions.md*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here’s an example of what this file might look like with the same rules:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'If you prefer to use a different path or name for the Markdown file, you can
    create it and then reference it in the *settings.json* file with a `file:` key.
    For example, if you named it *.docs/code-style.md*, you could point Copilot to
    it with the following entry in the settings file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: Let’s look at an example without custom code-generation instructions. Say you
    prompt Copilot to create a minimal TypeScript class with a private variable ([Figure 3-41](#minimal-typescript-cl)).
  prefs: []
  type: TYPE_NORMAL
- en: Assume you then add custom instructions via one of the approaches just outlined.
    With those in place, if you execute the same prompt, you’ll get a result like
    the one shown in [Figure 3-42](#minimal-typescript-cl2).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0341.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-41\. A minimal TypeScript class without custom code-generation instructions
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![](assets/lghc_0342.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3-42\. A minimal TypeScript class with custom code-generation instructions
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Notice in this version, the code is commented and the private variable name
    starts with an underscore, following the directions we put in place for the custom
    code-generation instructions.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, before we leave this chapter, it’s worth saying a few words about dealing
    with hallucinations and bad answers that may come back from the AI models used
    by Copilot.
  prefs: []
  type: TYPE_NORMAL
- en: Dealing with Hallucinations and Bad Answers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In spite of all the context we may supply to Copilot, the underlying AI models
    could still include hallucinations and produce bad answers in their responses.
    Spotting these in chat requires a critical eye and some methodical checks.
  prefs: []
  type: TYPE_NORMAL
- en: Hallucinations occur when Copilot generates code, explanations, or facts that
    sound plausible but are incorrect, unsupported, or entirely fabricated. Common
    signs include references to nonexistent functions, APIs, or fields, as well as
    code that simply doesn’t compile or align with your project’s contents. Sometimes
    Copilot may invent details about your codebase or misinterpret your requirements,
    leading to outputs that look correct at first glance but fail upon closer inspection.
  prefs: []
  type: TYPE_NORMAL
- en: To identify these issues, start by carefully reviewing Copilot’s responses for
    technical accuracy and consistency with your codebase. If Copilot suggests a function
    or field you don’t recognize, check your project files or documentation to confirm
    whether it actually exists. Be wary of results with overly confident explanations
    or code that seems too generic or unrelated to your context.
  prefs: []
  type: TYPE_NORMAL
- en: 'Testing the generated code is crucial: try running it, adding unit tests, or
    checking if it integrates smoothly with your existing code. (Testing with Copilot
    is covered in [Chapter 5](ch05.html#ch05).) If you notice silent failures or vague
    responses, that’s also a red flag that Copilot may be struggling to provide a
    grounded answer.'
  prefs: []
  type: TYPE_NORMAL
- en: 'When you suspect hallucinations or bad answers, here are some approaches to
    handle them:'
  prefs: []
  type: TYPE_NORMAL
- en: Verify all AI-generated content before using it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cross-reference Copilot’s suggestions with trusted documentation or reliable
    sources.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If more validation is needed, use fact-checking tools or plug-ins that can validate
    the information against external databases or web sources.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To reduce the chances of encountering these in the first place, consider these
    strategies:'
  prefs: []
  type: TYPE_NORMAL
- en: If possible, break down complex prompts into smaller, more manageable questions
    to reduce ambiguity and help Copilot focus on specific tasks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Iteratively refine your prompts based on the responses you receive.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Don’t hesitate to discard or revise outputs that seem questionable.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ultimately, treat Copilot as a helpful assistant rather than an infallible authority.
    By combining careful review, testing, and external validation, you can minimize
    the impact of hallucinations and ensure the quality and reliability of your code
    and documentation.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As you can see, the chat interface for Copilot provides a much larger degree
    of flexibility in terms of conversational input and output than the inline code
    completion functionality. Chat does this with the trade-off of more verbose content
    to wade through and a longer response time as it analyzes more content for context
    and generates more extensive suggestions.
  prefs: []
  type: TYPE_NORMAL
- en: If you are focused on writing code inline in the editor and do not need to have
    conversations with Copilot, but rather just want to see its immediate coding suggestions,
    you don’t have to access the chat interface.
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, if you need to ask Copilot something or need more results
    than are available through the inline interactions, Chat is a powerful tool. This
    is especially true when you incorporate the additional capabilities of chat participants
    and chat references to focus Copilot on the pieces you are most interested in.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you have a core understanding of what Copilot is and how to interact
    with it, we can move on to some of the advanced features for editing and autonomous
    workflows it provides for use in the IDE. These features can save you time and
    effort and do some impressive automation.
  prefs: []
  type: TYPE_NORMAL
