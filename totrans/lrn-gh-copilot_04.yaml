- en: Chapter 3\. Chatting with Copilot in the IDE
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 3 章\. 在 IDE 中与 Copilot 聊天
- en: In popular AI platforms like ChatGPT, the chat interface is your gateway to
    interacting with LLMs. Like talking to another person, having a running dialog
    with the AI feels more natural. It also allows for extended conversations to explore
    topics more thoroughly.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在像 ChatGPT 这样的流行 AI 平台上，聊天界面是您与大型语言模型（LLM）互动的入口。就像与人交谈一样，与 AI 进行对话感觉更自然。它还允许进行更深入的对话，以更彻底地探讨主题。
- en: The chat interfaces included with Copilot offer those same advantages but targeted
    for the coding domain. The previous inline functionality discussed in [Chapter 2](ch02.html#ch02)
    provides direct, quick, targeted code suggestions from Copilot. These code completions
    are based on what you’re working on. But having interactive, free-form discussions
    about coding can be invaluable, just as discussing coding challenges or ideas
    with a coworker is useful. In fact, it quickly becomes hard to imagine using Copilot
    without using its chat features.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot 包含的聊天界面提供了相同的优势，但针对的是编码领域。在[第 2 章](ch02.html#ch02)中讨论的先前内联功能提供了来自 Copilot
    的直接、快速、有针对性的代码建议。这些代码补全基于您正在处理的内容。但是，与同事讨论编码挑战或想法一样，关于编码的互动、自由形式的讨论可能非常有价值。事实上，很快就会很难想象不使用
    Copilot 的聊天功能来使用它。
- en: In this chapter, we’ll explore how to use and interact with Copilot’s chat functionality
    (Copilot Chat). We’ll cover basic and advanced aspects of Chat.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨如何使用和交互 Copilot 的聊天功能（Copilot Chat）。我们将涵盖 Chat 的基本和高级方面。
- en: We’ll start by helping you understand how to access Chat’s primary interface,
    how to parse its output, and how to manage multiple Chat sessions.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先帮助您了解如何访问 Chat 的主要界面，如何解析其输出，以及如何管理多个 Chat 会话。
- en: Following that, we’ll briefly look at how best to do prompting for the Chat
    interfaces and then explore the various Chat interfaces themselves. To make sure
    you can target the prompts in the interfaces appropriately, we’ll survey various
    shortcuts and modifiers built into Copilot, including participants and variables.
    We’ll also explore how to use Chat in the IDE’s terminal.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在此之后，我们将简要探讨如何最好地针对 Chat 界面进行提示，然后探索各种 Chat 界面本身。为了确保您能够适当地针对界面中的提示，我们将调查 Copilot
    中内置的各种快捷键和修饰符，包括参与者和变量。我们还将探讨如何在 IDE 的终端中使用 Chat。
- en: Finally, we’ll show you how to create custom instructions for Chat to use in
    generating responses and take a look at how best to deal with hallucinations and
    bad responses from Chat.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将向您展示如何为 Chat 创建自定义指令以生成响应，并探讨如何最好地处理 Chat 的幻觉和不良响应。
- en: Let’s begin by understanding how to quickly start having a conversation with
    Copilot.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从了解如何快速开始与 Copilot 进行对话开始。
- en: Accessing Chat’s Main Interface
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 访问 Chat 的主界面
- en: When you install Copilot into your IDE, it comes bundled with Copilot Chat.
    Chat’s primary interface is a dedicated pane on the right side that is separate
    from your editor ([Figure 3-1](#copilot-chat-interfac)). The chat interface also
    provides more screen real estate for input, output, and conversations.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 当您将 Copilot 安装到您的 IDE 中时，它将捆绑提供 Copilot Chat。Chat 的主要界面是右侧的一个专用面板，与您的编辑器分开([图
    3-1](#copilot-chat-interfac))。聊天界面还提供了更多屏幕空间用于输入、输出和对话。
- en: '![](assets/lghc_0301.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0301.png)'
- en: Figure 3-1\. Copilot chat interface, on the right
  id: totrans-11
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-1\. Copilot 聊天界面，在右侧
- en: Chat Interface in GitHub
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GitHub 中的 Chat 界面
- en: In this chapter, we are looking at using the chat interface in VS Code. Copilot’s
    chat interface is also used heavily in [GitHub](https://github.com/copilot). We’ll
    cover details on how that interface works in [Chapter 9](ch09.html#ch09).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨如何在 VS Code 中使用聊天界面。Copilot 的聊天界面在 [GitHub](https://github.com/copilot)
    中也得到了广泛使用。我们将在[第 9 章](ch09.html#ch09)中详细介绍该界面的工作原理。
- en: Copilot Chat has multiple modes for interacting with the AI. The default mode,
    which allows you to interact conversationally, is called *Ask* mode. The chat
    interface in Copilot is also a gateway to advanced editing with Copilot Edits
    and some autonomous development features with Copilot Agent mode. You can switch
    between the modes as shown in [Figure 3-2](#options-for-different).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot Chat 提供了多种与 AI 互动的模式。默认模式允许您进行对话式交互，称为 *Ask* 模式。Copilot 中的聊天界面也是通过 Copilot
    Edits 进行高级编辑和通过 Copilot Agent 模式实现一些自主开发功能的入口。您可以根据[图 3-2](#options-for-different)所示进行模式切换。
- en: '![](assets/lghc_0302.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0302.png)'
- en: Figure 3-2\. Options for chat modes
  id: totrans-16
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-2\. 聊天模式选项
- en: This chapter focuses on the basics of using chat in Ask mode. [Chapter 4](ch04.html#ch04)
    discusses how the Edit and Agent modes are used.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 本章重点介绍在Ask模式中使用聊天的基础知识。[第4章](ch04.html#ch04)讨论了如何使用编辑和代理模式。
- en: In the IDE integration, the top row contains a Copilot icon. Clicking it allows
    you to open various chat interfaces in the IDE. This includes opening/reopening
    the main chat interface if it’s not visible—the top option in the list, as shown
    in [Figure 3-3](#opening-chats-control).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在IDE集成中，顶部行包含一个Copilot图标。点击它可以在IDE中打开各种聊天界面。这包括打开/重新打开主聊天界面（如果不可见），列表中的顶部选项，如图[图3-3](#opening-chats-control)所示。
- en: '![](assets/lghc_0303.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0303.png)'
- en: Figure 3-3\. Opening the chat control
  id: totrans-20
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-3\. 打开聊天控制
- en: Possible AI Mistakes
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可能的AI错误
- en: 'When starting a new conversation with the chat interface, you will see this
    message: *Copilot is powered by AI, so mistakes are possible. Review output carefully
    before use.*'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用聊天界面开始新的对话时，你会看到这条消息：“Copilot由AI驱动，因此可能存在错误。在使用前仔细检查输出。”
- en: This caution about potential inaccuracies from the Copilot AI should be considered
    for all responses returned by Copilot, not just in the chat interface. As noted
    in [Chapter 1](ch01.html#ch01), you should vet all responses returned by Copilot.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 关于Copilot AI可能不准确性的警告应适用于Copilot返回的所有响应，而不仅仅是聊天界面。如[第1章](ch01.html#ch01)中所述，你应该对所有Copilot返回的响应进行审查。
- en: The options for the Editor Inline Chat and Quick Chat interfaces are explained
    later in this chapter.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 编辑器内联聊天和快速聊天界面的选项将在本章后面进行解释。
- en: 'In the main chat interface, you can enter your query or prompt in the text
    window labeled *Ask Copilot*. Let’s assume you’ve highlighted your `is_prime`
    code from the [Chapter 2](ch02.html#ch02) examples and want Copilot to explain
    how it works. Here’s a simple query for that:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在主聊天界面中，你可以在标记为“询问Copilot”的文本窗口中输入你的查询或提示。假设你已经从[第2章](ch02.html#ch02)的示例中突出显示了`is_prime`代码，并希望Copilot解释它是如何工作的。这是一个简单的查询示例：
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: After processing the query, Copilot responds; [Figure 3-4](#result-from-chat-quer)
    shows an example.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 处理查询后，Copilot会做出响应；[图3-4](#result-from-chat-quer)显示了示例。
- en: '![](assets/lghc_0304.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0304.png)'
- en: Figure 3-4\. Result from the chat query
  id: totrans-29
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-4\. 聊天查询的结果
- en: Notice that the response is presented in a more conversational style. It has
    fully formed sentences and can be read and understood even if you’re unfamiliar
    with Python coding. The response also includes any relevant code examples that
    support the explanation.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到响应是以更对话式的风格呈现的。它包含完整的句子，即使你不熟悉Python编程，也可以阅读和理解。响应还包括支持解释的任何相关代码示例。
- en: Explanation Use Cases
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 解释用例
- en: While it may not seem significant to have Copilot explain code that you created,
    imagine being able to have it explain code that you didn’t write and don’t yet
    understand. An example could be code written in a language you’re not familiar
    with. You could also use Copilot explanations to explain a complex algorithm.
    The explanation could even form the basis of pseudocode for further refinements.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然Copilot解释你创建的代码可能看起来并不重要，但想象一下能够解释你未编写且尚未理解的其他代码。一个例子可能是用你不熟悉的语言编写的代码。你还可以使用Copilot的解释来解释一个复杂的算法。这种解释甚至可以成为进一步改进的伪代码的基础。
- en: The chat response in this interface provides a lot of information, including
    some elements that are not directly part of the explanation but related to it.
    Let’s spend a little time looking more closely at the entire set of information
    in the output.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 此界面的聊天响应提供了大量信息，包括一些并非直接属于解释但与之相关的内容。让我们花点时间更仔细地查看输出中的全部信息集。
- en: Understanding Chat Output
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解聊天输出
- en: Beyond the prose from Chat, a couple of other items are worth noting in the
    output. We can use the example from the previous sections to explore these.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 除了Chat的文本之外，输出中还有一些其他值得注意的项目。我们可以使用前几节中的示例来探索这些。
- en: First, just under the GitHub Copilot title, Copilot tells us it “Used 1 reference.”
    A *reference* in this case means content from, or related to, the project that
    Copilot determined was relevant to use in creating a response. Most commonly,
    this will be the currently active file in the editor, but it could include additional
    files, dependencies, custom settings, or other types of content that are not files.
    (For example, it could include commands if you’re using a prompt that references
    the terminal.)
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，就在GitHub Copilot标题下方，Copilot告诉我们它“使用了1个引用”。在这种情况下，“引用”意味着Copilot确定与项目相关的内容，用于创建响应。最常见的是，这将是编辑器中当前活动的文件，但也可能包括其他文件、依赖项、自定义设置或其他类型的非文件内容。（例如，如果使用引用终端的提示，它可能包括命令。）
- en: Looking at [Figure 3-4](#result-from-chat-quer), just under the GitHub Copilot
    logo, I’ve expanded the reference section to see the content that was considered
    in generating a response. In this case, the reference is the code from the only
    active file, *prime.py*. This is the default context, also shown at the top of
    the text input area. There the file is identified as the “Current file” (and thus
    the default context). We’ll discuss more about context for prompts in [“Making
    Effective Use of the Prompt Dialog”](#making_effective_use).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 查看图[3-4](#result-from-chat-quer)，在GitHub Copilot标志下方，我已扩展了参考文献部分以查看在生成响应时考虑的内容。在这种情况下，引用是来自唯一活动文件
    *prime.py* 的代码。这是默认上下文，也显示在文本输入区域的顶部。在那里，文件被标识为“当前文件”（因此是默认上下文）。我们将在[“有效使用提示对话框”](#making_effective_use)中讨论更多关于提示上下文的内容。
- en: 'Following the reference section is the full text of the response provided by
    Copilot (in Markdown format) from when we interacted with it. As a reminder, since
    we’re using generative AI, you may get different answers, even with exactly the
    same prompt:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在参考文献部分之后是Copilot在互动时提供的完整响应文本（以Markdown格式）。提醒一下，由于我们使用的是生成式AI，即使提示完全相同，你也可能会得到不同的答案：
- en: '[PRE1]python'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE1]python'
- en: 'if n <= 1:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 'if n <= 1:'
- en: return False
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: return False
- en: '[PRE2]python'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE2]python'
- en: 'for i in range(2, int(n**0.5) + 1):'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 'for i in range(2, int(n**0.5) + 1):'
- en: 'if n % i == 0:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 'if n % i == 0:'
- en: return False
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: return False
- en: '[PRE3]python'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE3]python'
- en: return True
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: return True
- en: '[PRE4]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The response provides a detailed, step-by-step explanation of the code’s actions
    in prose (complete sentences written as if it were talking to you) as well as
    code excerpts from the file. This is one of the key advantages of working with
    the chat interface: conversational text is included with actual code. The text
    and code together form a complete conversation, just as you might share with a
    colleague.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 响应提供了对代码动作的详细、逐步解释，以散文形式（写成好像在和你说话的完整句子）以及从文件中摘录的代码片段。这是与聊天界面一起工作的一个关键优势：对话文本与实际代码结合在一起。文本和代码共同构成一个完整的对话，就像你与同事分享的那样。
- en: It’s easy to continue the conversation in chat. For example, referencing your
    code, you can ask Copilot if there are more efficient ways to implement this logic. [Figure 3-5](#asking-a-followup-que)
    shows Copilot’s response with an optimized version of the code. Notice again the
    text explanation along with the code example.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在聊天中继续对话很容易。例如，通过引用你的代码，你可以询问Copilot是否有更高效实现这个逻辑的方法。[图3-5](#asking-a-followup-que)显示了Copilot对代码优化版本的响应。再次注意，代码示例旁边的文本说明。
- en: '![](assets/lghc_0305.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0305.png)'
- en: Figure 3-5\. Asking Copilot if there are more efficient ways to implement our
    code
  id: totrans-52
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-5. 询问Copilot是否有更高效实现我们代码的方法
- en: This output is read-only in the chat interface. However, if you hover over the
    code block, Copilot provides a pop-up bar with icons for different ways to get
    code from the window to the editor in your IDE. [Figure 3-6](#popup-options-in-chat)
    shows the pop-up bar and its extended options.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在聊天界面中，此输出为只读。但是，如果你悬停在代码块上，Copilot会提供一个带有不同方式将代码从窗口传输到你的IDE编辑器的弹出栏。[图3-6](#popup-options-in-chat)显示了弹出栏及其扩展选项。
- en: '![](assets/lghc_0306.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0306.png)'
- en: Figure 3-6\. “Hover” icons to transfer code from the chat interface to the editor
  id: totrans-55
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-6. “悬停”图标将代码从聊天界面传输到编辑器
- en: 'From left to right, the icons allow you to do the following:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，图标允许你执行以下操作：
- en: Apply changes to the currently active file for review
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将更改应用到当前活动文件以供审查
- en: Insert the text at the cursor location in the currently active file
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将文本插入到当前活动文件的光标位置
- en: Copy the text to the clipboard
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将文本复制到剪贴板
- en: Insert the text into a new file (accessible via the More Actions icon [...])
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将文本插入到新文件中（通过更多操作图标 [...] 可访问）
- en: Insert the text into a terminal (accessible via the More Actions icon [...])
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将文本插入到终端（通过更多操作图标 [...] 访问）
- en: Customizing the Hover Menu
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义悬停菜单
- en: By default, to get to the last two options in the list (insert into a new file
    and insert into the terminal), you need to hover over the ... selection in the
    pop-up, select More Actions, and then select the desired option.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，要访问列表中的最后两个选项（插入到新文件和插入到终端），您需要将鼠标悬停在弹出窗口的 ... 选择上，选择更多操作，然后选择所需的选项。
- en: However, if you hover over one of the icons and right-click, you’ll access a
    menu where you can select which icons show up in the *bar* when you hover. By
    checking all the entries in the list, you’ll have all icons available in the hover
    bar and won’t have to use the ... interface.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果您将鼠标悬停在其中一个图标上并右键单击，您将访问一个菜单，您可以在其中选择在您悬停时显示哪些图标。通过勾选列表中的所有条目，您将在悬停栏中拥有所有图标，并且不需要使用
    ... 界面。
- en: While most of these options are self-explanatory, Apply deserves additional
    explanation. When you click this option, Copilot will apply the changes to the
    file in your editor, showing you the suggested changes inline and allowing you
    to Keep or Undo each set ([Figure 3-7](#applying-changes-inli)).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然大多数选项都是不言自明的，但“应用”选项需要额外的解释。当您点击此选项时，Copilot会将更改应用到编辑器中的文件，显示建议的更改并允许您保留或撤销每组更改([图3-7](#applying-changes-inli))。
- en: '![](assets/lghc_0307.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0307.png)'
- en: Figure 3-7\. Applying changes inline from the chat
  id: totrans-67
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-7\. 从聊天中应用更改
- en: Choosing the Insert at Cursor option will replace any highlighted code in the
    editor session with the code from the window. For example, suppose you have your
    previous code highlighted and then select that option. In that case, your previous
    implementation of the `is_prime` function will be overwritten by the one from
    the chat.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“在光标处插入”选项将用窗口中的代码替换编辑器会话中任何突出显示的代码。例如，假设您已经突出显示了之前的代码并选择了该选项，那么您对`is_prime`函数的先前实现将被聊天中的实现覆盖。
- en: In addition to the controls that pop up when you hover over generated code in
    the chat panel, various other controls are always available at the top of the
    chat panel and in the text entry area itself. Let’s take a moment to talk about
    what those are and what they allow you to do, starting with ones that help you
    manage chat sessions.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在聊天面板中悬停时弹出的控件外，还有各种其他控件始终在聊天面板的顶部和文本输入区域本身可用。让我们花点时间来谈谈这些控件是什么以及它们允许您做什么，从帮助您管理聊天会话的控件开始。
- en: Managing Chat Sessions
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理聊天会话
- en: In the top line of the chat panel are several controls you can use to manage
    your chat sessions ([Figure 3-8](#top-icons-in-chat-int)).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在聊天面板的顶部行有几个控件，您可以使用它们来管理您的聊天会话([图3-8](#top-icons-in-chat-int))。
- en: '![](assets/lghc_0308.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0308.png)'
- en: Figure 3-8\. Top icons in the chat interface
  id: totrans-73
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-8\. 聊天界面中的顶部图标
- en: On the right side, the left and right arrows allow you to move forward and backward
    between sessions, respectively. The large + sign allows you to start a new chat
    session instead of continuing with the current one. Starting a new session is
    useful if you want to discuss a new topic and don’t want to risk Copilot assuming
    context from your previous discussions in the existing chat.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在右侧，左右箭头允许您分别向前和向后移动会话。大加号允许您开始一个新的聊天会话而不是继续当前的会话。如果您想讨论一个新主题并且不想让Copilot从现有的聊天中假设上下文，开始一个新的会话是有用的。
- en: In a single chat session, Copilot keeps track of the conversation history including
    the series of prompts. For example, in [Figure 3-9](#creating-tests-for-a), we
    asked Copilot to create tests for one of our files.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在单个聊天会话中，Copilot会跟踪对话历史，包括一系列提示。例如，在[图3-9](#creating-tests-for-a)中，我们要求Copilot为我们中的一个文件创建测试。
- en: '![](assets/lghc_0309.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0309.png)'
- en: Figure 3-9\. Creating tests for a file
  id: totrans-77
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-9\. 为文件创建测试
- en: Afterwards, we asked Copilot a more generic question about what other use cases
    should be considered, and it returned an answer that was relevant to the context/follow-up
    for the previous question ([Figure 3-10](#follow-up-questions)).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，我们向Copilot提出了一个更通用的关于应考虑哪些其他用例的问题，并得到了一个与之前问题的上下文/后续相关的答案([图3-10](#follow-up-questions))。
- en: '![](assets/lghc_0310.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0310.png)'
- en: Figure 3-10\. Follow-up questions
  id: totrans-80
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-10\. 后续问题
- en: Clicking the Show Chats icon (which looks like a clock inside a circular arrow)
    shows the set of chats you’ve been working with in a dialog ([Figure 3-11](#showing-sets-of-chats)).
    You can click an entry to switch to that chat.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“显示聊天”图标（看起来像圆形箭头内的时钟）会在对话框中显示你一直在工作的聊天集（[图3-11](#showing-sets-of-chats)）。你可以点击一个条目来切换到那个聊天。
- en: '![](assets/lghc_0311.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0311.png)'
- en: Figure 3-11\. Showing sets of chats
  id: totrans-83
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-11\. 显示聊天集
- en: The Views and More Actions control (the one that looks like three dots) provides
    several options. It allows you to open the current chat in an editor session or
    in a detached window. It also allows you to provide Copilot with feedback on chat
    functionality as well as easily get to the latest release notes.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: “视图和更多操作”控制（看起来像三个点的那个）提供了几个选项。它允许你在编辑会话或分离的窗口中打开当前的聊天。它还允许你向Copilot提供关于聊天功能的反馈，以及轻松获取最新的发布说明。
- en: The “X” in the upper right of the chat window will close the chat view completely.
    Alternatively, you can delete a single chat by hovering over the area for it and
    clicking the “X” in the upper-right corner of the individual chat ([Figure 3-12](#deleting-a-chat)).
    The tip here is worded oddly as *Undo Requests*, but it currently deletes the
    chat. Deleting a chat can sometimes be useful to remove discussions that are no
    longer relevant.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 聊天窗口右上角的“X”可以完全关闭聊天视图。或者，你可以通过悬停在聊天区域上并点击单个聊天右上角的“X”来删除单个聊天（[图3-12](#deleting-a-chat)）。这里的提示措辞有些奇怪，被称为*撤销请求*，但它目前的作用是删除聊天。有时删除聊天可以用来移除不再相关的讨论。
- en: '![](assets/lghc_0312.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0312.png)'
- en: Figure 3-12\. Deleting a chat
  id: totrans-87
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-12\. 删除聊天
- en: Finally, it’s worth noting that you can export or save the content of a chat
    session. We’ll cover that in [Chapter 6](ch06.html#ch06).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，值得注意的是，你可以导出或保存聊天会话的内容。我们将在[第6章](ch06.html#ch06)中介绍这一点。
- en: These controls help you manage your chat sessions. Since the way we interact
    with Copilot in chat is through prompts, let’s take a moment to talk about how
    we can best construct our prompts.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这些控制帮助你管理你的聊天会话。由于我们在聊天中与Copilot的交互是通过提示进行的，让我们花点时间讨论如何最好地构建我们的提示。
- en: Prompt Engineering for Copilot
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Copilot的**提示工程**
- en: '*Prompt engineering* for GitHub Copilot Chat is the process of crafting clear,
    targeted instructions to guide the AI in generating useful and accurate responses.
    When interacting with Copilot Chat, your prompt can be as simple as a question,
    a shortcut command (discussed later in this chapter), or a specific directive
    for Copilot related to your project. Copilot doesn’t rely on just your prompt—it
    also draws on the context from your open files and the ongoing chat history to
    provide relevant answers.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 为GitHub Copilot Chat进行**提示工程**是指精心设计清晰、有针对性的指令，以引导AI生成有用且准确的响应。在与Copilot Chat交互时，你的提示可以是一个问题、一个快捷命令（本章稍后讨论），或者与你的项目相关的Copilot特定指令。Copilot不仅仅依赖于你的提示，它还会从你的打开文件和当前的聊天历史中获取上下文，以提供相关的答案。
- en: If you’re working on a larger effort, a good approach is to begin with a broad
    description of your goal, setting the stage for what you want to achieve. For
    example, you might start with, “Write a function that checks if a number is prime.”
    Once you’ve specified the general purpose, you can iterate with specific requirements
    or constraints, such as, “The function should return true for prime numbers and
    throw an error if the input is not a positive integer.” This progression from
    general to specific helps Copilot understand both the overarching task and the
    details, leading to more precise responses.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在从事一项较大的工作，一个好的方法是先从对目标的广泛描述开始，为你要实现的目标设定场景。例如，你可能从“编写一个检查数字是否为素数的函数”开始。一旦你指定了一般目的，你可以通过具体的要求或约束进行迭代，例如，“该函数应该对素数返回true，如果输入不是正整数则抛出错误。”这种从一般到具体的进展有助于Copilot理解整体任务和细节，从而得到更精确的响应。
- en: Providing examples is another effective technique. Including sample inputs and
    expected outputs, or even unit tests, can help Copilot better infer your intent.
    For instance, if you want a function to extract dates from a string, sharing a
    sample string and the expected array of dates will guide Copilot to generate code
    that matches your needs.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 提供示例是另一种有效的技术。包括样本输入和预期输出，甚至单元测试，可以帮助Copilot更好地推断你的意图。例如，如果你想有一个函数从字符串中提取日期，分享一个样本字符串和预期的日期数组将引导Copilot生成符合你需求的代码。
- en: 'Copilot Chat also supports advanced features like referencing specific files,
    using chat variables, and integrating with participants and extensions for domain-specific
    tasks. (Chat variables and participants are discussed later in this chapter. Copilot
    Extensions are discussed in [Chapter 10](ch10.html#ch10).) You can highlight code,
    use keywords, or drag files into the chat to give Copilot more context. Iteration
    is key: if the initial response isn’t quite right, refine your prompt or your
    context until you get the desired result.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot Chat还支持高级功能，如引用特定文件、使用聊天变量以及与参与者扩展进行特定任务集成。（聊天变量和参与者将在本章后面讨论。Copilot扩展将在[第10章](ch10.html#ch10)中讨论。）你可以突出显示代码、使用关键词或将文件拖入聊天中，为Copilot提供更多上下文。迭代是关键：如果初始响应不够准确，请完善你的提示或上下文，直到得到期望的结果。
- en: By treating prompt engineering as an interactive conversation, you can leverage
    Copilot Chat to write code, debug errors, generate tests, and answer project-specific
    questions efficiently. The more clearly you communicate your intent, the better
    Copilot can assist you in your development workflow.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将提示工程视为交互式对话，你可以利用Copilot Chat高效地编写代码、调试错误、生成测试和回答项目特定问题。你传达的意图越清晰，Copilot就越能帮助你提高开发工作流程的效率。
- en: More Info
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多信息
- en: You can find more documentation on prompt engineering in the [Copilot documentation](https://oreil.ly/QnqjI).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[Copilot文档](https://oreil.ly/QnqjI)中找到更多关于提示工程的文档。
- en: When you’re entering your prompts, the text entry area has additional controls
    to let you customize the environment and targets for your prompt.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 当你输入提示时，文本输入区域有额外的控件，让你可以自定义提示的环境和目标。
- en: Making Effective Use of the Prompt Dialog
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有效使用提示对话框
- en: Multiple controls are available in the chat dialog for use when submitting prompts
    or queries. These controls are shown in [Figure 3-13](#prompt-dialog-control).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在提交提示或查询时，聊天对话框中提供了多个控件可供使用。这些控件在[图3-13](#prompt-dialog-control)中显示。
- en: '![](assets/lghc_0313.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0313.png)'
- en: Figure 3-13\. Prompt dialog controls
  id: totrans-102
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-13. 提示对话框控件
- en: 'The controls are used for the following:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这些控件用于以下功能：
- en: Adding context elements
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加上下文元素
- en: Selecting a chat participant to help handle the prompt
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择聊天参与者以帮助处理提示
- en: Selecting what Copilot does when your prompt is submitted
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择你的提示提交后Copilot的行为
- en: Selecting your AI model
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择你的AI模型
- en: Selecting whether you are using the chat interface in the Ask, Edit, or Agent
    mode
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择你是在询问、编辑还是代理模式中使用聊天界面
- en: As noted earlier, we’re focusing on the Ask mode for chat in this chapter, and
    we’ll cover Edit and Agent modes in [Chapter 4](ch04.html#ch04), so we won’t go
    into more detail on the last item. But the others are covered in this section.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，本章我们专注于聊天中的询问模式，并在[第4章](ch04.html#ch04)中介绍编辑和代理模式，因此我们不会对最后一项进行更详细的说明。但其他内容在本节中都有涉及。
- en: Adding Context Elements
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加上下文元素
- en: '*Context* here means relevant items that are part of your project that Copilot
    can reference for understanding and formulating responses. At the simplest level,
    if you have an active file open in the editor, it will be used as the current
    context. In [Figure 3-13](#prompt-dialog-control), this is shown as “prime.py
    Current file”. If you want to exclude this file as the current context, you can
    make a different file active or click the icon that looks like an eye to cancel
    that file as context.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '*上下文*在这里指的是你的项目中Copilot可以参考以理解和制定响应的相关项目。在最简单的情况下，如果你在编辑器中打开了活动文件，它将被用作当前上下文。在[图3-13](#prompt-dialog-control)中，这显示为“prime.py
    当前文件”。如果你想要排除此文件作为当前上下文，你可以激活不同的文件或点击类似眼睛的图标来取消该文件作为上下文。'
- en: To manually add other types of elements from your project as context, click
    the paperclip icon with Add Context after it. This will bring up a set of optional
    items that you can include as context. These range from content in the editor,
    to individual files, to symbols, to text from the terminal, and even screenshots.
    There are also several options to search for other content like web pages or find
    usage of functions, variables, and symbols. [Figure 3-14](#attaching-additional)
    shows a partial list of items available when the control is invoked.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 要手动将项目中的其他类型元素添加为上下文，请点击带有“添加上下文”的纸夹图标。这将显示一系列可选项目，你可以将其包含为上下文。这些项目包括编辑器中的内容、单个文件、符号、终端中的文本，甚至截图。还有几个选项可以搜索其他内容，如网页或查找函数、变量和符号的使用。[图3-14](#attaching-additional)显示了在调用控件时可用项目的一部分列表。
- en: To find a particular item in the list, you can scroll or type in characters
    in the search bar. This includes files in your project. You can also scroll to
    the bottom of the list to see recently opened files.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 要在列表中查找特定项目，您可以滚动或输入搜索栏中的字符。这包括您项目中的文件。您还可以滚动到列表底部查看最近打开的文件。
- en: '![](assets/lghc_0314.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0314.png)'
- en: Figure 3-14\. Attaching additional context
  id: totrans-115
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-14\. 添加附加上下文
- en: When you are done adding the context elements you want, you can enter your prompt
    and submit it. The context items you’ve added will be consulted as Copilot prepares
    the response. [Figure 3-15](#running-a-prompt-with) shows an example of the output
    from running a prompt with several context items added.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当您完成添加所需的上下文元素后，您可以输入提示并提交它。您添加的上下文项将在Copilot准备响应时被咨询。[图3-15](#running-a-prompt-with)显示了添加几个上下文项后运行提示的输出示例。
- en: '![](assets/lghc_0315.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0315.png)'
- en: Figure 3-15\. Running a prompt with multiple types of context
  id: totrans-118
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-15\. 使用多种上下文运行提示
- en: Repository Indexes
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 仓库索引
- en: On the topic of context, just a reminder that GitHub automatically builds a
    *workspace index* to help quickly and accurately search your project for relevant
    code pieces. This index can then be used as another supporting piece to help search
    a wider set of content in the codebase and better answer questions about it.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在上下文这个话题上，提醒一下，GitHub会自动构建一个*工作区索引*，以帮助您快速准确地搜索项目中的相关代码片段。这个索引可以用作另一个支持元素，帮助在代码库中搜索更广泛的内容，并更好地回答相关问题。
- en: Adding Participants
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加参与者
- en: The @ control allows you to invoke a chat participant. *Chat participants* set
    a scope for the prompt or query to apply to, such as the entire workspace, the
    terminal, and VS Code. Several built-in chat participants are available in the
    IDE, such as `@workspace` and `@terminal`.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '@控制符允许您调用聊天参与者。*聊天参与者*为提示或查询设置应用的范围，例如整个工作区、终端和VS Code。在IDE中，有几个内置的聊天参与者可供使用，例如`@workspace`和`@terminal`。'
- en: Additional participants can also be provided by GitHub Copilot Extensions when
    you install them. *Copilot Extensions* are custom integrations that incorporate
    other tools (such as Docker) or APIs into your IDE’s chat interface. Chat participants
    are discussed in more detail later in this chapter. Copilot Extensions are covered
    in [Chapter 10](ch10.html#ch10). [Figure 3-16](#invoking-participant) shows a
    list of built-in chat participants that you can select from.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 当您安装GitHub Copilot Extensions时，它们也可以提供额外的参与者。*Copilot Extensions*是自定义集成，将其他工具（如Docker）或API集成到您的IDE聊天界面中。聊天参与者将在本章后面详细讨论。Copilot
    Extensions在[第10章](ch10.html#ch10)中介绍。[图3-16](#invoking-participant)显示了您可以从中选择的内置聊天参与者列表。
- en: '![](assets/lghc_0316.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0316.png)'
- en: Figure 3-16\. Invoking a participant or extension
  id: totrans-125
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-16\. 调用参与者或扩展
- en: Next up is the Send button on the right. Clicking this will submit your prompt
    or query to the AI, but you can submit your prompt in varied ways.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是右侧的发送按钮。点击此按钮会将您的提示或查询提交给AI，但您可以通过多种方式提交提示。
- en: Understanding Options for Submitting Your Prompt
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解提交您的提示的选项
- en: The arrow control at the right side of the prompt area is referred to as the
    *Send button*. It has a default behavior as well as several other options. The
    various Send options shown in [Figure 3-17](#send-options) all submit your prompt
    or query to Copilot, but there are some key differences. Let’s break down what
    each option means.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 提示区域右侧的箭头控制被称为*发送按钮*。它具有默认行为以及几个其他选项。[图3-17](#send-options)中显示的各种发送选项都将您的提示或查询提交给Copilot，但有一些关键的区别。让我们分析每个选项的含义。
- en: '![](assets/lghc_0317.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0317.png)'
- en: Figure 3-17\. Send options
  id: totrans-130
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-17\. 发送选项
- en: By default, Copilot Chat will try to direct your prompt or query to a suitable
    action or tool (such as a chat participant), when possible. This is the standard
    Send and Dispatch behavior when you click the arrow.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Copilot Chat会尝试将您的提示或查询引导到合适的操作或工具（如聊天参与者），如果可能的话。这是您点击箭头时的标准发送和调度行为。
- en: When routed to an action or tool, you may see a “rerun without” link option
    at the top of the output. In [Figure 3-18](#example-prompt-with-automatic), the
    prompt was simply “Create test cases”. But note that Copilot added the `workspace`
    participant and a `/tests` shortcut command. (We’ll discuss these kinds of commands
    later in the chapter.) The “rerun without” link would run the query without the
    `/tests` command.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 当路由到操作或工具时，你可能会在输出顶部看到一个“不带重新运行”的链接选项。在[图3-18](#example-prompt-with-automatic)中，提示仅仅是“创建测试用例”。但请注意，Copilot添加了`workspace`参与者和一个`/tests`快捷命令。(我们将在本章后面讨论这类命令。)“不带重新运行”的链接将运行查询而不包括`/tests`命令。
- en: '![](assets/lghc_0318.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0318.png)'
- en: Figure 3-18\. Example prompt with automatic additions by Copilot
  id: totrans-134
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-18\. Copilot自动添加示例提示
- en: If the automatically selected action or tool is not the right one for your question,
    you can select the link to resend your question to Copilot without including the
    participant. This is the behavior of the Send option if you select that in the
    drop-down list. [Figure 3-19](#example-prompt-using-send) shows what this option
    looks like with the same prompt.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 如果自动选择的操作或工具不适合你的问题，你可以选择链接将你的问题重新发送给Copilot，而不包括参与者。这是在下拉列表中选择“发送”选项时的行为。[图3-19](#example-prompt-using-send)展示了此选项的样式。
- en: '![](assets/lghc_0319.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0319.png)'
- en: Figure 3-19\. Example prompt using the Send option
  id: totrans-137
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-19\. 使用发送选项的示例提示
- en: 'For the third option, “Send with #codebase”, `#codebase` is a chat variable.
    Chat variables are covered later in the chapter, but essentially this tells Copilot
    to take into account all the information it has about your entire set of code.
    This can be useful if other content in the project may need to be considered in
    the response but you don’t know (or don’t want to) specify individual items for
    context. In our example for generating tests, using this option could allow the
    AI to determine whether there are already existing tests and/or generate suggestions
    for more comprehensive tests across the project.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第三个选项“带#codebase发送”，`#codebase`是一个聊天变量。聊天变量将在本章后面讨论，但基本上这告诉Copilot考虑它关于你整个代码集的所有信息。如果项目中的其他内容可能需要在响应中考虑，但你不知道（或不想）指定单个项目作为上下文，这可能会很有用。在我们的测试生成示例中，使用此选项可能允许AI确定是否已经存在测试用例，并/或为整个项目生成更全面的测试建议。
- en: The last option, Send to New Chat, is self-explanatory. The prompt you just
    entered will be opened in a new chat as the first prompt. This is useful when
    you want to isolate a specific query or task from ongoing conversations for clarity
    or focus.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个选项“发送到新聊天”是显而易见的。你刚刚输入的提示将在新聊天中作为第一个提示打开。当你想要从正在进行中的对话中隔离特定的查询或任务以获得清晰或专注时，这很有用。
- en: The remaining control in the dialog is an option to pick the LLM that you want
    Copilot to use on the backend. This gives you flexibility in choosing an LLM that
    may be better suited for your particular task. A large set of LLMs is currently
    available to choose from via the drop-down ([Figure 3-20](#selecting-a-different)).
    As new ones become available, they are designated as *preview* for a period of
    time. You may also be asked to “Enable access for all clients” as part of using
    a different model.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框中剩余的控制是一个选项，用于选择Copilot在后台想要使用的LLM。这让你在选择可能更适合你特定任务的LLM时具有灵活性。目前，有一大批LLM可供通过下拉列表([图3-20](#selecting-a-different))选择。当新的LLM可用时，它们将作为*预览*使用一段时间。你可能会被要求“为所有客户端启用访问”作为使用不同模型的一部分。
- en: '![](assets/lghc_0320.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0320.png)'
- en: Figure 3-20\. Selecting a different model
  id: totrans-142
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-20\. 选择不同的模型
- en: Managing Models
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理模型
- en: You may have noticed the Manage Models link at the bottom of the models list
    in [Figure 3-20](#selecting-a-different). This link allows you enter data that
    may be needed to access other models, such as custom model IDs or API keys.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经注意到了[图3-20](#selecting-a-different)中模型列表底部的“管理模型”链接。此链接允许你输入可能需要访问其他模型的数据，例如自定义模型ID或API密钥。
- en: Since you’ve seen how the main Chat dialog works, let’s look at a shortcut to
    using chat inline with your code in the editor.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 既然你已经看到了主要Chat对话框的工作方式，让我们看看在编辑器中与代码内联使用Chat的快捷方式。
- en: Using the Editor Inline Chat Interface
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用编辑器内联聊天界面
- en: Copilot integration provides a simplified, quick-access interface to Chat in
    the editor. The interface can be invoked at any position by using the *Meta*-Icombination
    ([Figure 3-21](#inline-chat-interface)).
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot集成在编辑器中提供了一个简化、快速访问的Chat界面。该界面可以通过使用*Meta*-I组合([图3-21](#inline-chat-interface))在任何位置调用。
- en: '![](assets/lghc_0321.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0321.png)'
- en: Figure 3-21\. Inline chat interface
  id: totrans-149
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-21\. 内联聊天界面
- en: 'This dialog is a smaller version of the chat dialog. It’s designed to be used
    inline in the code editor without taking up too much screen real estate. Aside
    from adding context, it has the same controls, and you can supply the same prompts
    or queries as in the main chat window. For example, you can highlight the code
    and ask the same question as earlier in the chapter:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这个对话框是聊天对话框的小版本。它设计用于在代码编辑器内联使用，而不会占用太多的屏幕空间。除了添加上下文之外，它具有相同的控件，你可以提供与主聊天窗口中相同的提示或查询。例如，你可以突出显示代码并询问本章早期提出的问题：
- en: '[PRE5]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Copilot will return as much of the response as it can show in the limited window
    ([Figure 3-22](#prompting-in-interact)). You can scroll or expand the dialog to
    see more of the output. However, with this limited amount of screen real estate,
    you still may not be able to see the complete response. To see the complete response
    in the main chat interface, click theView in Chat button.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot将尽可能多地返回在有限窗口中显示的响应（[图 3-22](#prompting-in-interact)）。你可以滚动或展开对话框以查看更多输出。然而，由于有限的屏幕空间，你可能仍然无法看到完整的响应。要查看完整的响应在主聊天界面中，请点击“查看聊天”按钮。
- en: '![](assets/lghc_0322.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0322.png)'
- en: Figure 3-22\. Prompting in an interactive chat
  id: totrans-154
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-22\. 交互式聊天中的提示
- en: Regenerate Option
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 重新生成选项
- en: You may have noticed a circular arrow next to the View in Chat button. Whenever
    you see this symbol, it is a way to ask Copilot to regenerate the answer and see
    if it offers another, possibly better response.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经注意到在“聊天中的查看”按钮旁边有一个圆形箭头。每次当你看到这个符号时，它都是请求Copilot重新生成答案并查看是否提供了另一个，可能更好的响应的方式。
- en: Clicking the View in Chat button displays the full text of the response in the
    main chat window ([Figure 3-23](#output-from-view-in-c)). You can scroll through
    the response and do follow-up prompting, selecting code, and copying/inserting
    code examples.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“聊天中的查看”按钮将在主聊天窗口中显示响应的完整文本（[图 3-23](#output-from-view-in-c)）。你可以滚动查看响应并进行后续提示，选择代码，以及复制/插入代码示例。
- en: '![](assets/lghc_0323.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0323.png)'
- en: Figure 3-23\. Output from the View in Chat option
  id: totrans-159
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-23\. “查看聊天”选项的输出
- en: Other operations initiated from the inline dialog may update code inline in
    the editor. For example, if you ask Copilot to
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 从内联对话框发起的其他操作可能会在编辑器中内联更新代码。例如，如果你要求Copilot
- en: '[PRE6]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: then, as shown in [Figure 3-24](#suggested-changes-for), Copilot produces the
    documentation inline for the selected code.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，如图 [图 3-24](#suggested-changes-for) 所示，Copilot将为选定的代码生成内联文档。
- en: So if the prompt asks Copilot to change an aspect of the editor’s actual code,
    the results are applied directly inline for you to review and to decide whether
    to accept or not. If the prompt asks Copilot for a response that would be an alternative
    to the code in the IDE, such as translating this code to Go or optimizing this
    code, the output can appear either in the interactive chat window (if it is succinct
    enough) or the main output area from chat.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果提示要求Copilot更改编辑器实际代码的某个方面，结果将直接内联应用，以便你进行审查并决定是否接受。如果提示要求Copilot提供替代IDE中代码的响应，例如将此代码翻译为Go或优化此代码，输出可以出现在交互式聊天窗口（如果足够简洁）或聊天的主要输出区域。
- en: '![](assets/lghc_0324.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0324.png)'
- en: Figure 3-24\. Suggested changes for documentation
  id: totrans-165
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-24\. 文档建议的更改
- en: While the main chat panel and the inline editor chat functionality cover most
    use cases, there is one other option for quickly engaging with chat, appropriately
    called *Quick Chat*.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然主聊天面板和内联编辑器聊天功能涵盖了大多数用例，但还有另一个快速参与聊天的方式，恰当地称为“快速聊天”。
- en: Using the Quick Chat Interface
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用快速聊天界面
- en: At times you may want to quickly ask Chat a question or send it a prompt that
    is not about the code in your current editor and that doesn’t warrant switching
    to the full chat panel. To help with that, Copilot includes a *Quick Chat* feature
    that pops up a simple chat dialog at the top of the IDE. [Figure 3-25](#quick-chat)
    shows an example.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 有时你可能想快速向Chat提问或发送一个不是关于当前编辑器中代码的提示，也不需要切换到完整的聊天面板。为了帮助这一点，Copilot包括一个名为“快速聊天”的功能，它会在IDE顶部弹出一个简单的聊天对话框。[图
    3-25](#quick-chat) 展示了一个示例。
- en: '![](assets/lghc_0325.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0325.png)'
- en: Figure 3-25\. Quick Chat
  id: totrans-170
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-25\. 快速聊天
- en: The dialog itself is like the one in the inline editor but is not positioned
    in the editor. This option allows you to interact with Copilot via a prompt and
    then go back to what you were doing. Invoking Quick Chat can be done via a shortcut
    or via the Copilot icon at the top of the VS Code interface. Clicking that icon
    (as shown in [Figure 3-26](#chat-options-in-copil)) shows the options to open
    the main Chat panel, open the Quick Chat dialog, and open the Editor Inline Chat*.*
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框本身就像内联编辑器中的对话框，但不在编辑器中定位。此选项允许您通过提示与 Copilot 交互，然后返回您正在做的事情。通过快捷键或通过 VS Code
    界面顶部的 Copilot 图标调用快速聊天。点击该图标（如图 3-26 所示）显示打开主聊天面板、打开快速聊天对话框和打开编辑器内联聊天的选项。
- en: '![](assets/lghc_0326.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0326.png)'
- en: Figure 3-26\. Chat options in the Copilot menu in the title bar
  id: totrans-173
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-26\. 标题栏中 Copilot 菜单中的聊天选项
- en: Just as we can have more concise chat interfaces, we can have more concise prompts
    by using Copilot shortcuts for typical requests. There are several of these, which
    we’ll explore in the next section.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们可以拥有更简洁的聊天界面一样，我们也可以通过使用 Copilot 的快捷键来简化典型请求的提示。其中有一些，我们将在下一节中探讨。
- en: Chat Shortcuts
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聊天快捷键
- en: GitHub Copilot Chat supports several shortcuts for common types of interactions.
    These shortcuts are referred to as *slash commands* because they start with a
    slash character (/). Slash commands will work when initiated either from the main
    chat window or from the inline chat (*Meta*-I) interface. Not all commands may
    be available in every IDE, but [Table 3-1](#table-slash-command) shows the superset
    of those available at the time of writing.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Copilot Chat 支持多种常见交互类型的快捷键。这些快捷键被称为 *斜杠命令*，因为它们以斜杠字符 (/) 开头。斜杠命令可以从主聊天窗口或内联聊天
    (*Meta*-I) 界面启动。并非所有命令在每个 IDE 中都可用，但 [表 3-1](#table-slash-command) 显示了在撰写本文时可用命令的超集。
- en: Table 3-1\. Copilot slash commands
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3-1\. Copilot 斜杠命令
- en: '| Command | Purpose |'
  id: totrans-178
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 目的 |'
- en: '| --- | --- |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `/clear` | Clear the current conversation |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| `/clear` | 清除当前对话 |'
- en: '| `/doc` | Add comments for selected or specified code |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| `/doc` | 为选定的或指定的代码添加注释 |'
- en: '| `/edit` | Edit the selected code in your active editor |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| `/edit` | 编辑您活动编辑器中选定的代码 |'
- en: '| `/explain` | Generate explanations of how code works |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| `/explain` | 生成代码工作原理的解释 |'
- en: '| `/fix` | Propose a fix for a problem |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| `/fix` | 提出解决问题的方案 |'
- en: '| `/fixTestFailure` | Propose a fix for the failing test |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| `/fixTestFailure` | 提出修复失败的测试的方案 |'
- en: '| `/generate` | Generate code to address a specific ask |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| `/generate` | 生成针对特定请求的代码 |'
- en: '| `/help` | Get help with Copilot |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| `/help` | 获取 Copilot 的帮助 |'
- en: '| `/new` | Scaffold code for a new workspace |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| `/new` | 为新工作区生成代码 |'
- en: '| `/newNotebook` | Create a new Jupyter notebook |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| `/newNotebook` | 创建新的 Jupyter 笔记本 |'
- en: '| `/search` | Search for content with VS Code |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| `/search` | 使用 VS Code 搜索内容 |'
- en: '| `/startDebugging` | Generate launch config and start debugging in VS Code
    |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| `/startDebugging` | 生成 VS Code 的启动配置并开始调试 |'
- en: '| `/tests` | Create unit tests for code |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| `/tests` | 为代码创建单元测试 |'
- en: Limited Feature Parity
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有限的功能兼容性
- en: Different IDEs may only have a subset of these slash commands or even ones that
    aren’t listed here. The currently implemented and supported slash commands can
    change frequently, so always consult the Copilot documentation for your particular
    IDE to understand which ones are available.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的 IDE 可能只有这些斜杠命令的子集，甚至可能没有列出的命令。当前实施和支持的斜杠命令可能会频繁更改，因此请始终查阅您特定 IDE 的 Copilot
    文档，以了解哪些命令可用。
- en: Accessing these commands is straightforward. Simply type the forward slash character
    in one of the chat interfaces, and Copilot will present a list of available commands
    to choose from (see [Figure 3-27](#listing-slash-command)). Note that not all
    shortcut commands are available in the inline chat interface.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 访问这些命令很简单。只需在聊天界面中输入斜杠字符，Copilot 将显示一个可供选择的命令列表（见图 3-27）。请注意，并非所有快捷键命令在内联聊天界面中都可用。
- en: '![](assets/lghc_0327.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0327.png)'
- en: Figure 3-27\. Listing slash commands in the interactive chat
  id: totrans-197
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-27\. 在交互式聊天中列出斜杠命令
- en: You can use the same method in the main chat panel, as shown in [Figure 3-28](#listing-slash-command2).
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在主聊天面板中使用相同的方法，如图 3-28 所示。
- en: '![](assets/lghc_0328.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0328.png)'
- en: Figure 3-28\. Listing slash commands in the main chat panel
  id: totrans-200
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-28\. 主聊天面板中的斜杠命令列表
- en: This is only a brief introduction to the slash commands, but they can be very
    useful. We’ll be exploring particular ones in more detail as we progress through
    the book.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是对斜杠命令的简要介绍，但它们可能非常有用。随着我们通过本书的进展，我们将更详细地探讨一些特定的命令。
- en: Note
  id: totrans-202
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 备注
- en: 'The feature to explain code with Copilot works best in IDEs when you have the
    relevant extension for the language you’re using installed. As of the time of
    this writing, this relates to the VS Code extensions for the following:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Copilot 解释代码的功能在安装了你所使用语言相关扩展的 IDE 中效果最佳。截至本文写作时，这关系到以下 VS Code 扩展：
- en: TypeScript/JavaScript
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TypeScript/JavaScript
- en: Python
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python
- en: Java
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Java
- en: C#
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C#
- en: C++
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C++
- en: Go
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Go
- en: Ruby
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ruby
- en: Included on the same rows as the slash commands in [Figure 3-28](#listing-slash-command2)
    are terms starting with the `@` character. As noted previously, these are referred
    to as *participants* and help identify the *scope* and *domain* where the shortcuts
    can be used. I’ll explain more about these in the next section.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [图 3-28](#listing-slash-command2) 中的斜杠命令同一行包含以 `@` 字符开头的术语。如前所述，这些被称为 *参与者*，有助于识别可以使用快捷键的
    *范围* 和 *领域*。我将在下一节中解释更多关于这些内容。
- en: Chat Participants
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聊天参与者
- en: In GitHub Copilot, *chat participants* are essentially pointers to certain domains.
    By referencing them in your prompt in the chat interface, you are effectively
    telling the AI to scope the prompt to a particular domain and use the participant’s
    knowledge in that domain to generate relevant responses.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GitHub Copilot 中，*聊天参与者* 实际上是某些领域的指针。通过在聊天界面的提示中引用它们，你实际上是在告诉 AI 将提示范围限定在特定领域，并使用该领域参与者的知识来生成相关响应。
- en: 'To reference one of these chat participants, you type the `@` symbol with the
    name of the participant you want to use as part of your prompt. At the time of
    this writing, the following participants are available per the [GitHub documentation](https://oreil.ly/v0714):'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 要引用这些聊天参与者之一，你需要在提示中输入 `@` 符号以及你想要使用的参与者的名称。截至本文写作时，根据 [GitHub 文档](https://oreil.ly/v0714)，以下参与者可用：
- en: '`@workspace`'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '`@workspace`'
- en: Has knowledge about the code in your workspace. Use `@workspace` when you want
    Copilot to consider the structure of your project, how different parts of your
    code interact, or design patterns in your project.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 了解你工作区中的代码。当需要 Copilot 考虑你的项目结构、代码不同部分之间的交互或项目中的设计模式时，使用 `@workspace`。
- en: '`@vscode`'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '`@vscode`'
- en: Has knowledge about VS Code commands and features. Use `@vscode` when you want
    help with VS Code.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 了解 VS Code 命令和功能。当需要帮助时使用 `@vscode`。
- en: '`@terminal`'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '`@terminal`'
- en: Has knowledge about the VS Code terminal shell and its contents. Use `@terminal`
    when you want help creating or debugging terminal commands.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 了解 VS Code 终端外壳及其内容。当需要帮助创建或调试终端命令时使用 `@terminal`。
- en: '`@vision`'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`@vision`'
- en: Allows you to attach an image file to help Copilot understand the question.
    (In preview.)
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 允许你附加图像文件以帮助 Copilot 理解问题。（在预览中。）
- en: '`@github`'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '`@github`'
- en: Allows you to prompt about issues, pull requests, etc. across your repos. (Not
    available in all interfaces.)
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 允许你针对你仓库中的问题、拉取请求等进行提示。（并非所有界面都可用。）
- en: '`@project`'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '`@project`'
- en: (Applicable to JetBrains IDE) Like `@workspace`, knows about the code in your
    project.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: （适用于 JetBrains IDE）与 `@workspace` 类似，了解你的项目中的代码。
- en: Installing Other Chat Participants
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装其他聊天参与者
- en: Beyond the built-in chat participants provided by GitHub, Copilot also allows
    for installing Copilot Extensions that can provide additional custom chat participants.
    We’ll have more to say about these and how you can extend Copilot in [Chapter 10](ch10.html#ch10).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 GitHub 提供的内置聊天参与者之外，Copilot 还允许安装 Copilot 扩展，这些扩展可以提供额外的自定义聊天参与者。我们将在第 10
    章 [Chapter 10](ch10.html#ch10) 中详细介绍这些内容以及如何扩展 Copilot。
- en: Let’s take a deeper dive into some of the common participants.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更深入地探讨一些常见的参与者。
- en: '@workspace'
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '@workspace'
- en: The `@workspace` chat participant is useful when you explicitly want Copilot
    to consider all code that’s part of the workspace as potential sources for the
    chat response. This doesn’t mean that all code will be used and sent as part of
    creating the response. The Copilot extension will consider all the files that
    are part of the workspace to determine which files (or portions of them) may be
    useful for context. The automatic indexing we mentioned before makes this simpler.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 当您明确希望Copilot考虑工作空间中的所有代码作为聊天响应的潜在来源时，`@workspace` 聊天参与者非常有用。这并不意味着所有代码都会被使用并作为创建响应的一部分发送。Copilot扩展将考虑工作空间中的所有文件，以确定哪些文件（或其部分）可能对上下文有用。我们之前提到的自动索引使这变得更加简单。
- en: Suppose we ask Copilot via `@workspace` which files use `import`. Copilot will
    first collect information about the workspace to determine relevant content. When
    done, the chat interface will display a list of references it ultimately decided
    were worth considering for the prompt. This will be at the start of the response.
    As we saw earlier, we can see the list of selected references by expanding the
    “Used references” line. Because we are using the `@workspace` participant, we
    may have more *hits* this time*.* A more extensive set of references resulting
    from a prompt with `@workspace` is shown in [Figure 3-29](#asking-which-files-us).
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们通过 `@workspace` 询问Copilot哪些文件使用了 `import`。Copilot将首先收集有关工作空间的信息以确定相关内容。完成后，聊天界面将显示它最终决定值得考虑的引用列表。这将位于响应的开头。正如我们之前看到的，我们可以通过展开“已使用引用”行来查看所选引用的列表。因为我们使用了
    `@workspace` 参与者，所以我们这次可能会有更多的 *命中*。使用 `@workspace` 的提示产生的更广泛的引用集在 [图3-29](#asking-which-files-us)
    中展示。
- en: '![](assets/lghc_0329.png)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0329.png)'
- en: Figure 3-29\. Asking which files use imports via `@workspace`
  id: totrans-234
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-29\. 通过 `@workspace` 询问使用导入的文件
- en: When the `@workspace` chat participant is used in prompts, we get a response
    that spans the workspace and lists out multiple files.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 当在提示中使用 `@workspace` 聊天参与者时，我们得到一个跨越工作空间并列出多个文件的响应。
- en: Ensuring Changes Are Considered for @workspace
  id: totrans-236
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保更改被考虑用于 @workspace
- en: The `@workspace` functionality is referencing the saved content in your codebase,
    so it’s important to save any changes or new content you want to be considered
    by the chat participant before you execute the prompt.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '`@workspace` 功能正在引用代码库中保存的内容，因此在执行提示之前，保存任何您希望聊天参与者考虑的更改或新内容是很重要的。'
- en: 'Using `@workspace`, we can ask more general questions about a set of code.
    This can be especially advantageous for finding information about content we’re
    not familiar with. For example, we can ask generic questions like these:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `@workspace`，我们可以就一组代码提出更一般的问题。这在我们不熟悉的内容上查找信息时特别有利。例如，我们可以提出如下通用问题：
- en: What kind of backend is used in this project?
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个项目中使用了哪种后端？
- en: How do I run this code?
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我该如何运行这段代码？
- en: Where do I use *X*?
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我在哪里使用 *X*？
- en: What service do I use to do *Y*?
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我该使用哪种服务来做 *Y*？
- en: Which frameworks are being used?
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正在使用哪些框架？
- en: '[Figure 3-30](#another-example-of-us) shows an example of using that last query
    to gather information.'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '[图3-30](#another-example-of-us) 展示了使用最后一个查询来收集信息的示例。'
- en: '![](assets/lghc_0330.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0330.png)'
- en: Figure 3-30\. Another example of using the `@workspace` participant
  id: totrans-246
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-30\. 使用 `@workspace` 参与者的另一个示例
- en: Shortcut for Adding @workspace
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加 @workspace 的快捷方式
- en: If you use *Meta*-Enter (versus just Enter) when you submit your query in chat,
    it will automatically add the `@workspace` participant to your prompt.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在聊天中提交查询时使用 *Meta*-Enter（而不是只是Enter），它将自动将 `@workspace` 参与者添加到您的提示中。
- en: Whereas `@workspace` provides context around our set of code, the chat participant
    `@vscode` can help with any questions or prompts related to using VS Code.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 `@workspace` 为我们的代码集提供了上下文，但聊天参与者 `@vscode` 可以帮助解决与使用VS Code相关的任何问题或提示。
- en: '@vscode'
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '@vscode'
- en: 'The `@vscode` chat participant (specific to the VS Code IDE) acts as a domain
    expert on VS Code commands and customizations. By using it in the Copilot chat
    interface, you can ask questions about VS Code via natural language. As implemented,
    it has access to the index of all the settings and commands for the application.
    With this participant, you can ask questions in the GitHub Copilot Chat interface
    like these:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '`@vscode` 聊天参与者（特定于VS Code IDE）在VS Code命令和自定义方面充当领域专家。通过在Copilot聊天界面中使用它，您可以通过自然语言提出关于VS
    Code的问题。根据实现，它有权访问应用程序的所有设置和命令索引。使用这个参与者，您可以在GitHub Copilot聊天界面中提出如下问题：'
- en: How can I open a project in VS Code?
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我该如何在VS Code中打开一个项目？
- en: How can I install extensions in VS Code?
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我如何在VS Code中安装扩展？
- en: How can I create a new file in VS Code?
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我如何在VS Code中创建新文件？
- en: How can I change the theme in VS Code?
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我如何在VS Code中更改主题？
- en: '[Figure 3-31](#using-vscode-in-chat) shows an example of using the `@vscode`
    chat participant to find out how to change VS Code defaults.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '[图3-31](#using-vscode-in-chat)展示了使用`@vscode`聊天参与者来查找如何更改VS Code默认设置的示例。'
- en: '![](assets/lghc_0331.png)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0331.png)'
- en: Figure 3-31\. Using `@vscode` in chat
  id: totrans-258
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-31\. 在聊天中使用`@vscode`
- en: In this image, you can also see that Copilot included a link to get to a different
    interface—the Command Palette—as a shortcut to access functionality. Clicking
    that button in the chat output opens up the entry as shown at the top of the figure.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在此图像中，你还可以看到Copilot包含了一个链接，以获取不同的界面——命令面板——作为访问功能的快捷方式。点击聊天输出中的该按钮将打开如图顶部所示的条目。
- en: 'As another example of using this participant, you might want to understand
    more about how to debug using your IDE. So you can enter the query:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 作为使用此参与者的另一个例子，你可能想了解如何使用你的IDE进行调试的更多内容。因此，你可以输入以下查询：
- en: '[PRE7]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The last participant we’ll cover is `@terminal`, which as the name suggests,
    is useful for terminal interactions.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要介绍的最后一个参与者是`@terminal`，正如其名称所暗示的，它对于终端交互非常有用。
- en: '@terminal'
  id: totrans-263
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '@terminal'
- en: 'The `@terminal` participant allows you to query Copilot about the integrated
    terminal shell, its buffer, and the current selection in the terminal. This is
    convenient to understand more about what’s been done in the terminal, help clarify
    any issues, and come up with the commands you need. Examples of questions/prompts
    you could do with this one include the following:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '`@terminal`参与者允许你查询Copilot关于集成终端shell、其缓冲区和终端中的当前选择。这有助于了解在终端中做了什么，帮助澄清任何问题，并想出你需要执行的命令。你可以使用以下问题/提示的示例包括以下内容：'
- en: What did the last command do?
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上一个命令做了什么？
- en: Explain the command
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解释命令
- en: How do I...?
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我该如何...？
- en: '[Figure 3-32](#terminal-chat-partic) shows a simple example of using the chat
    participant to ask how to do a task with a command in the terminal. If you hover
    over the output command, you’ll have a pop-up control on the right to insert the
    response directly in the terminal.'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '[图3-32](#terminal-chat-partic)展示了使用聊天参与者询问如何在终端中使用命令执行任务的简单示例。如果你悬停在输出命令上，你将在右侧获得一个弹出控制，可以直接在终端中插入响应。'
- en: '![](assets/lghc_0332.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0332.png)'
- en: Figure 3-32\. The `@terminal` chat participant
  id: totrans-270
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-32\. `@terminal`聊天参与者
- en: You can also use this participant to ask Copilot for help on common workflows
    you would execute in the terminal. For example, you might use the terminal participant
    to ask how you could commit your code by using Git through the command line.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用此参与者向Copilot请求在终端中执行常见工作流程的帮助。例如，你可能使用终端参与者来询问如何通过命令行使用Git提交你的代码。
- en: Most slash commands default to one of the chat participants as the domain to
    run the command in. As an example, relative to the earlier VS Code debug example,
    the `@vscode` participant has the slash command `/startDebugging` associated with
    it ([Figure 3-33](#participants-and-thei)). So if you enter `/startDebugging`
    in the chat query box, `@vscode` will automatically be prefixed to it ([Figure 3-34](#automatic-insertion-vscode)).
    This means that the `/startDebugging` command is currently only relevant if you’re
    referencing VS Code.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数斜杠命令默认将一个聊天参与者作为运行命令的域。例如，相对于之前的VS Code调试示例，`@vscode`参与者与斜杠命令`/startDebugging`相关联（[图3-33](#participants-and-thei)）。因此，如果你在聊天查询框中输入`/startDebugging`，`@vscode`将自动添加到它前面（[图3-34](#automatic-insertion-vscode)）。这意味着`/startDebugging`命令目前仅在引用VS
    Code时相关。
- en: '![](assets/lghc_0333.png)'
  id: totrans-273
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0333.png)'
- en: Figure 3-33\. Participants and their associated slash commands
  id: totrans-274
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-33\. 参与者及其关联的斜杠命令
- en: '![](assets/lghc_0334.png)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0334.png)'
- en: Figure 3-34\. Automatic insertion of `@vscode` when `/startDebugging` is selected
  id: totrans-276
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-34\. 选择`/startDebugging`时自动插入`@vscode`
- en: '[Table 3-2](#slash-commands-and-co) shows the mappings between the shortcut
    commands and the participants as well as the intended function of each.'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '[表3-2](#slash-commands-and-co)展示了快捷命令与参与者之间的映射以及每个参与者的预期功能。'
- en: Table 3-2\. Slash commands and context in Copilot
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 表3-2\. Copilot中的斜杠命令和上下文
- en: '| Command | Participant | Function from Copilot |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 参与者 | Copilot的功能 |'
- en: '| --- | --- | --- |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `/explain` | `@terminal` | Explain something that occurred in the terminal
    |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '| `/explain` | `@terminal` | 解释在终端中发生的事情 |'
- en: '| `/search` | `@vscode` | Generate query parameters for the Search view |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '| `/search` | `@vscode` | 为搜索视图生成查询参数|'
- en: '| `/startDebugging` | `@vscode` | Generate launch config and start debugging
    in VS Code (experimental) |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '| `/startDebugging` | `@vscode` | 在VS Code中生成启动配置并开始调试（实验性）|'
- en: '| `/explain` | `@workspace` | Explain how the active code works |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '| `/explain` | `@workspace` | 解释活动代码的工作方式|'
- en: '| `/fix` | `@workspace` | Propose a fix for bugs in your code |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| `/fix` | `@workspace` | 为您的代码中的错误提出修复方案|'
- en: '| `/fixTestFailure` | `@workspace` | Propose a fix for the failing test |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| `/fixTestFailure` | `@workspace` | 为失败的测试提出修复方案|'
- en: '| `/new` | `@workspace` | Scaffold code for a new workspace or new file |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| `/new` | `@workspace` | 为新的工作区或新文件搭建代码框架|'
- en: '| `/newNotebook` | `@workspace` | Scaffold a new Jupyter notebook by using
    natural language |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '| `/newNotebook` | `@workspace` | 通过自然语言搭建新的Jupyter笔记本|'
- en: '| `/setupTests` | `@workspace` | Set up tests in your project (experimental)
    |'
  id: totrans-289
  prefs: []
  type: TYPE_TB
  zh: '| `/setupTests` | `@workspace` | 在您的项目中设置测试（实验性）|'
- en: '| `/tests` | `@workspace` | Generate unit tests for code |'
  id: totrans-290
  prefs: []
  type: TYPE_TB
  zh: '| `/tests` | `@workspace` | 为代码生成单元测试|'
- en: '| `/help` |   | Get help about using GitHub Copilot |'
  id: totrans-291
  prefs: []
  type: TYPE_TB
  zh: '| `/help` |   | 获取有关使用GitHub Copilot的帮助信息|'
- en: '| `/clear` |   | Start a new chat session |'
  id: totrans-292
  prefs: []
  type: TYPE_TB
  zh: '| `/clear` |   | 开始新的聊天会话|'
- en: Participants can refine context at a broad level. However, at times you might
    need to specify context for Copilot at a more targeted level. When that’s the
    case, you can use identifiers to specify a file, content in the editor, a selection,
    etc. These identifiers are called *chat variables*.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 参与者可以在较广泛的层面上细化上下文。然而，有时您可能需要更具体地针对Copilot指定上下文。在这种情况下，您可以使用标识符来指定文件、编辑器中的内容、选择等。这些标识符被称为*聊天变量*。
- en: Chat Variables
  id: totrans-294
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聊天变量
- en: Chat variables provide a way to further refine context within the text of the
    prompt itself. They can target items in the editor, a specific file, your Git
    repository, terminal commands and more. To reference a chat variable in a prompt
    in the chat interface, you indicate it with the `#` symbol. For example, `#terminalSelection`
    pulls in the active terminal’s selection.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 聊天变量提供了一种在提示文本本身中进一步细化上下文的方法。它们可以针对编辑器中的项目、特定文件、您的Git仓库、终端命令等。要在聊天界面的提示中引用聊天变量，您可以使用`#`符号来指示。例如，`#terminalSelection`会拉入活动终端的选择。
- en: '[Table 3-3](#description-of-chat-v) lists the chat variables that are available
    at the time of this writing. (See [the VS Code documentation](https://oreil.ly/0s5TM)
    for the latest info.) The Description column lists the content that is added from
    the project as context for your prompt.'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '[表3-3](#description-of-chat-v) 列出了在撰写本文时可供使用的聊天变量。（有关最新信息，请参阅[VS Code 文档](https://oreil.ly/0s5TM)。描述列列出了从项目中添加的内容，作为您提示的上下文。）'
- en: Table 3-3\. Chat variables
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 表3-3\. 聊天变量
- en: '| Chat variable | Description |'
  id: totrans-298
  prefs: []
  type: TYPE_TB
  zh: '| 聊天变量 | 描述 |'
- en: '| --- | --- |'
  id: totrans-299
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `#changes` | List of source control changes |'
  id: totrans-300
  prefs: []
  type: TYPE_TB
  zh: '| `#changes` | 源代码控制变更列表|'
- en: '| `#codebase` | Relevant content found in your workspace |'
  id: totrans-301
  prefs: []
  type: TYPE_TB
  zh: '| `#codebase` | 在您的工作区中找到的相关内容|'
- en: '| `#fetch` | Content from a web page by providing its URL |'
  id: totrans-302
  prefs: []
  type: TYPE_TB
  zh: '| `#fetch` | 通过提供其URL从网页获取内容|'
- en: '| `#file` | A specified file you pick or specify from your workspace |'
  id: totrans-303
  prefs: []
  type: TYPE_TB
  zh: '| `#file` | 您从工作区中选择或指定的指定文件|'
- en: '| `#*<filename>*` | Provides a list of files (matching characters you type
    after `#`) to choose from |'
  id: totrans-304
  prefs: []
  type: TYPE_TB
  zh: '| `#*<filename>*` | 提供一个文件列表（匹配您在`#`之后输入的字符）以供选择|'
- en: '| `#folder` | The specified folder and all files in it |'
  id: totrans-305
  prefs: []
  type: TYPE_TB
  zh: '| `#folder` | 指定的文件夹及其中的所有文件|'
- en: '| `#problems` | Workspace issues and problems from the Problems panel; useful
    as context for debugging or fixing code |'
  id: totrans-306
  prefs: []
  type: TYPE_TB
  zh: '| `#problems` | 来自问题面板的工作区问题和问题；作为调试或修复代码的上下文很有用|'
- en: '| `#searchResults` | Results from a search query performed within your workspace
    |'
  id: totrans-307
  prefs: []
  type: TYPE_TB
  zh: '| `#searchResults` | 在您的工作区中执行搜索查询的结果|'
- en: '| `#selection` | The currently selected text in the editor—will add it as *`<filename:lines>`*
    |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '| `#selection` | 编辑器中当前选中的文本——将作为 *`<filename:lines>`* 添加|'
- en: '| `#sym` | The current symbol |'
  id: totrans-309
  prefs: []
  type: TYPE_TB
  zh: '| `#sym` | 当前符号|'
- en: '| `#*<symbol>*` | Provides a list of symbols (matching characters you type
    after `#`) to choose from |'
  id: totrans-310
  prefs: []
  type: TYPE_TB
  zh: '| `#*<symbol>*` | 提供一个符号列表（匹配您在`#`之后输入的字符）以供选择|'
- en: '| `#terminalLastCom⁠mand` | Active terminal’s last run command |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '| `#terminalLastCom⁠mand` | 活动终端的最后一次运行命令|'
- en: '| `#terminalSelection` | Active terminal’s selection |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '| `#terminalSelection` | 活动终端的选择|'
- en: '| `#testFailure` | Adds information about test failures to aid in diagnosing
    and fixing tests |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| `#testFailure` | 添加有关测试失败的信息，以帮助诊断和修复测试|'
- en: '| `#usages` | Combines Find All References, Find Implementation, and Go to
    Definition |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '| `#usages` | 结合查找所有引用、查找实现和转到定义|'
- en: '| `#vscodeAPI` | Adds VS Code API to answer questions about VS Code extension
    development |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '| `#vscodeAPI` | 将VS Code API添加到回答有关VS Code扩展开发的问题 |'
- en: You can easily get access to the chat variables by simply typing `#` in your
    prompt. When you do that, Copilot will bring up a list of available variables
    ([Figure 3-35](#chat-variables)).
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在提示中简单地输入`#`来轻松访问聊天变量。当你这样做时，Copilot会弹出一个可用变量的列表（[图3-35](#chat-variables)）。
- en: '![](assets/lghc_0335.png)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0335.png)'
- en: Figure 3-35\. Chat variables
  id: totrans-318
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-35\. 聊天变量
- en: After this, you can select a relevant item (such as a file) from the provided
    list ([Figure 3-36](#selecting-a-file-from)).
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，你可以从提供的列表中选择一个相关项目（例如文件）（[图3-36](#selecting-a-file-from)）。
- en: '![](assets/lghc_0336.png)'
  id: totrans-320
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0336.png)'
- en: Figure 3-36\. Selecting a file from a populated list
  id: totrans-321
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-36\. 从填充的列表中选择文件
- en: 'You can also combine participants, shortcut commands, and variables together
    in prompts. [Figure 3-38](#focusing-on-selection) shows an example of asking Copilot
    to explain a selection in a file. Note that it automatically filled in the `@workspace`
    participant, so that the prompt became `@workspace /explain #selection`. This
    shows an example of using a combination of a chat participant, a shortcut command,
    and a chat variable.'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '你也可以在提示中将参与者、快捷命令和变量组合在一起。[图3-38](#focusing-on-selection)展示了请求Copilot解释文件中选择的示例。注意，它自动填充了`@workspace`参与者，因此提示变成了`@workspace
    /explain #selection`。这展示了使用聊天参与者、快捷命令和聊天变量的组合示例。'
- en: If you look at the references used, Copilot ended up focusing on the selection
    and another part of the file it needed to produce a response. Copilot then produced
    an explanation for the more targeted context (the selected text) as requested.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你查看使用的参考，Copilot最终关注了选择和文件中的另一部分，它需要生成响应。然后，Copilot根据请求为更具体的环境（选定的文本）生成了解释。
- en: '![](assets/lghc_0338.png)'
  id: totrans-324
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0338.png)'
- en: Figure 3-38\. Using a chat participant and chat variable to help specify context
  id: totrans-325
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-38\. 使用聊天参与者和聊天变量来帮助指定上下文
- en: 'Making sure that Copilot is considering the context you intend can sometimes
    be challenging. The key is looking at Copilot’s response to see if:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 确保Copilot考虑到了你想要的环境有时可能具有挑战性。关键是查看Copilot的响应，看看：
- en: Copilot used the reference(s) you expected
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Copilot使用了你预期的参考（s）
- en: The response Copilot supplied is *generic* advice or is specific to the structure
    or content within your workspace
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Copilot提供的响应是*通用的*建议，或者特定于你的工作空间中的结构或内容
- en: Those two attributes of the response will help you quickly identify if Copilot
    is targeting the content you intended or if you need to use one of the approaches
    outlined in this section to steer it more precisely.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个响应属性将帮助你快速判断Copilot是否针对你想要的内容，或者你是否需要使用本节中概述的方法来更精确地引导它。
- en: There’s one more chat interface that you can also use when interacting with
    Copilot. This one is targeted for operations that you do in the terminal.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 在与Copilot交互时，你还可以使用另一个聊天界面。这个界面针对你在终端中执行的操作。
- en: Chat in the Terminal
  id: totrans-331
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 终端中的聊天
- en: Copilot provides dedicated, terminal-focused chat functionality. When you’re
    in a terminal, such as in VS Code, using the same *Meta*-I shortcut brings up
    a shortcut dialog for typing in prompts that are directed to the terminal. [Figure 3-39](#terminal-query-dialog)
    shows the shortcut dialog that comes up in this case.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot提供了针对终端的专用聊天功能。当你处于终端中，例如在VS Code中，使用相同的*Meta*-I快捷键会弹出一个快捷对话框，用于输入指向终端的提示。[图3-39](#terminal-query-dialog)展示了在这种情况下出现的快捷对话框。
- en: '![](assets/lghc_0339.png)'
  id: totrans-333
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0339.png)'
- en: Figure 3-39\. The terminal query dialog
  id: totrans-334
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-39\. 终端查询对话框
- en: You can enter a prompt such as “How do I commit my changes with Git?” and see
    the commands you need to run in the terminal. In addition, you have options to
    run them, view the output in chat, and more (see [Figure 3-40](#chat-in-terminal)).
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以输入一个提示，例如“我如何使用Git提交我的更改？”然后查看在终端中需要运行的命令。此外，你还有选项运行它们，在聊天中查看输出，等等（见[图3-40](#chat-in-terminal)）。
- en: '![](assets/lghc_0340.png)'
  id: totrans-336
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0340.png)'
- en: Figure 3-40\. Viewing Chat in the terminal
  id: totrans-337
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-40\. 在终端中查看聊天
- en: Creating Custom Code-Generation Instructions
  id: totrans-338
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建自定义代码生成指令
- en: In [Chapter 2](ch02.html#ch02), I mentioned that you could create custom instructions
    for Copilot code reviews. You can also create custom instructions to guide how
    Copilot generates code responses. Note, however, these custom instructions do
    not apply to inline code suggestions in the editor.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第2章](ch02.html#ch02)中，我提到你可以为Copilot代码审查创建自定义指令。你还可以创建自定义指令来指导Copilot如何生成代码响应。请注意，然而，这些自定义指令不适用于编辑器中的内联代码建议。
- en: As with the custom review instructions, you can accomplish this in three ways.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 与自定义审查指令一样，你可以通过三种方式完成这项任务。
- en: 'First, you can edit the *settings.json* file and add custom instructions under
    `git⁠hub.​copilot.chat.codeGeneration.instructions`. Here’s an example of a rule
    you can add:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你可以编辑*settings.json*文件，并在`git⁠hub.​copilot.chat.codeGeneration.instructions`下添加自定义指令。以下是你可以添加的规则示例：
- en: '[PRE8]'
  id: totrans-342
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: After adding the rule in the user settings file, you can tell Copilot to review
    the same code again. This time, it flags the condition you specified in the settings
    file, as shown in [Figure 2-24](ch02.html#flagged-issue-from-se).
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 在用户设置文件中添加规则后，你可以告诉Copilot再次审查相同的代码。这次，它会标记设置文件中指定的条件，如图[图2-24](ch02.html#flagged-issue-from-se)所示。
- en: Second, you can create a Markdown file in your repository or project with the
    specific path and name of *.github/copilot-instructions.md*.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，你可以在你的仓库或项目中创建一个名为*.github/copilot-instructions.md*的Markdown文件，并指定具体的路径和名称。
- en: 'Here’s an example of what this file might look like with the same rules:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个示例，展示了使用相同规则的这个文件可能的样子：
- en: '[PRE9]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'If you prefer to use a different path or name for the Markdown file, you can
    create it and then reference it in the *settings.json* file with a `file:` key.
    For example, if you named it *.docs/code-style.md*, you could point Copilot to
    it with the following entry in the settings file:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你更喜欢使用不同的路径或名称来命名Markdown文件，你可以创建它，然后在*settings.json*文件中使用`file:`键引用它。例如，如果你将其命名为*.docs/code-style.md*，你可以在设置文件中使用以下条目指向Copilot：
- en: '[PRE10]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Let’s look at an example without custom code-generation instructions. Say you
    prompt Copilot to create a minimal TypeScript class with a private variable ([Figure 3-41](#minimal-typescript-cl)).
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一个没有自定义代码生成指令的例子。假设你提示Copilot创建一个包含私有变量的最小TypeScript类([图3-41](#minimal-typescript-cl))。
- en: Assume you then add custom instructions via one of the approaches just outlined.
    With those in place, if you execute the same prompt, you’ll get a result like
    the one shown in [Figure 3-42](#minimal-typescript-cl2).
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你通过刚刚概述的方法之一添加了自定义指令。有了这些，如果你执行相同的提示，你会得到如图[图3-42](#minimal-typescript-cl2)所示的结果。
- en: '![](assets/lghc_0341.png)'
  id: totrans-351
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0341.png)'
- en: Figure 3-41\. A minimal TypeScript class without custom code-generation instructions
  id: totrans-352
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-41\. 没有自定义代码生成指令的最小TypeScript类
- en: '![](assets/lghc_0342.png)'
  id: totrans-353
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0342.png)'
- en: Figure 3-42\. A minimal TypeScript class with custom code-generation instructions
  id: totrans-354
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-42\. 带有自定义代码生成指令的最小TypeScript类
- en: Notice in this version, the code is commented and the private variable name
    starts with an underscore, following the directions we put in place for the custom
    code-generation instructions.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 注意在这个版本中，代码被注释，私有变量名称以下划线开头，这是根据我们为自定义代码生成指令设定的方向。
- en: Finally, before we leave this chapter, it’s worth saying a few words about dealing
    with hallucinations and bad answers that may come back from the AI models used
    by Copilot.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在我们离开这一章之前，值得说几句关于处理Copilot使用的AI模型可能返回的幻觉和错误答案。
- en: Dealing with Hallucinations and Bad Answers
  id: totrans-357
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理幻觉和错误答案
- en: In spite of all the context we may supply to Copilot, the underlying AI models
    could still include hallucinations and produce bad answers in their responses.
    Spotting these in chat requires a critical eye and some methodical checks.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们可能向Copilot提供所有这些上下文，但底层的AI模型仍然可能包含幻觉并在其响应中产生错误答案。在聊天中识别这些需要敏锐的观察和一些系统性的检查。
- en: Hallucinations occur when Copilot generates code, explanations, or facts that
    sound plausible but are incorrect, unsupported, or entirely fabricated. Common
    signs include references to nonexistent functions, APIs, or fields, as well as
    code that simply doesn’t compile or align with your project’s contents. Sometimes
    Copilot may invent details about your codebase or misinterpret your requirements,
    leading to outputs that look correct at first glance but fail upon closer inspection.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 当Copilot生成看似合理但实际上错误、无依据或完全虚构的代码、解释或事实时，就会发生幻觉。常见的迹象包括对不存在的函数、API或字段的引用，以及无法编译或与你的项目内容不一致的代码。有时Copilot可能会发明关于你的代码库的细节或误解你的要求，导致输出在初次看起来正确，但在仔细检查时失败。
- en: To identify these issues, start by carefully reviewing Copilot’s responses for
    technical accuracy and consistency with your codebase. If Copilot suggests a function
    or field you don’t recognize, check your project files or documentation to confirm
    whether it actually exists. Be wary of results with overly confident explanations
    or code that seems too generic or unrelated to your context.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 为了识别这些问题，首先仔细审查Copilot的回复在技术准确性和与你的代码库的一致性方面。如果Copilot建议一个你不知道的函数或字段，检查你的项目文件或文档以确认它实际上是否存在。对于解释过于自信或代码看起来过于通用或不相关于你的上下文的结果要小心。
- en: 'Testing the generated code is crucial: try running it, adding unit tests, or
    checking if it integrates smoothly with your existing code. (Testing with Copilot
    is covered in [Chapter 5](ch05.html#ch05).) If you notice silent failures or vague
    responses, that’s also a red flag that Copilot may be struggling to provide a
    grounded answer.'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 测试生成的代码至关重要：尝试运行它，添加单元测试，或检查它是否与现有的代码顺利集成。（使用Copilot进行测试的内容在[第5章](ch05.html#ch05)中介绍。）如果你注意到静默失败或模糊的响应，这也是一个警告标志，表明Copilot可能难以提供基于事实的答案。
- en: 'When you suspect hallucinations or bad answers, here are some approaches to
    handle them:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 当你怀疑出现幻觉或不良答案时，以下是一些处理方法：
- en: Verify all AI-generated content before using it.
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用之前，验证所有由AI生成的内容。
- en: Cross-reference Copilot’s suggestions with trusted documentation or reliable
    sources.
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将Copilot的建议与受信任的文档或可靠来源进行交叉引用。
- en: If more validation is needed, use fact-checking tools or plug-ins that can validate
    the information against external databases or web sources.
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果需要更多的验证，使用事实核查工具或插件，这些工具或插件可以将信息与外部数据库或网络来源进行验证。
- en: 'To reduce the chances of encountering these in the first place, consider these
    strategies:'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减少最初遇到这些问题的可能性，考虑以下策略：
- en: If possible, break down complex prompts into smaller, more manageable questions
    to reduce ambiguity and help Copilot focus on specific tasks.
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果可能，将复杂的提示分解成更小、更易于管理的部分，以减少歧义并帮助Copilot专注于特定任务。
- en: Iteratively refine your prompts based on the responses you receive.
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据你收到的回复，迭代地完善你的提示。
- en: Don’t hesitate to discard or revise outputs that seem questionable.
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于看起来可疑的输出，不要犹豫，将其丢弃或修改。
- en: Ultimately, treat Copilot as a helpful assistant rather than an infallible authority.
    By combining careful review, testing, and external validation, you can minimize
    the impact of hallucinations and ensure the quality and reliability of your code
    and documentation.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，将Copilot视为一个有用的助手，而不是一个不可犯错的权威。通过结合仔细审查、测试和外部验证，你可以最大限度地减少幻觉的影响，并确保代码和文档的质量和可靠性。
- en: Conclusion
  id: totrans-371
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: As you can see, the chat interface for Copilot provides a much larger degree
    of flexibility in terms of conversational input and output than the inline code
    completion functionality. Chat does this with the trade-off of more verbose content
    to wade through and a longer response time as it analyzes more content for context
    and generates more extensive suggestions.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，Copilot的聊天界面在对话输入和输出方面提供了比内联代码补全功能更大的灵活性。聊天界面通过牺牲更冗长的内容来处理，以及分析更多内容以获取上下文和生成更广泛的建议，从而带来更长的响应时间。
- en: If you are focused on writing code inline in the editor and do not need to have
    conversations with Copilot, but rather just want to see its immediate coding suggestions,
    you don’t have to access the chat interface.
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你专注于在编辑器中内联编写代码，并且不需要与Copilot进行对话，而是只想看到它的即时编码建议，你不需要访问聊天界面。
- en: On the other hand, if you need to ask Copilot something or need more results
    than are available through the inline interactions, Chat is a powerful tool. This
    is especially true when you incorporate the additional capabilities of chat participants
    and chat references to focus Copilot on the pieces you are most interested in.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，如果你需要向Copilot提问或者需要比内联交互提供的更多结果，那么Chat（聊天）是一个强大的工具。这尤其适用于当你结合聊天参与者和聊天参考的额外功能，以将Copilot的焦点集中在你最感兴趣的部分时。
- en: Now that you have a core understanding of what Copilot is and how to interact
    with it, we can move on to some of the advanced features for editing and autonomous
    workflows it provides for use in the IDE. These features can save you time and
    effort and do some impressive automation.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经对Copilot是什么以及如何与之交互有了核心理解，我们可以继续探讨它在IDE中使用时提供的某些高级功能，这些功能可以节省你的时间和精力，并实现一些令人印象深刻的自动化。
