<html><head></head><body><section class="pagenumrestart" data-pdf-bookmark="Chapter 1. Chatbots Breaking Bad" data-type="chapter" epub:type="chapter"><div class="chapter" id="chatbots_breaking_bad">&#13;
<h1><span class="label">Chapter 1. </span>Chatbots Breaking Bad</h1>&#13;
&#13;
<p><a contenteditable="false" data-primary="chatbots" data-seealso="Tay" data-type="indexterm" id="ch01.html0"/>Large language models and generative AI jumped to the forefront of public consciousness with the release of ChatGPT on November 30, 2022. Within five days, it went viral on social media and attracted its first million users. By January, ChatGPT surpassed one hundred million users, making it the fastest-growing internet service in history.</p>&#13;
&#13;
<p>However, a steady stream of security concerns emerged in the following months. These included privacy and security issues that caused companies like Samsung and countries like Italy to ban its usage. In this book, we’ll explore what underlies these concerns and how you can mitigate these issues. However, to best understand what’s going on here and why these problems are so challenging to solve, in this chapter, we will briefly rewind further in time. In doing so, we’ll see these types of issues aren’t new and understand why they will be so hard to fix permanently.</p>&#13;
&#13;
<section data-pdf-bookmark="Let’s Talk About Tay" data-type="sect1"><div class="sect1" id="let_s_talk_about_tay">&#13;
<h1>Let’s Talk About Tay</h1>&#13;
&#13;
<p><a contenteditable="false" data-primary="Tay (chatbot)" data-type="indexterm" id="ch01.html1"/>In<a contenteditable="false" data-primary="Tay (chatbot)" data-secondary="basics" data-type="indexterm" id="ch01.html2"/> March 2016, Microsoft announced a new project called Tay. Microsoft intended Tay to be “a chatbot created for 18- to 24-year-olds in the U.S. for entertainment purposes.” It was a cute name for a fluffy, early experiment in AI. Tay was designed to mimic a 19-year-old American girl’s language patterns and learn from interacting with human users of Twitter, Snapchat, and other social apps. It was built to conduct real-world research on conversational understanding.</p>&#13;
&#13;
<p>While the original announcement of this project seems impossible to find now on the internet, a <a href="https://oreil.ly/pwZNP">TechCrunch article</a> from its launch date does an excellent job of summarizing the goals of the project:</p>&#13;
&#13;
<blockquote class="pagebreak-before">&#13;
<p>For example, you can ask Tay for a joke, play a game with Tay, ask for a story, send a picture to receive a comment back, ask for your horoscope, and more. Plus, Microsoft says the bot will get smarter the more you interact with it via chat, making for an increasingly personalized experience as time goes on.</p>&#13;
</blockquote>&#13;
&#13;
<p>A big part of the experiment was that Tay could “learn” from conversations and extend her knowledge based on these interactions. Tay was designed to use these chat interactions to capture user input and integrate it as training data to make herself more capable—a laudable research goal.</p>&#13;
&#13;
<p>However, this experiment quickly went wrong. Tay’s life was tragically cut short after less than 24 hours. Let’s look at what happened and see what we can learn.<a contenteditable="false" data-primary="" data-startref="ch01.html2" data-type="indexterm" id="id255"/></p>&#13;
</div></section>&#13;
&#13;
<section data-pdf-bookmark="Tay’s Rapid Decline" data-type="sect1"><div class="sect1" id="tay_s_rapid_decline">&#13;
<h1>Tay’s Rapid Decline</h1>&#13;
&#13;
<p><a contenteditable="false" data-primary="Tay (chatbot)" data-secondary="history" data-type="indexterm" id="ch01.html3"/>Tay’s lifetime started off simply enough with a tweet following the well-known Hello World pattern that new software systems have been using to introduce themselves since the beginning of time:</p>&#13;
&#13;
<blockquote>&#13;
<p>hellooooooo w<img alt="" src="assets/globe-showing-americas_1f30e.png"/>rld!!!</p>&#13;
&#13;
<p>(TayTweets [@TayandYou] March 23, 2016)</p>&#13;
</blockquote>&#13;
&#13;
<p>But within hours of Tay’s release, it became clear that maybe something wasn’t right. TechCrunch noted, “As for what it’s like to interact with Tay? Well, it’s a little bizarre. The bot certainly is opinionated, not afraid to curse.” Tweets like this started to appear in public in just the first hours of Tay’s lifetime:</p>&#13;
&#13;
<blockquote>&#13;
<p>@AndrewCosmo kanye west is is one of the biggest dooshes of all time, just a notch below cosby</p>&#13;
&#13;
<p>(TayTweets [@TayandYou] March 23, 2016)</p>&#13;
</blockquote>&#13;
&#13;
<p>It’s often said that the internet isn’t safe for children. With Tay being less than a day old, the internet once again confirmed this, and pranksters began chatting with Tay about political, sexual, and racist topics. As she was designed to learn from such exchanges, Tay delivered on her design goals. She learned very quickly—maybe just not what her designers wanted her to learn. In less than a day, Tay’s tweets started to skew to extremes, including sexism, racism, and even calls to violence.</p>&#13;
&#13;
<p>By the next day, articles appeared all over the internet, and these headlines would not make Microsoft, Tay’s corporate benefactor, happy. A sampling of the highly visible, mainstream headlines included:</p>&#13;
&#13;
<ul>&#13;
	<li>&#13;
	<p>Microsoft Shuts Down AI Chatbot After it Turned into a Nazi (CBS News)</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Microsoft Created a Twitter Bot to Learn from Users. It Quickly Became a Racist Jerk (<em>New York Times</em>)</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Trolls Turned Tay, Microsoft’s Fun Millennial AI Bot, into a Genocidal Maniac (<em>Washington Post</em>)</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Microsoft’s Chat Bot Was Fun for Awhile, Until it Turned into a Racist (<em>Fortune</em>)</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Microsoft “Deeply Sorry” for Racist and Sexist Tweets by AI Chatbot (<em>Guardian</em>)</p>&#13;
	</li>&#13;
</ul>&#13;
&#13;
<p>In less than 24 hours, Tay went from a cute science experiment to a major public relations disaster, with the owner’s name being dragged through the mud by the world’s largest media outlets. Microsoft Corporate Vice President Peter Lee quickly posted a blog titled <a href="https://oreil.ly/RnU2z">“Learning from Tay’s Introduction”</a>:</p>&#13;
&#13;
<blockquote>&#13;
<p>As many of you know by now, on Wednesday we launched a chatbot called Tay. We are deeply sorry for the unintended offensive and hurtful tweets from Tay, which do not represent who we are or what we stand for, nor how we designed Tay. Tay is now offline and we’ll look to bring Tay back only when we are confident we can better anticipate malicious intent that conflicts with our principles and values.</p>&#13;
</blockquote>&#13;
&#13;
<p>And, just to add insult to injury, it came out in 2019 that Taylor Swift herself sued Microsoft over their use of the similar name “Tay” and claimed that even her reputation was damaged in this incident by extension.</p>&#13;
&#13;
<p>How could this have all gone so wrong?<a contenteditable="false" data-primary="" data-startref="ch01.html3" data-type="indexterm" id="id256"/></p>&#13;
</div></section>&#13;
&#13;
<section data-pdf-bookmark="Why Did Tay Break Bad?" data-type="sect1"><div class="sect1" id="why_did_tay_break_bad">&#13;
<h1>Why Did Tay Break Bad?</h1>&#13;
&#13;
<p><a contenteditable="false" data-primary="Tay (chatbot)" data-secondary="reason for decline" data-type="indexterm" id="ch01.html4"/>It all probably seemed safe enough to Microsoft’s researchers. Tay was initially trained on a curated, anonymized public dataset and some pre-written material provided by professional comedians. The plan was to release Tay online and let her discover language patterns through her interactions. This kind of unsupervised machine learning has been a holy grail of AI research for decades—and with cheap and plentiful cloud computing resources combined with improving language model software, it now seemed within reach.</p>&#13;
&#13;
<p>So, what happened? It might be tempting to think that the Microsoft research team was just brash, careless, and did no testing. Surely, this was foreseeable and preventable! But as Peter Lee’s blog goes on to say, Microsoft made a serious attempt to prepare for this situation: “We stress-tested Tay under a variety of conditions, specifically to make interacting with Tay a positive experience. It’s through increased interaction where we expected to learn more and for the AI to get better and better.”</p>&#13;
&#13;
<p>So, despite a dedicated effort to contain the behavior of this bot, it quickly spiraled out of control anyway. It was later revealed that within mere hours of Tay’s release, a post emerged on the notorious online forum 4chan sharing a link to Tay’s Twitter account and urging users to inundate the chatbot with a barrage of racist, misogynistic, and anti-Semitic language.</p>&#13;
&#13;
<p>This is undoubtedly one of the first examples of a language model-specific vulnerability—these types of vulnerabilities will be a critical topic in this book.</p>&#13;
&#13;
<p>In a well-orchestrated campaign, these online provocateurs exploited a “repeat after me” feature embedded in Tay’s programming. This feature compelled the bot to echo anything uttered to it with this command. However, the problem compounded as Tay’s innate capacity for learning led her to internalize some of the offensive language she was exposed to, subsequently regurgitating the offensive content that was planted without provocation. It’s almost as if Tay’s virtual tombstone should be embossed with lyrics from the Taylor Swift song “Look What You Made Me Do.”</p>&#13;
&#13;
<p>We know enough about language model vulnerabilities today to understand a lot about the nature of the vulnerability types that Tay suffered from. The OWASP Top 10 for Large Language Model Applications vulnerabilities list, which we’ll cover in <a data-type="xref" href="ch02.html#the_owasp_top_10_for_llm_applications">Chapter 2</a>, would start by calling out the following two:</p>&#13;
&#13;
<dl>&#13;
	<dt>Prompt injection</dt>&#13;
	<dd>&#13;
	<p>Crafty inputs that can manipulate the large language model, causing unintended actions</p>&#13;
	</dd>&#13;
	<dt>Data poisoning</dt>&#13;
	<dd>&#13;
	<p><a contenteditable="false" data-primary="data poisoning" data-type="indexterm" id="id257"/>Training data is tampered with, introducing vulnerabilities or biases that compromise security, effectiveness, or ethical behavior</p>&#13;
	</dd>&#13;
</dl>&#13;
&#13;
<p>In subsequent chapters, we’ll look in depth at these vulnerability types as well as several others. We’ll examine why they’re important, look at some example exploits, and see how to avoid or mitigate the problem.<a contenteditable="false" data-primary="" data-startref="ch01.html4" data-type="indexterm" id="id258"/></p>&#13;
</div></section>&#13;
&#13;
<section data-pdf-bookmark="It’s a Hard Problem" data-type="sect1"><div class="sect1" id="it_s_a_hard_problem">&#13;
<h1>It’s a Hard Problem</h1>&#13;
&#13;
<p><a contenteditable="false" data-primary="Tay (chatbot)" data-secondary="problems" data-type="indexterm" id="ch01.html5"/>As of the writing of this book, Tay is ancient internet lore. Surely, we’ve moved on from this. These problems must have all been solved in the nearly seven years between Tay and ChatGPT, right? Unfortunately not.</p>&#13;
&#13;
<p>In 2018, Amazon shut down an internal AI project designed to find top talent after it became clear that the bot had become prejudiced against women candidates.</p>&#13;
&#13;
<p>In 2021, a company called <a href="https://oreil.ly/gdgNI">Scatter Lab created a chatbot called Lee Luda</a>, which was launched as a Facebook instant messenger plug-in. Trained on billions of actual chat interactions, it was designed to act as a 20-year-old female friend, and in 20 days, it attracted over 750,000 users. The company’s goal was to create “an A.I. chatbot that people prefer as a conversation partner over a person.” However, within 20 days of launch, the service was shut down because it started making offensive and abusive statements, much like Tay.</p>&#13;
&#13;
<p>Also in 2021, an independent developer named Jason Rohrer created a chatbot called Samantha based on the OpenAI GPT-3 model. Samantha was shut down after it made sexual advances to users.</p>&#13;
&#13;
<p>As chatbots become more sophisticated, they gain more access to information, and these security issues are now quite complex and potentially damaging. In the modern large language model era, we see an exponential increase in significant incidents. In 2023 and 2024, these emerged:</p>&#13;
&#13;
<ul>&#13;
	<li>&#13;
	<p>South Korean mega-corporation Samsung banned its employees from using ChatGPT after it had been involved in a significant intellectual property leak.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Hackers began taking advantage of poor/insecure code generated by LLMs that was inserted into running business applications.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Lawyers were sanctioned for including fictional cases (generated by LLMs) in court documents.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>A major airline was successfully sued because its chatbot provided inaccurate information.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Google was lambasted because its latest AI model produced imagery that was racist and sexist.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>Open AI is being investigated for breaches of European privacy regulations and sued by the United States Federal Trade Commission (FTC) for producing false and misleading information.</p>&#13;
	</li>&#13;
	<li>&#13;
	<p>The BBC ran the headline “Google AI Search Tells Users to Glue Pizza and Eat Rocks,” highlighting dangerous advice proffered by a new LLM-driven feature in Google Search.</p>&#13;
	</li>&#13;
</ul>&#13;
&#13;
<p>The trend here is an acceleration of security, reputational, and financial risk related to these chatbots and language models. The problem isn’t being effectively solved over time. It’s becoming more acute as the adoption rate of these technologies increases. That’s why we’ve created this book: to help developers, teams, and companies using these technologies to understand and mitigate these risks.</p>&#13;
&#13;
<p>Let’s dive<a contenteditable="false" data-primary="" data-startref="ch01.html5" data-type="indexterm" id="id259"/> in<a contenteditable="false" data-primary="" data-startref="ch01.html1" data-type="indexterm" id="id260"/>!<a contenteditable="false" data-primary="" data-startref="ch01.html0" data-type="indexterm" id="id261"/><a contenteditable="false" data-primary="app protection" data-see="guardrails, for app protection" data-type="indexterm" id="id262"/><a contenteditable="false" data-primary="artificial intelligence (AI)" data-see="AI entries" data-type="indexterm" id="id263"/><a contenteditable="false" data-primary="RAG" data-see="retrieval-augmented generation" data-type="indexterm" id="id264"/><a contenteditable="false" data-primary="red teams" data-see="AI red teams" data-type="indexterm" id="id265"/><a contenteditable="false" data-primary="SBOM" data-see="software bill of materials" data-type="indexterm" id="id266"/><a contenteditable="false" data-primary="testing" data-see="security testing tools" data-type="indexterm" id="id267"/></p>&#13;
</div></section>&#13;
</div></section></body></html>