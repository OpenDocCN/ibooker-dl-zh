["```py\nrawpath = os.getcwd()                                             ①\nmodel_path = os.path.abspath(os.path.join(rawpath, 'models'))\nmodel_directory_name = \\\nos.path.join(model_path,config['file_names'] \\\n['saved_model'])                                                  ②\nloaded_model = \\ \ntf.keras.models.load_model(model_directory_name)                  ③\n```", "```py\n@app.route('/')                                                 ①\ndef home():   \n    title_text = \"web deployment of Keras model\"\n    title = {'titlename':title_text}\n    return render_template('home.html',title=title)             ②\n```", "```py\n@app.route('/show-prediction/')                                 ①\ndef show_prediction():\n    scoring_dict = {}\n    for col in config['scoring_columns_cat']:\n        print(\"value for \"+col+\" is: \"+str(request.args.get(col))) \n        scoring_dict[col] = str(request.args.get(col))          ②\n    for col in config['scoring_columns_cont']:\n        scoring_dict[col] = float(request.args.get(col))        ③\n    scoring_dict['size_type_bin'] = \\\nstr(request.args.get('size_type'))+' 1'                         ④\n    input_dict = \\\n{name: tf.convert_to_tensor([value]) for name, \\\nvalue in scoring_dict.items()}                                  ⑤\n    predictions = loaded_model.predict(input_dict)              ⑥\n    prob = tf.nn.sigmoid(predictions[0])\n    if prob < 0.5:                                              ⑦\n        predict_string = \"Prediction is: property has a price less than \nmedian\"\n    else:\n        predict_string = \"Prediction is: property has a price more than \nmedian\"\n    prediction = {'prediction_key':predict_string}\n    return(render_template('show-prediction.html',\\\nprediction=prediction))                                         ⑧\n```", "```py\n<p> \n    Location:                                              ①\n    <select id=\"location\" >                                ②\n    </select> \n</p>\n<p> \n    <label for=\"rooms\">\nNumber of rooms (1 - 20):</label>                          ③\n        <input type=\"number\" id=\"rooms\" name=\"rooms\"       ④\n        min=\"1\" max=\"20\">                                  ⑤\n</p>\n```", "```py\n<body onload=\"load_selections()\">\n```", "```py\nfunction load_selections(){\n    // initialize all selections\n    var select_location = \ndocument.getElementById(\"location\");                        ①\n    var select_property_type = document.getElementById(\"property-type\"); \n    var select_furnishing = document.getElementById(\"furnishing\");\n    var select_size_type = document.getElementById(\"size-type\");\n    var location_list = [\"KLCC, Kuala Lumpur\",..            ②\n    var property_type_list = \n[\"Serviced Residence\",\"Bungalow\",...                        ③\n    var furnishing_list = [\"Fully Furnished\",\"Partly Furnished\",...;\n    var size_type_list = [\"Built-up\" ,\"Land area\" ];        ④\n    document.getElementById(\"rooms\").defaultValue  \n= 1;                                                        ⑤\n    document.getElementById(\"bathrooms\").defaultValue = 1;\n    document.getElementById(\"car-parks\").defaultValue = 0;\n    document.getElementById(\"size\").defaultValue = 500;\n    // Populate location list:\n    for(var i = 0; i < location_list.length; i++) {         ⑥\n        var opt = location_list[i];\n        select_location.innerHTML += \n\"<option value=\\\"\" + opt + \"\\\">\" + opt + \"</option>\";\n        }\n….\n    };\n```", "```py\n<button>\n<a onclick=\n\"link_with_args();\" style=\"font-size : 20px; width: 100%; \nheight: 100px;\">Get prediction</a>\n</button>\n```", "```py\nfunction link_with_args(){\n    getOption();\n    console.log(\"in link_with_args\");\n    console.log(window.output);                              ①\n    window.location.href = window.output;                    ②\n    }\n```", "```py\nfunction getOption() { \n  selectElementlocation = \ndocument.querySelector('#location');                          ①\n  selectElementpropertytype = document.querySelector('#property-type');\n  selectElementfurnishing = document.querySelector('#furnishing');\n  selectElementsizetype = document.querySelector('#size-type');\n  rooms_value = document.getElementById(\"rooms\").value;       ②\n  bathrooms_value = document.getElementById(\"bathrooms\").value;\n  car_parks_value = document.getElementById(\"car-parks\").value;\n  size_value = document.getElementById(\"size\").value;\n  location_string = \nselectElementlocation.options\\\n[selectElementlocation.selectedIndex].value                   ③\n  property_type_string = \nselectElementpropertytype.\\\noptions[selectElementpropertytype.selectedIndex].value\n  furnishing_string = \nselectElementfurnishing.\\\noptions[selectElementfurnishing.selectedIndex].value\n  size_type_string = selectElementsizetype.\\\noptions[selectElementsizetype.selectedIndex].value\n  prefix = \"/show-prediction/?\"\n  window.output = \nprefix.concat(\"location=\",location_string,\"&rooms=\",\\\nrooms_value,\"&property_type=\",property_type_string,\\\n\"&furnishing=\",furnishing_string,\"&size_type=\n\\\",size_type_string,\"&bathrooms=\\\n\",bathrooms_value,\"&car_parks=\",car_parks_value,\\\n\"&size=\",size_value);                                         ④\n  document.querySelector('.output').textContent = window.output; \n}\n```", "```py\n/show-prediction/?location=KLCC, Kuala Lumpur&rooms=1\n&property_type=Serviced Residence&furnishing=Fully Furnished\n&size_type=Built-up&bathrooms=1&car_parks=0&size=500\n```", "```py\n@app.route('/show-prediction/')\n```", "```py\nlocation=KLCC, Kuala Lumpur\nrooms=1\nproperty_type=Serviced Residence\nfurnishing=Fully Furnished\nsize_type=Built-up\nbathrooms=1\ncar_parks=0\nsize=500\n```", "```py\n<!DOCTYPE html> \n<head> \n  <title> \n    Page for showing prediction                            ①\n  </title> \n  <link rel=\"stylesheet\" href=\"{{ url_for('static', \nfilename='css/main2.css') }}\">                             ②\n</head> \n\n<body> \n<!-- display the prediction  -->\n<div class=\"home\">\n    <h1 style=\"color: green\"> \n        Here is the prediction for \\\nthis Kuala Lumpur property:                                ③\n    </h1> \n    <h1 style=\"color: green\"> \n        {{ prediction.prediction_key }}\n    </h1>\n\n<!-- link back to home.html for entering \nscoring parameters for another prediction  -->\n    <form action=\"{{ url_for('home') }}\">\n        <input type=\"submit\" \nvalue=\"Get another prediction\" \nstyle=\"font-size : 20px; width: 40%; height: 30px;\"/>\n    </form>                                                ④\n\n</div>\n</body>\n```", "```py\n    python flask_endpoint_deploy.py\n    ```", "```py\n    tf.__version__ \n    2.9.2\n    ```", "```py\nsample = {\n    'location': 'Sentul, Kuala Lumpur',\n    'rooms': 3.0,\n    'property_type': 'Condominium For Sale',\n    'furnishing': 'Partly Furnished',\n    'size_type_bin': 'built-up 1',\n    'bathrooms': 2.0,\n    'car_parks': 0.0,\n    'size': 950.0,\n}\n```", "```py\npredictions = loaded_model.predict(input_dict)\nprob = tf.nn.sigmoid(predictions[0])\n```", "```py\nprob2 = tf.nn.sigmoid(-1.52191401)\nprint(\n    \"This property has a %.1f percent probability of \"\n    \"having a price over the median.\" % (100 * prob2)\n)\nThis property has a 17.9 percent probability \nof having a price over the median.\n```", "```py\npip install google-cloud-aiplatform\n```", "```py\nfrom typing import Dict, List, Union\nfrom google.cloud import aiplatform\nfrom google.protobuf import json_format\nfrom google.protobuf.struct_pb2 import Value\n```", "```py\ndef show_prediction():\n    scoring_dict = {}\n    for col in config['scoring_columns_cat']:\n        print(\"value for \"+col+\" is: \"+str(request.args.get(col))) \n        scoring_dict[col] = str(request.args.get(col))\n    for col in config['scoring_columns_cont']:\n        scoring_dict[col] = float(request.args.get(col))\n    scoring_dict['size_type_bin'] = str(request.args.get('size_type'))+' 1'\n    scoring_dict.pop('size_type')                            ①\n    input_dict = {name: [value] for name, \\\nvalue in scoring_dict.items()}                               ②\n    print(\"input_dict: \",input_dict)\n    predictions = predict_custom_trained_model_sample(\n    project = config['endpoint']['project'],\n    endpoint_id = config['endpoint']['endpoint_id'],\n    location = config['endpoint']['location'],\n    instances = input_dict)                                  ③\n    prob = tf.nn.sigmoid(predictions[0])\n```", "```py\ninput_dict = {name: [value] for name, value in scoring_dict.items()}\n```", "```py\ngcloud auth application-default login\n```", "```py\npython flask_endpoint_deploy.py\n```", "```py\npip install protobuf==3.20.*n\n```"]