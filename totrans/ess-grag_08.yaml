- en: appendix A The Neo4j environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will learn graph theory and algorithms through practical examples
    using Neo4j. I (Oskar) chose Neo4j because I have more than five years of experience
    with it, building and analyzing graphs.
  prefs: []
  type: TYPE_NORMAL
- en: Neo4j is a native graph database, built from the ground up to store, query,
    and manipulate graph data. It is implemented in Java and accessible from software
    written in other languages using the Cypher query language, through a transactional
    HTTP endpoint or the binary Bolt Protocol. In Neo4j, data is stored as nodes and
    relationships, which are both first-class citizens in the database. Nodes represent
    entities, such as people or businesses, and relationships represent the connections
    between these entities. Nodes and relationships can have properties, which are
    key–value pairs that provide additional information about the nodes and relationships.
  prefs: []
  type: TYPE_NORMAL
- en: Neo4j is designed to be highly scalable. It uses a flexible indexing system
    to efficiently query and manipulate data and supports atomicity, consistency,
    isolation, and durability transactions to ensure data consistency. It also has
    a built-in query language, called Cypher, which is designed to be expressive and
    easy to use for querying and manipulating graph data.
  prefs: []
  type: TYPE_NORMAL
- en: 'Another benefit of using Neo4j is that it has two useful plugins you will be
    using:'
  prefs: []
  type: TYPE_NORMAL
- en: '*The Awesome Procedures on Cypher (APOC) plugin*—A library of procedures, functions,
    and plugins for Neo4j that provide a wide range of capabilities, including data
    import and export, data transformation and manipulation, date–time–interval processing,
    geospatial processing, text processing, and more.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*The Graph Data Science (GDS) plugin*—A set of graph algorithms and procedures
    for Neo4j that allow users to perform advanced analytics on their graph data.
    GDS provides efficient, parallel implementations of common graph algorithms, such
    as shortest path, PageRank, and community detection. In addition, the plugin also
    includes node-embedding algorithms and machine learning workflows that support
    node classification and link prediction workflows.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A.1 Cypher query language
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Cypher is a declarative query language for graph databases used to retrieve
    and manipulate data stored in a graph database. Cypher queries are written in
    a simple, human-readable syntax. The following listing is an example of a simple
    Cypher query that uses ASCII-art-style diagramming to illustrate the relationships
    being queried.
  prefs: []
  type: TYPE_NORMAL
- en: Listing A.1 A sample Cypher statement
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The openCypher initiative is a collaboration between Neo4j and several other
    organizations to promote the use of the Cypher query language as a standard for
    working with graph data. The goal of the initiative is to create a common language
    that can be used to query any graph database, regardless of the underlying technology.
    To achieve this goal, the openCypher initiative is making the Cypher language
    specification and related resources available under an open source license and
    is encouraging the development of Cypher implementations by a variety of organizations.
    So far, the Cypher query language has been adopted by Amazon, AgensGraph, Katana
    Graph, Memgraph, RedisGraph, and SAP HANA (openCypher Implementers Group, n.d.).
  prefs: []
  type: TYPE_NORMAL
- en: There is also an official ISO project to propose a unified graph query language
    (GQL) to interact with graph databases (GQL Standards Committee, n.d.). The GQL
    aims to build on the foundation of SQL and integrate proven ideas from existing
    graph query languages, including Cypher. That makes learning Cypher a great start
    to interact with graph databases, as it is already integrated with many of them
    and will also be part of the official ISO Graph Query Language. Take a look at
    the graph pattern matching proposal for GQL (Deutsch et al., 2022) for more information.
  prefs: []
  type: TYPE_NORMAL
- en: A.2 Neo4j installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are a few different options to set up your Neo4j environment:'
  prefs: []
  type: TYPE_NORMAL
- en: Neo4j Desktop
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Neo4j Docker
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Neo4j Aura
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A.2.1 Neo4j Desktop installation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Neo4j Desktop is a local Neo4j graph database management application. It allows
    you to create database instances and install official plugins with only a few
    clicks. If you decide to use Neo4j Desktop, follow these steps to successfully
    start a Neo4j database instance with installed APOC and GDS plugins:'
  prefs: []
  type: TYPE_NORMAL
- en: Download the Neo4j desktop application from the official website ([https://neo4j.com/download](https://neo4j.com/download);
    figure A.1).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-1.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.1 Download Neo4j Desktop.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 2\. Install the Neo4j Desktop application on your computer and then open it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 3\. Complete the registration step. You can enter the software key you were
    assigned when you downloaded the application or skip this step by clicking Register
    Later (figure A.2).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-2.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.2 Enter your personal information or skip the registration step.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 4\. The Movies Database Management System (DBMS) is automatically started on
    the first execution of Neo4j Desktop. Stop the Movies DBMS if it is running (figure
    A.3).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-3.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.3 Stop the default Movie DBMS database.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 5\. Add a new local DBMS (figure A.4).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-4.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.4 Add a Local DBMS.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 6\. Type in any values for the DBMS name and password. Make sure to select version
    5.9.0 or greater (figure A.5).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-5.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.5 Define a DBMS password and version.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 7\. Install APOC and GDS plugins by selecting the DBMS, which opens a right-hand
    pane with Details, Plugins, and Upgrade tabs. Select the Plugins tab, and then
    install the APOC and GDS plugins (figure A.6).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-6.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.6 Install the APOC and GDS plugins.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 8\. Start the database (figure A.7).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-7.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.7 Start the database.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 9\. Open Neo4j Browser (figure A.8).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-8.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.8 Open Neo4j Browser.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 10\. Execute Cypher queries by typing them in the Cypher editor. For longer
    Cypher statements, you can use the full-screen editor option (figure A.9).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![figure](../Images/A-9.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.9 The Cypher query editor in Neo4j Browser
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: A.2.2 Neo4j Docker installation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you select the Neo4j Docker installation, you need to run the command in
    the following listing in your command prompt.
  prefs: []
  type: TYPE_NORMAL
- en: Listing A.2 Starting a Neo4j Docker
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: This command starts a Dockerized Neo4j in the background. The APOC and GDS plugins
    are automatically added by defining the `NEO4J_PLUGINS` environment variable.
    It is a good practice to mount the `data` volume to persist the database files.
    The database username and password are specified with the `NEO4J_AUTH` variable.
  prefs: []
  type: TYPE_NORMAL
- en: Visit http://localhost:7474 in your web browser after you have executed the
    command in listing A.2\. Type in the password, specified with the `NEO4J_AUTH`
    variable. The password in the example is `password`.
  prefs: []
  type: TYPE_NORMAL
- en: A.2.3 Neo4j Aura
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Neo4j Aura is a hosted cloud instance of the Neo4j database. You can use it
    for all the chapters except for chapter 7, which requires GDS library. Unfortunately,
    the free version does not provide the GDS library. If you want to use the cloud-hosted
    Neo4j Aura to follow the examples in this book, you will need to use the AuraDS
    version, which provides support for GDS algorithms. You can find more information
    on Neo4j’s official website: [https://neo4j.com/product/auradb/](https://neo4j.com/product/auradb/).'
  prefs: []
  type: TYPE_NORMAL
- en: A.3 Neo4j Browser configuration
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Neo4j Browser has a beginner-friendly feature that visualizes all the relationships
    between resulting nodes, even when the relationships are not part of the query
    results. To avoid confusion, untick the Connect Result Nodes feature, as shown
    in figure A.10\.
  prefs: []
  type: TYPE_NORMAL
- en: '![sidebar figure](../Images/A-10.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A.10 Untick Connect Result Nodes in Neo4j Browser.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: A.4 Movies dataset
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In some chapters, we use the Movies dataset, which is a sample dataset that’s
    small and easy to load. In the following, we provide the instructions on how to
    load the Movies dataset into your Neo4j instance.
  prefs: []
  type: TYPE_NORMAL
- en: A.4.1 Loading via the Neo4j Query Guide
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When you’re in Neo4j Query or Neo4j Browser, you can load the movies dataset
    by going through the “Movie Graph Guide” found in the guides sidebar or by executing
    `:play movies` in Neo4j Browser.
  prefs: []
  type: TYPE_NORMAL
- en: A.4.2 Trying the online version
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: There’s also an online read-only version of this dataset available at [https://demo.neo4jlabs.com:7473/browser/](https://demo.neo4jlabs.com:7473/browser/)
    (alternatively, using Bolt, [https://demo.neo4jlabs.com:7687](https://demo.neo4jlabs.com:7687)).
    The database name, username, and password are “movies.”
  prefs: []
  type: TYPE_NORMAL
- en: A.4.3 Loading via Cypher
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you want to load the movies dataset directly using Cypher, use the query
    in the following listing.
  prefs: []
  type: TYPE_NORMAL
- en: Listing A.3 Loading the Movies dataset via Cypher
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
