<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 1. Creating APIs That Data Scientists Will Love"><div class="chapter" id="chapter_1">
<h1><span class="label">Chapter 1. </span>Creating APIs That Data Scientists Will Love</h1>


<p>Application programming interfaces (APIs) are important to data scientists. But how often are data scientists considered by API designers and developers? Data scientists frequently use APIs as data sources for their work. They have some needs that are different than those of software developers or other consumers. If API producers want to make data scientists happy, they will do well to serve these needs.</p>






<section data-type="sect1" data-pdf-bookmark="How Do Data Scientists Use APIs?"><div class="sect1" id="id6">
<h1>How Do Data Scientists Use APIs?</h1>

<p>The <a href="https://oreil.ly/anaconda">Anaconda State of Data Science Report</a> found that <a data-type="indexterm" data-primary="data scientists" data-secondary="API use" data-seealso="using APIs" id="id422"/><a data-type="indexterm" data-primary="APIs" data-secondary="data scientists using" data-seealso="using APIs" id="id423"/>data scientists spend the bulk of their time performing three main activities: preparing or cleansing data (38%); creating reports, presentations, or data visualizations (29%); and selecting, training, and deploying models (27%). This book demonstrates how data scientists use APIs for these tasks.</p>

<p><em>Preparing or cleansing data</em> often occurs when <a data-type="indexterm" data-primary="exploratory data analysis (EDA)" id="id424"/><a data-type="indexterm" data-primary="EDA (exploratory data analysis)" id="id425"/>data scientists perform <em>exploratory data analysis (EDA)</em> on a new dataset by analyzing its contents, formats, and patterns. Other times, this work is part of<a data-type="indexterm" data-primary="data pipelines" id="id426"/> a scheduled <em>data pipeline</em>, which is a sequence of software tasks that pull from multiple data sources and reformat or remove errors from the data so that it can be used downstream in visualizations, reports, or models.<a data-type="indexterm" data-primary="data engineer" id="id427"/> <em>Data engineer</em> is a another job title for people who specialize in these tasks. <a data-type="xref" href="ch09.html#chapter_9">Chapter 9</a> will demonstrate using APIs in exploratory data analysis. <a data-type="xref" href="ch10.html#chapter_10">Chapter 10</a> will demonstrate using APIs in data pipelines.</p>

<p><em>Creating reports and visualizations</em> are important activities to demonstrate insights gleaned from data and present the data in a way that enables an organization to monitor its operations or make better decisions. <a data-type="indexterm" data-primary="data analytics" data-secondary="about" id="id428"/>These are also referred to as <em>analytics</em>. Data scientists make calls to APIs to provide data for a variety of analytics products.<a data-type="indexterm" data-primary="data analyst" id="id429"/> <em>Data analyst</em> is another job title for people who specialize in these tasks. <a data-type="xref" href="ch09.html#chapter_9">Chapter 9</a> will show how data scientists create visualizations using Python in Jupyter Notebooks, and <a data-type="xref" href="ch11.html#chapter_11">Chapter 11</a> will show how interactive visualizations can be deployed in applications using Python and Streamlit.</p>

<p><em>Training and deploying data science models</em> are activities that use<a data-type="indexterm" data-primary="machine learning (ML)" data-secondary="about training and deploying models" id="id430"/> machine learning or other mathematical techniques to make predictions, cluster data into groups, perform natural language processing, and accomplish a variety of other tasks. The use of APIs here can be divided into two buckets: API consumers and API producers. As consumers, data scientists use APIs as input sources to their models and call machine learning APIs to perform tasks. As producers, they deploy their own models as APIs for others to use.<a data-type="indexterm" data-primary="machine learning engineer" id="id431"/> <em>Machine learning engineer</em> is another job title for people who specialize in deploying models, and <a data-type="xref" href="ch13.html#chapter_13">Chapter 13</a> will demonstrate how to deploy a machine learning model using FastAPI and Python.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Application programming interface (API) is<a data-type="indexterm" data-primary="application programming interface" data-seealso="APIs" id="id432"/><a data-type="indexterm" data-primary="APIs" data-secondary="about" id="id433"/><a data-type="indexterm" data-primary="APIs" data-secondary="about" data-tertiary="as application programming interfaces" id="id434"/> a term that has a variety of meanings in computer programming. This book will focus on web APIs, which are software programs that you call using HTTP to retrieve data or execute commands. API producers develop and host an API for internal consumers inside their network or for external consumers on the internet. API consumers send a request to an API. The API receives this request and sends back a response. This is API communication.</p>
</div>
</div></section>






<section data-type="sect1" data-pdf-bookmark="What Tools Do Data Scientists Use?"><div class="sect1" id="id7">
<h1>What Tools Do Data Scientists Use?</h1>

<p>Data scientists use a range of <a data-type="indexterm" data-primary="data scientists" data-secondary="tools used" id="id435"/><a data-type="indexterm" data-primary="tools used by data scientists" id="id436"/>commercial and open source software tools to perform their work, along with commercial cloud platforms. According to the State of Data Science report, the most common programming languages that data scientists use are Python (58% always or frequently use it) and SQL (42% always or frequently use it). The R language did not rank highly in this survey, but in my experience it is used by many data scientists. R is popular in football analytics thanks to the<a data-type="indexterm" data-primary="fantasy football" data-secondary="nflverse data and R packages" id="id437"/><a data-type="indexterm" data-primary="GitHub" data-secondary="nflverse data and R packages" id="id438"/><a data-type="indexterm" data-primary="nflverse open source libraries" id="id439"/><a data-type="indexterm" data-primary="resources online" data-secondary="nflverse open source libraries" id="id440"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="nflverse data and R packages" id="id441"/> <a href="https://github.com/nflverse">nflverse</a> collection of data and R packages. The program code in this book will use both Python and SQL.</p>

<p>For a development environment, data scientists typically are comfortable using command-line tools (such as the Bash shell for Linux or PowerShell for Windows). They use IDEs such as Visual Studio Code (VS Code), PyCharm, or RStudio. Data scientists also use notebook environments, which are unique interactive programming environments that allow Markdown descriptions to be interlaced with program code and output of commands.</p>

<p>Data scientists use a variety of tools to maintain standalone development environments, such as the venv and conda libraries. Docker in an important tool for packaging environments and deploying applications. <em>Dev containers</em> build on Docker to provide full-featured virtual environments with an embedded IDE—GitHub <span class="keep-together">Codespaces</span> is an example that you will use in this book.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Designing APIs for Data Scientists"><div class="sect1" id="designing_APIs_data_scientists">
<h1>Designing APIs for Data Scientists</h1>

<p>Now that you know a little bit about<a data-type="indexterm" data-primary="building APIs" data-secondary="design tips" id="id442"/><a data-type="indexterm" data-primary="designing APIs for data scientists" id="id443"/> the tasks data scientists perform and the tools they like to use, here are some tips for designing APIs they will love. This section will focus on Python, but many of the tips are also appropriate for the R language:</p>
<dl>
<dt>Your API should always return data in JSON format.</dt>
<dd>
<p>Your API endpoints<a data-type="indexterm" data-primary="JSON" data-secondary="API data returned" id="id444"/><a data-type="indexterm" data-primary="Python" data-secondary="JSON data format" id="id445"/> should return data in JSON format, rather than XML. The Python ecosystem has strong support for JSON, which is a lightweight data format that supports hierarchies and is human-readable. JSON can be converted into lists and dictionaries, which are fundamental Python data structures. Most web APIs return JSON as a standard already, so this isn’t much of a stretch.</p>
</dd>
<dt>You should provide an SDK to consume the API.</dt>
<dd>
<p>While Python can<a data-type="indexterm" data-primary="SDK (software development kit)" data-secondary="API design tip" id="id446"/><a data-type="indexterm" data-primary="Python" data-secondary="SDKs" id="id447"/> call APIs directly from within the code, data scientists are accustomed to installing Python libraries using commands such as <code>pip</code> and <code>conda</code>. Publishing a Python library will make life easier for the data scientists and allow you to enforce good coding practices in the way your API is called.</p>
</dd>
<dt>You should provide standard external identifiers in your data.</dt>
<dd>
<p>Data scientists<a data-type="indexterm" data-primary="external identifiers provided" id="id448"/><a data-type="indexterm" data-primary="datasets" data-secondary="external identifiers provided" id="id449"/><a data-type="indexterm" data-primary="datasets" data-secondary="external identifiers provided" data-tertiary="standardized" id="id450"/><a data-type="indexterm" data-primary="external identifiers provided" data-secondary="standardized" id="id451"/><a data-type="indexterm" data-primary="building APIs" data-secondary="external identifiers provided" id="id452"/><a data-type="indexterm" data-primary="building APIs" data-secondary="external identifiers provided" data-tertiary="standardized" id="id453"/> often combine data from multiple sources in their visualizations and data pipelines. If you provide industry-standard identifiers, it will allow the data scientist to more easily join data sources.</p>
</dd>
<dt>Your data should conform to data type definitions.</dt>
<dd>
<p>Data scientists use API data<a data-type="indexterm" data-primary="data types of returned data conforming" id="id454"/><a data-type="indexterm" data-primary="datasets" data-secondary="data returned from API conforming" id="id455"/> for performing calculations and creating models, so data type validity is important. Where an invalid character in an API can probably display fine on a web page, an invalid number in a numeric field could make a record unusable for data science tasks. So, data returned from APIs must conform to its definition, such as an OpenAPI Specification (OAS) file.</p>
</dd>
<dt>You should provide a method for bulk downloads.</dt>
<dd>
<p>When data scientists are analyzing<a data-type="indexterm" data-primary="bulk downloads" data-secondary="API capability" id="id456"/><a data-type="indexterm" data-primary="datasets" data-secondary="bulk download capability" id="id457"/><a data-type="indexterm" data-primary="downloading data" data-secondary="bulk download" id="id458"/><a data-type="indexterm" data-primary="data pipelines" data-secondary="bulk downloads" data-tertiary="API capability" id="id459"/> a new dataset or training a machine learning model, they often examine the full contents. Because a full dataset may be quite large, making an API call may strain the resources of the API as well as the data scientist’s local environment. Timeouts and memory overflows can cause frustration and delays. If the API provider provides a bulk download capability, this streamlines this analysis. The bulk download is also useful when a data scientist is performing the initial full load of a new data pipeline. <a data-type="indexterm" data-primary="comma-separated values (CSV)" id="id460"/><a data-type="indexterm" data-primary="Apache Parquet data format" id="id461"/>Useful data formats for data scientists include <em>comma-separated values</em> (CSV) and <a href="https://oreil.ly/UYELV">Apache Parquet</a>.</p>
</dd>
<dt>Your API should support querying by last changed date.</dt>
<dd>
<p>After data scientists<a data-type="indexterm" data-primary="query parameters" data-secondary="last changed date" id="id462"/><a data-type="indexterm" data-primary="last changed date query parameter" id="id463"/> have performed the initial full load of a data pipeline, they want to process regular updates. <a data-type="indexterm" data-primary="deltas" id="id464"/><a data-type="indexterm" data-primary="data pipelines" data-secondary="deltas" id="id465"/><a data-type="indexterm" data-primary="downloading data" data-secondary="deltas" id="id466"/><a data-type="indexterm" data-primary="data pipelines" data-secondary="last changed date query parameter" id="id467"/>A typical data pipeline schedule would be to run a recurring job daily to process the <em>deltas</em>, or records that have changed. If the API provides a last changed date query parameter, this allows the data pipeline to retrieve any new records or updated records.</p>
</dd>
</dl>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Introducing Your Part I Portfolio Project"><div class="sect1" id="id157">
<h1>Introducing Your Part I Portfolio Project</h1>

<p>You will address all of these <a data-type="indexterm" data-primary="portfolio projects" data-secondary="building an API" data-tertiary="introduction" id="id468"/><a data-type="indexterm" data-primary="building APIs" data-secondary="portfolio project introduction" id="id469"/><a data-type="indexterm" data-primary="portfolio projects" data-secondary="Part I project introduction" id="id470"/>design tips as you build your Part I portfolio project, which demonstrates your ability to develop an API and an SDK. Many of these are automatically addressed for you by the tools you have chosen, and a few you will custom-code yourself.</p>

<p>Here is an overview of the work ahead of you:</p>

<ul>
<li>
<p><a data-type="xref" href="#chapter_1">Chapter 1</a>: Understanding your users and selecting the right API</p>
</li>
<li>
<p><a data-type="xref" href="ch02.html#chapter_2">Chapter 2</a>: Selecting your API architecture and setting up your development environment</p>
</li>
<li>
<p><a data-type="xref" href="ch03.html#chapter_3">Chapter 3</a>: Creating your database</p>
</li>
<li>
<p><a data-type="xref" href="ch04.html#chapter_4">Chapter 4</a>: Developing the FastAPI code</p>
</li>
<li>
<p><a data-type="xref" href="ch05.html#chapter_5">Chapter 5</a>: Documenting your API</p>
</li>
<li>
<p><a data-type="xref" href="ch06.html#chapter_6">Chapter 6</a>: Deploying your API to the cloud</p>
</li>
<li>
<p><a data-type="xref" href="ch07.html#chapter_7">Chapter 7</a>: Creating an SDK for your API</p>
</li>
</ul>

<p>You will follow a realistic scenario in each chapter, with each step building on the previous steps. It’s time to dive into that scenario now, from an industry that is close to my heart: fantasy sports.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Every API Has a Story"><div class="sect1" id="id158">
<h1>Every API Has a Story</h1>

<p>Every API has a story and a reason it gets built.<a data-type="indexterm" data-primary="building APIs" data-secondary="SWC" data-tertiary="about" id="ch1-ffint"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="introduction" id="ch1-ffint2"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="SWC introduction" data-seealso="SportsWorldCentral (SWC)" id="ch1-ffint3"/> The story of some APIs is straight out of the movie <em>Field of Dreams</em>: “If you build it, they will come.” A company builds an API without performing any research on the potential users—sometimes customers come, and other times an API languishes unused and unremembered. In contrast, successful APIs fulfill the needs of real consumers. That’s the case with the API you will build in this book.</p>








<section data-type="sect2" class="less_space pagebreak-before" data-pdf-bookmark="Meeting Your Company: SportsWorldCentral"><div class="sect2" id="id9">
<h2>Meeting Your Company: SportsWorldCentral</h2>

<p>You are a software developer working for a website named SportsWorldCentral, SWC for short. SWC provides sports news and also hosts fantasy games such as fantasy football and fantasy soccer. SWC’s customers are sports fans who join up in a league with friends and draft real-world players onto their teams. They watch real-world games or matches, and when the players on their teams do well, they score points for their fantasy team. SWC helps all those owners keep track of their teams and gives live scoring updates each week as fantasy managers win or lose.</p>

<p>SWC’s fantasy football website<a data-type="indexterm" data-primary="website for SWC" id="id471"/><a data-type="indexterm" data-primary="resources online" data-secondary="SportsWorldCentral website" id="id472"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="website" id="id473"/> contains information about an entire fantasy football league, such as shown in <a data-type="xref" href="#swc_league_home">Figure 1-1</a>.</p>

<figure><div id="swc_league_home" class="figure">
<img src="assets/haad_0101.png" alt="SWC League Home" width="753" height="468"/>
<h6><span class="label">Figure 1-1. </span>SWC League home page</h6>
</div></figure>

<p>The website also has a large amount of detail about individual fantasy teams, as shown in <a data-type="xref" href="#swc_my_team">Figure 1-2</a>.</p>

<figure><div id="swc_my_team" class="figure">
<img src="assets/haad_0102.png" alt="SWC My Team page" width="753" height="586"/>
<h6><span class="label">Figure 1-2. </span>SWC My Team page</h6>
</div></figure>

<p>SWC is an imaginary company, but fantasy sports is a very real and thriving entertainment industry. <a data-type="indexterm" data-primary="fantasy football" data-secondary="about" id="id474"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" id="id475"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="fantasy managers" id="id476"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="fantasy managers" id="id477"/>There are around 40 million fantasy football managers, according to fantasy industry estimates, making fantasy football the largest US fantasy sport. Fantasy soccer is popular worldwide. <a data-type="indexterm" data-primary="Fantasy Premier League website" id="id478"/><a data-type="indexterm" data-primary="websites for fantasy leagues" data-secondary="Fantasy Premier League" id="id479"/><a data-type="indexterm" data-primary="resources online" data-secondary="Fantasy Premier League website" id="id480"/>For example, more than 10 million active managers compete on the <a href="https://fantasy.premierleague.com">Fantasy Premier League website</a>, which follows just one of the major international soccer leagues. <a data-type="indexterm" data-primary="hosts for fantasy league websites" id="id481"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="hosts for fantasy league websites" id="id482"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="hosts for fantasy league websites" id="id483"/>Real-world examples of fantasy league host websites include Yahoo.com, Sleeper, MyFantasy​Lea⁠gue.com, and many others.</p>

<p>In addition to fantasy league web hosts, <a data-type="indexterm" data-primary="resources online" data-secondary="advice websites for fantasy managers" id="id484"/><a data-type="indexterm" data-primary="websites for fantasy leagues" data-secondary="advice websites for managers" id="id485"/><a data-type="indexterm" data-primary="advice websites for fantasy managers" id="id486"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="fantasy managers" data-tertiary="advice websites for" id="id487"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="advice websites for fantasy managers" id="id488"/><a data-type="indexterm" data-primary="The Fantasy Footballers website" data-primary-sortas="Fantasy Footballers website" id="id489"/><a data-type="indexterm" data-primary="websites for fantasy leagues" data-secondary="FantasyPros" id="id490"/><a data-type="indexterm" data-primary="FantasyPros website" id="id491"/>fantasy managers pay for subscriptions to fantasy advice websites such as <a href="https://oreil.ly/Hu6Pn">The Fantasy Footballers</a>, <a href="https://oreil.ly/qEVlz">PFF</a>, and <a href="https://oreil.ly/-9x4F">FantasyPros</a>. These websites provide highly customized analytical products such as dashboards, charts, predictive models, and recommendation engines to help fantasy managers run their teams. <a data-type="indexterm" data-primary="APIs" data-secondary="fantasy league websites" id="id492"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="APIs for websites" id="id493"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="APIs for websites" id="id494"/>To customize this content to a fantasy manager’s team, the fantasy league host needs to provide an API that the fantasy advice websites can consume.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id495">
<h1>API Perspectives: Kyle Borgognoni on Fantasy Football APIs</h1>
<p>Kyle Borgognoni is the editor-in-chief <a data-type="indexterm" data-primary="Borgognoni, Kyle" id="id496"/><a data-type="indexterm" data-primary="Borgognoni, Kyle" data-secondary="on fantasy football APIs" id="id497"/><a data-type="indexterm" data-primary="building APIs" data-secondary="Kyle Borgognoni on fantasy football APIs" id="id498"/><a data-type="indexterm" data-primary="fantasy football" data-secondary="APIs for websites" data-tertiary="Kyle Borgognoni on" id="id499"/><a data-type="indexterm" data-primary="APIs" data-secondary="fantasy league websites" data-tertiary="Kyle Borgognoni on" id="id500"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="Kyle Borgognoni on APIs for websites" id="id501"/><a data-type="indexterm" data-primary="The Fantasy Footballers website" data-secondary="Editor-In-Chief Kyle Borgognoni interview" data-primary-sortas="Fantasy Footballers website" id="id502"/><a data-type="indexterm" data-primary="Fantasy Footballers Dynasty Podcast (Borgognoni)" id="id503"/><a data-type="indexterm" data-primary="podcast on fantasy footballers (Borgognoni)" id="id504"/><a data-type="indexterm" data-primary="resources online" data-secondary="podcast on fantasy footballers (Borgognoni)" id="id505"/>of <a href="https://www.thefantasyfootballers.com">The Fantasy Footballers fantasy advice website</a> and podcast, which has won multiple fantasy industry awards for popularity and accuracy. Kyle is also host of the <a href="https://oreil.ly/FFDP"><em>Fantasy Footballers Dynasty</em> podcast</a> and a writer for the website.</p>

<p><em>What type of advice content do you provide on your website?</em></p>

<p>We provide general fantasy statistics like fantasy points, targets, yards, and red zone numbers; advanced fantasy stats like routes, targets per route run, and efficiency metrics; and performance-based stats like consistency scores, career performance, and strength of schedule.  We also provide the Ultimate Draft Kit, which has projections and stat lines for every player in the NFL; the Dynasty Pass that has college production profiles and metrics from the NFL combine; and the Daily Fantasy Pass.</p>

<p><em>How do you gather all of the data for the products you provide?</em></p>

<p>We get a lot of information from<a data-type="indexterm" data-primary="data acquisition" data-secondary="Kyle Borgognoni on data gathering" id="id506"/> data brokers and partners like SportsData. We also use APIs from websites like Sleeper and Yahoo!. For the podcast, it is a combination of data scraping and endless worksheets that I have built.</p>

<p><em>How does it benefit a league host website to provide APIs for advice websites to use?</em></p>

<p>To use Sleeper as an example,<a data-type="indexterm" data-primary="fantasy football" data-secondary="hosts for fantasy league websites" data-tertiary="APIs provided by" id="id507"/><a data-type="indexterm" data-primary="hosts for fantasy league websites" data-secondary="APIs provided by" id="id508"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="hosts providing APIs" id="id509"/><a data-type="indexterm" data-primary="APIs" data-secondary="fantasy league websites" data-tertiary="host websites providing APIs" id="id510"/> they are providing an API because it helps their platform. With their data, folks can build useful tools and create an ecosystem around their service that provides additional value to their users for free. If users come to our platform, and they can easily import their Sleeper teams, see Sleeper ADP, or whatever, they are more likely to use Sleeper to host their fantasy leagues. This is why they provide their proprietary data for free in an easy-to-use API. This is valuable to us because our business is selling these tools to users.<a data-type="indexterm" data-startref="ch1-ffint" id="id511"/><a data-type="indexterm" data-startref="ch1-ffint2" id="id512"/><a data-type="indexterm" data-startref="ch1-ffint3" id="id513"/></p>
</div></aside>
</div></section>








<section data-type="sect2" data-pdf-bookmark="SWC Needs an API"><div class="sect2" id="id10">
<h2>SWC Needs an API</h2>

<p>The web team that manages<a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="API needed" data-seealso="building APIs; using APIs" id="id514"/><a data-type="indexterm" data-primary="APIs" data-secondary="fantasy league websites" data-tertiary="SWC needs API" data-seealso="SportsWorldCentral (SWC)" id="id515"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="about fantasy football" data-tertiary="APIs for websites" id="id516"/><a data-type="indexterm" data-primary="building APIs" data-secondary="SWC" data-tertiary="API needed" id="id517"/><a data-type="indexterm" data-primary="website for SWC" data-secondary="API needed" data-seealso="building APIs; using APIs" id="id518"/><a data-type="indexterm" data-primary="web scrapers" id="id519"/><a data-type="indexterm" data-primary="data acquisition" data-secondary="web scrapers" id="id520"/> the SWC website has seen a rising amount of traffic on the Fantasy Football web pages from <em>web scrapers</em>, which are computer programs that read websites and extract the data from them. Instead of seeing this as a problem, the savvy SWC product owner realizes this is an indicator of a potential market: people want to use the SWC Fantasy Football data.</p>

<p>The product owner reaches out across the company to identify any other requests received for data access or data sharing. The help desk finds dozens of customer support tickets asking why many of the advice websites can’t import their league data from SWC—indicating a need to share data with those sites. Additional customer tickets are from data scientists and other data-savvy users requesting direct access to the football data from the website so they can create custom dashboards and metrics. Independent mobile app developers have also offered to develop mobile apps to serve SWC users on the mobile app stores if APIs were made available.  The product owner decides APIs show the potential to increase the company’s reach and grow the business. The question is: what type of APIs should SWC create?</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id521">
<h1>Signs You Need an API</h1>
<p>Here are some reasons that an organization may decide to create an API:<a data-type="indexterm" data-primary="APIs" data-secondary="signs you need an API" id="id522"/></p>

<ul>
<li>
<p>It would like to extend the reach of a core product or service to a broader audience, such as value-add products or onto additional platforms.</p>
</li>
<li>
<p>It has have an existing application or system to provide partner access to. For example, a company with a medical billing platform may create APIs to allow medical offices and hospitals to submit invoices.</p>
</li>
<li>
<p>People are accessing its website via web scraping or reverse engineering website APIs, which indicates a demand for an API.</p>
</li>
<li>
<p>It has valuable data, analytics, or metrics to provide to the public or partners.</p>
</li>
<li>
<p>It has created statistical or machine learning models to share.</p>
</li>
<li>
<p>It has developed generative AI models to share with application builders.</p>
</li>
</ul>
</div></aside>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Selecting the First API Products"><div class="sect1" id="id159">
<h1>Selecting the First API Products</h1>

<p>The SportsWorldCentral product team<a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="API product selection" id="ch1-prosel"/><a data-type="indexterm" data-primary="building APIs" data-secondary="selecting API products" id="ch1-prosel2"/><a data-type="indexterm" data-primary="building APIs" data-secondary="SWC" data-tertiary="API product selection" id="ch1-prosel3"/> performs additional user research by contacting the individuals who have placed help desk tickets and requested features. They also send a survey to their fantasy customers and reach out to the top five fantasy advice websites. They review online message boards and scour social media to find complaints or comments related to their website. And then they conduct some competitive analyses of other fantasy league hosts to see what APIs they provide.</p>








<section data-type="sect2" data-pdf-bookmark="Identifying Potential Users"><div class="sect2" id="id224">
<h2>Identifying Potential Users</h2>

<p>Based on your research, <a data-type="indexterm" data-primary="building APIs" data-secondary="selecting API products" data-tertiary="potential users identified" id="id523"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="potential users identified" id="id524"/>you narrow your focus down to a few users. Your fantasy manager customers haven’t asked for APIs, but they want the things that APIs will bring. They want to import their teams into the fantasy advice websites so that they can get advice on managing their teams. The advice website providers want to import SWC leagues into their websites so that SWC managers will subscribe to their service. Data science users would like to create analytics dashboards, charts, and models using the data from the website, combined with other public sources. Mobile app developers would like to create apps in the mobile app stores to help SWC managers run their teams. Generative AI developers would also like to create chatbots and other applications that can read current SWC data and give advice to managers.</p>

<p><a data-type="xref" href="#api_user_types_chapter_1">Table 1-1</a> summarizes these users with the tasks they are trying to perform and their <em>pain points</em>, which are problems they face when trying to perform that task.<a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="user tasks and pain points" id="id525"/><a data-type="indexterm" data-primary="building APIs" data-secondary="selecting API products" data-tertiary="user tasks and pain points" id="id526"/></p>
<table id="api_user_types_chapter_1">
<caption><span class="label">Table 1-1. </span>Potential consumers for your APIs</caption>
<thead>
<tr>
<th>User type</th>
<th>Primary tasks</th>
<th>Pain points</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Current SWC team managers</p></td>
<td><p>Viewing teams and leagues in fantasy advice sites</p></td>
<td><p>SWC league host is not supported by advice sites, and no mobile apps are available.</p></td>
</tr>
<tr>
<td><p>Advice website provider</p></td>
<td><p>Giving advice and creating analytics products that support as many league hosts as possible. APIs are the preferred method.</p></td>
<td><p>SWC data is not accessible through APIs or any other method.</p></td>
</tr>
<tr>
<td><p>Data science users</p></td>
<td><p>Creating analytics products</p></td>
<td><p>They can’t access SWC data reliably.</p></td>
</tr>
<tr>
<td><p>Mobile app developers</p></td>
<td><p>Creating third-party apps using SWC data</p></td>
<td><p>SWC is not available for use by mobile apps.</p></td>
</tr>
<tr>
<td><p>Generative AI developers</p></td>
<td><p>Creating chat agents and LLM apps using SWC data</p></td>
<td><p>No easy access to current SWC data.</p></td>
</tr>
</tbody>
</table>

<p>Although it is exciting to see so many potential users of APIs, the SWC product manager needs to select the first APIs to create. You work with the product managers to identify the APIs that would satisfy these users, what data would be required to support them, and any changes that would need to be made to the existing website. <a data-type="indexterm" data-primary="building APIs" data-secondary="selecting API products" data-tertiary="three criteria for evaluating" id="id527"/>With that information, the product managers apply a method from design thinking, which is to evaluate the potential products using these three criteria:</p>

<ul>
<li>
<p><em>User desirability</em>: Your users want the product.</p>
</li>
<li>
<p><em>Technical feasibility</em>: Your technical environment and team can create it.</p>
</li>
<li>
<p><em>Economic viability</em>: You expect it to be worth the investment.</p>
</li>
</ul>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Creating User Stories"><div class="sect2" id="id11">
<h2>Creating User Stories</h2>

<p>After applying these criteria, <a data-type="indexterm" data-primary="building APIs" data-secondary="selecting API products" data-tertiary="creating user stories" id="id528"/><a data-type="indexterm" data-primary="SportsWorldCentral (SWC)" data-secondary="website API" data-tertiary="user stories" id="id529"/><a data-type="indexterm" data-primary="user stories in API design" id="id530"/>they identify user needs that can be fulfilled with existing data without any major changes to the website. To make sure they understand what they’ll be building, they create <em>user stories</em>, which are informal descriptions of a feature or product that are written from the end user’s perspective. A common template for user stories is the following:</p>

<ul>
<li>
<p>As a (<em>user type</em>)</p>
</li>
<li>
<p>I want to (<em>goal or intent</em>)</p>
</li>
<li>
<p>So that (<em>motivation or benefits</em>)</p>
</li>
</ul>

<p>The SWC product managers create<a data-type="indexterm" data-primary="documentation" data-secondary="user stories for API design" id="id531"/> the following user stories to document the needs they learned their users have:</p>
<ol>
<li>
<p>As an <em>SWC team manager</em>,
I want to <em>view my fantasy league and team on advice websites</em>
so that <em>I can win my league and beat my friends.</em></p>
</li>
<li>
<p>As an <em>advice website provider</em>,
I want to <em>create analytics products such as roster advice, league analysis, and playoff predictions using current-season SWC data</em>
so that <em>I can increase the number of customers who use my website and increase ad or subscription revenue.</em></p>
</li>
<li>
<p>As a <em>data science user</em>,
I want to <em>create analytics products such as dashboards, charts, models, and metrics using SWC data</em>
so that <em>I can demonstrate and grow my data science skills, explore hypotheses and hunches about fantasy data, and build my reputation in both fields.</em></p>
</li>
<li>
<p>As a <em>generative AI developer</em>,
I want to <em>create AI applications such as chatbots using generative AI and LLMs</em>
so that <em>I can provide fantasy management advice to SWC fantasy managers.</em></p>
</li>

</ol>

<p>Congratulations! The user research you conducted has proven very valuable. You identified several users who need your data and identified ways to serve them that should generate new business for your company. The user stories you captured make an excellent starting point for your API development, which will begin in <a data-type="xref" href="ch02.html#chapter_2">Chapter 2</a>.<a data-type="indexterm" data-startref="ch1-prosel" id="id532"/><a data-type="indexterm" data-startref="ch1-prosel2" id="id533"/><a data-type="indexterm" data-startref="ch1-prosel3" id="id534"/></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id535">
<h1>Extending Your Portfolio Project</h1>
<p>In addition to the SportsWorldCentral <a data-type="indexterm" data-primary="portfolio projects" data-secondary="building an API" data-tertiary="extending portfolio project" id="id536"/><a data-type="indexterm" data-primary="building APIs" data-secondary="portfolio project extended" id="id537"/>portfolio project, you may want to use similar techniques to build a custom portfolio project in another business domain as you proceed through the book. This is a great way to apply your learning to a data source that you are familiar with or interested in learning. In each chapter, I will suggest some ways that you can apply the techniques you have learned for another portfolio project that is uniquely yours.</p>

<p>Here is how you can extend your project based on this chapter:</p>

<ul>
<li>
<p>Identify an additional business or market that would benefit from APIs. Perform online research you can use to learn about potential API consumers. Document the user types, primary tasks, and pain points of the users using the user story template.</p>
</li>
<li>
<p>Alternative: Research and use the tools from another formal technique such as <a href="https://oreil.ly/GABFo">Design Thinking</a>, <a href="https://oreil.ly/w7Alm">Lean Startup</a>, or <a href="https://oreil.ly/apio">APIOps Cycles</a> to document your users.</p>
</li>
</ul>

<p>As you continue through the rest of Part I, you can use the techniques you learn about API development to create custom APIs based on these user stories.</p>
</div></aside>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Additional Resources"><div class="sect1" id="id12">
<h1>Additional Resources</h1>

<p>To learn more about API product management, I recommend <em>APIs: A Strategy Guide</em> by Daniel Jacobson, Greg Brail, and Dan Woods (O’Reilly, 2011) and <em>Continuous API Management, 2nd Edition</em>, by Mehdi Medjaoui, Erik Wilde, Ronnie Mitra, and Mike Amundsen (O’Reilly, 2021).<a data-type="indexterm" data-primary="APIs: A Strategy Guide (Jacobson, Brail, and Woods)" id="id538"/><a data-type="indexterm" data-primary="Jacobson, Daniel" id="id539"/><a data-type="indexterm" data-primary="Brail, Greg" id="id540"/><a data-type="indexterm" data-primary="Woods, Dan" id="id541"/><a data-type="indexterm" data-primary="Continuous API Management, 2nd Edition (Medjaoui, Wilde, Mitra, and Amundsen)" id="id542"/><a data-type="indexterm" data-primary="Medjaoui, Mehdi" id="id543"/><a data-type="indexterm" data-primary="Wilde, Erik" id="id544"/><a data-type="indexterm" data-primary="Mitra, Ronnie" id="id545"/><a data-type="indexterm" data-primary="Amundsen, Mike" id="id546"/></p>

<p>For more details about design thinking and human-centered design, read the <a href="https://oreil.ly/GZW5E">IDEO Field Guide to Human-Centered Design</a>.<a data-type="indexterm" data-primary="IDEO Field Guide to Human-Centered Design" id="id547"/><a data-type="indexterm" data-primary="resources online" data-secondary="IDEO Field Guide to Human-Centered Design" id="id548"/></p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="id376">
<h1>Summary</h1>

<p>You accomplished a lot in this first chapter, and the fun is just starting.  Let’s review what you have learned so far:</p>

<ul>
<li>
<p>You learned the tasks that data scientists perform and the tools they use.</p>
</li>
<li>
<p>You learned how to design an API that data scientists will love.</p>
</li>
<li>
<p>You identified several potential consumers and found two that you could help now: data science users and advice websites.</p>
</li>
<li>
<p>You focused on user desirability, technical feasibility, and economic viability to select three user stories to begin your API development.</p>
</li>
</ul>

<p>In <a data-type="xref" href="ch02.html#chapter_2">Chapter 2</a>, you will start creating an API to fulfill the needs you identified in this chapter. It will, of course, be an API that data scientists and AI will love.
<a data-type="indexterm" data-primary="ML" data-see="machine learning (ML)" id="id549"/><a data-type="indexterm" data-primary="football" data-see="fantasy football" id="id550"/><a data-type="indexterm" data-primary="APIs" data-secondary="building" data-see="building APIs" id="id551"/><a data-type="indexterm" data-primary="software development kit" data-see="SDK (software development kit)" id="id552"/><a data-type="indexterm" data-primary="Parquet" data-see="Apache Parquet" id="id553"/><a data-type="indexterm" data-primary="data scientists" data-secondary="building APIs for" data-see="building APIs" id="id554"/><a data-type="indexterm" data-primary="SWC" data-see="SportsWorldCentral (SWC)" id="id555"/><a data-type="indexterm" data-primary="ORM" data-see="object-relational mapping (ORM)" id="id556"/><a data-type="indexterm" data-primary="identifiers" data-see="external identifiers provided" id="id557"/><a data-type="indexterm" data-primary="DTO" data-see="data transfer objects (DTOs)" id="id558"/><a data-type="indexterm" data-primary="users" data-see="data scientists" id="id559"/><a data-type="indexterm" data-primary="Lightsail container service" data-see="AWS deployment" id="id560"/><a data-type="indexterm" data-primary=".parquet format" data-see="Apache Parquet" data-primary-sortas="parquet format" id="id561"/><a data-type="indexterm" data-primary=".csv format" data-see="comma-separated values (CSV)" data-primary-sortas="csv format" id="id562"/><a data-type="indexterm" data-primary="documentation" data-secondary="readme.md" data-see="readme.md file" id="id563"/><a data-type="indexterm" data-primary="using APIs" data-secondary="data analytics" data-see="data analytics" id="id564"/><a data-type="indexterm" data-primary="directed acyclic graphs" data-see="DAGs (directed acyclic graphs)" id="id565"/><a data-type="indexterm" data-primary="Airflow" data-see="Apache Airflow" id="id566"/><a data-type="indexterm" data-primary="pipelines" data-see="data pipelines" id="id567"/><a data-type="indexterm" data-primary="projects" data-see="portfolio projects" id="id568"/><a data-type="indexterm" data-primary="large language models" data-see="LLMs (large language models)" id="id569"/><a data-type="indexterm" data-primary="artificial intelligence" data-see="AI (artificial intelligence)" id="id570"/><a data-type="indexterm" data-primary="API development" data-see="building APIs" id="id571"/><a data-type="indexterm" data-primary="data acquisition" data-secondary="databases" data-see="database creation and access" id="id572"/><a data-type="indexterm" data-primary="Python" data-secondary="SDKs" data-tertiary="swcpy SDK" data-see="SDK (software development kit); swcpy SDK" id="id573"/><a data-type="indexterm" data-primary="OpenAI" data-see="ChatGPT calling SWC API" id="id574"/><a data-type="indexterm" data-primary="the cloud" data-secondary="cloud deployment" data-see="deploying to the cloud" data-primary-sortas="cloud" id="id575"/><a data-type="indexterm" data-primary="AI (artificial intelligence)" data-secondary="OpenAPI Specification" data-see="OpenAPI Specification (OAS) file" id="id576"/><a data-type="indexterm" data-primary="Amazon Lightsail" data-see="AWS deployment" id="id577"/></p>
</div></section>
</div></section></div>
</div>
</body></html>