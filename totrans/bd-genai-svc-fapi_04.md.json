["```py\nconda create -n genaiservice python=3.11\nconda activate genaiservice\n```", "```py\n$ python3 -m venv .venv\n```", "```py\n$ source .venv/bin/activate\n```", "```py\n$ pip install \"fastapi[standard]\" uvicorn openai\n```", "```py\n# main.py\nfrom fastapi import FastAPI\nfrom openai import OpenAI\n\napp = FastAPI() ![1](assets/1.png)\nopenai_client = OpenAI(api_key=\"*`your_api_key`*\") ![2](assets/2.png)\n\n@app.get(\"/\")\ndef root_controller():\n    return {\"status\": \"healthy\"}\n\n@app.get(\"/chat\") ![3](assets/3.png)\ndef chat_controller(prompt: str = \"Inspire me\"): ![3](assets/3.png)\n    response = openai_client.chat.completions.create( ![4](assets/4.png)\n        model=\"gpt-4o\",\n        messages=[\n            {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n            {\"role\": \"user\", \"content\": prompt},\n        ],\n    )\n    statement = response.choices[0].message.content\n    return {\"statement\": statement} ![5](assets/5.png)\n```", "```py\n$ fastapi dev\n\n>> server   Server started at http://127.0.0.1:8000\n>> server   Documentation at http://127.0.0.1:8000/docs\n\n>> INFO   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n>> INFO   Started reloader process [4172] using WatchFiles\n>> INFO   Started server process [11316]\n>> INFO   Waiting for application startup.\n>> INFO   Application startup complete.\n```", "```py\n# main.py\nfrom pydantic import BaseModel, Field, EmailStr\n\nclass UserCreate(BaseModel):\n    username: str\n    password: str\n\n    @validator('password') ![1](assets/1.png)\n    def validate_password(cls, value):\n        if len(value) < 8:\n            raise ValueError('Password must be at least 8 characters long')\n        if not any(char.isdigit() for char in value):\n            raise ValueError('Password must contain at least one digit')\n        if not any(char.isupper() for char in value):\n            raise ValueError('Password must contain at least one uppercase letter')\n        return value ![2](assets/2.png)\n\napp = FastAPI()\n\n@app.post(\"/users\")\nasync def create_user_controller(user: UserCreate):\n    return {\"name\": user.name, \"message\": \"Account successfully created\"}\n\n...\n```", "```py\n# main.py\nfrom fastapi.responses import RedirectResponse\n\n@app.get(\"/\", include_in_schema=False) ![1](assets/1.png)\ndef docs_redirect_controller():\n    return RedirectResponse(url=\"/docs\", status_code=status.HTTP_303_SEE_OTHER) ![2](assets/2.png)\n```", "```py\nfrom fastapi import FastAPI, Depends\n\napp = FastAPI()\n\ndef paginate(skip: int = 0, limit: int = 10):\n    return {\"skip\": skip, \"limit\": limit}\n\n@app.get(\"/messages\")\ndef list_messages_controller(pagination: dict = Depends(paginate)):\n    return ...  # filter and paginate results using pagination params\n\n@app.get(\"/conversations\")\ndef list_conversations_controller(pagination: dict = Depends(paginate)):\n    return ...  # filter and paginate results using pagination params\n```", "```py\nfrom fastapi import FastAPI, Depends\n\ndef get_db(): ![1](assets/1.png)\n    db = ... # create a database session\n    try:\n        yield db ![2](assets/2.png)\n    finally:\n        db.close() ![3](assets/3.png)\n\napp = FastAPI()\n\n@app.get(\"users/{email}/messages\")\ndef get_current_user_messages(email, db = Depends(get_db)): ![4](assets/4.png)\n    user = db.query(...) # db is reused\n    messages = db.query(...) # db is reused\n    return messages ![5](assets/5.png)\n```", "```py\nflat-project\n├── app\n│   ├── services.py\n│   ├── database.py\n│   ├── models.py\n│   ├── routers.py\n│   └── main.py\n├── requirements.txt\n├── .env\n├── .gitignore\n```", "```py\nnested-project\n├── app\n│    ├── main.py\n│    ├── dependencies.py\n│    └── services\n│    │   ├── users.py\n│    │   └── profiles.py\n│    └── models\n│    │   ├── users.py\n│    │   └── profiles.py\n│    └── routers\n│        ├── users.py\n│        └── profiles.py\n├── requirements.txt\n├── .env\n├── .gitignore\n```", "```py\nmodular-project\n├── app\n│   └── modules\n│   │   ├── auth\n│   │   │   ├── routers.py\n│   │   │   ├── models.py\n│   │   │   ├── dependencies.py\n│   │   │   ├── guards.py\n│   │   │   ├── services.py\n│   │   └── users\n│   │   │   ├── router.py\n│   │   │   ├── models.py\n│   │   │   ├── dependencies.py\n│   │   │   ├── services.py\n│   │   │   ├── mappers.py\n│   │   │   ├── pipes.py\n│   │   └── profiles\n│   └── routers\n│   │   └── users.py\n│   └── providers\n│   │   └── email.py\n│   │   └── stripe.py\n............\n│   ├── settings.py  # global configs\n│   ├── middlewares.py  # global middleware\n│   ├── models.py  # global models\n│   ├── exceptions.py  # global exceptions\n│   └── main.py\n├── requirements.txt\n├── .env\n├── .gitignore\n```"]