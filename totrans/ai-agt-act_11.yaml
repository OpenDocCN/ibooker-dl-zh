- en: appendix A Accessing OpenAI large language models
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录A 访问OpenAI大型语言模型
- en: Although several commercial large language model (LLM) services are available,
    this book recommends using OpenAI services directly or through Azure OpenAI Studio.
    To access either service, you must create an account and register a payment method
    not covered in this appendix. The GPT-4 family of LLMs is considered best in class
    and better suited for agent development. Using open source and alternative services
    is always an option but generally only advisable after you’ve worked with GPT-4
    for some time.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有多个商业大型语言模型（LLM）服务可用，但本书建议直接使用OpenAI服务或通过Azure OpenAI Studio。要访问任一服务，您必须创建一个账户并注册一种本附录未涵盖的支付方式。GPT-4系列LLM被认为是业界最佳，更适合代理开发。使用开源和替代服务始终是一个选择，但通常在您使用GPT-4一段时间后再考虑。
- en: A.1 Accessing OpenAI accounts and keys
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.1 访问OpenAI账户和密钥
- en: 'The following general steps can help you quickly set up using OpenAI LLMs for
    agent development. Though using OpenAI and other commercial LLMs comes at a price,
    you can expect to pay less than US$100 to complete all the exercises in this book:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 以下一般步骤可以帮助您快速设置使用OpenAI LLMs进行代理开发。尽管使用OpenAI和其他商业LLM需要付费，但您预计只需支付不到100美元即可完成本书中的所有练习：
- en: Go to [https://openai.com](https://openai.com) and log in, or register for an
    account and log in. If this is your first time creating an account, you’ll likely
    be given free credit in some amount. If you already have an account, you must
    register a payment method and type. It’s generally better to purchase a number
    of credits at a time. This will allow you to manage the costs better and avoid
    overruns.
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往[https://openai.com](https://openai.com)登录，或注册账户并登录。如果您是第一次创建账户，您可能会获得一定数量的免费信用。如果您已有账户，您必须注册支付方式和类型。通常一次性购买一定数量的信用会更好。这将使您更好地管理成本并避免超支。
- en: After logging in to the platform, select ChatGPT or the API, as shown in figure
    A.1\. Choose the API.
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到平台后，选择ChatGPT或API，如图A.1所示。选择API。
- en: '![figure](../Images/A-1.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/A-1.png)'
- en: Figure A.1 Selecting the API section of the OpenAI platform
  id: totrans-7
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.1 选择OpenAI平台的API部分
- en: 3\. Open the left menu, and select the API Keys option, as shown in figure A.2.
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3. 打开左侧菜单，选择API密钥选项，如图A.2所示。
- en: '![figure](../Images/A-2.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/A-2.png)'
- en: Figure A.2 Selecting the API Keys option
  id: totrans-10
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.2 选择API密钥选项
- en: 4\. Click the Create button to create a new key, enter a name for the key, and
    click the Create Secret Key button, as shown in figure A.3.
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4. 点击创建按钮创建一个新的密钥，为密钥输入一个名称，然后点击创建秘密密钥按钮，如图A.3所示。
- en: '![figure](../Images/A-3.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/A-3.png)'
- en: Figure A.3 Creating the secret API key
  id: totrans-13
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.3 创建秘密API密钥
- en: 5\. Copy and paste the key to a notepad or another area for safekeeping using
    the Copy button, as shown in figure A.4\. Keep this key secret, and ensure it
    remains only on your development machine.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5. 使用复制按钮，将密钥复制并粘贴到记事本或其他安全区域以保存，如图A.4所示。请保密此密钥，并确保它仅存在于您的开发机器上。
- en: '![figure](../Images/A-4.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/A-4.png)'
- en: Figure A.4 Copying and pasting the key to a well-known safe location
  id: totrans-16
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.4 将密钥复制并粘贴到知名的安全位置
- en: After generating a key, you can continue to use it within an `.env` configuration
    file or through other means of registering an OpenAI key. For most of the packages
    used in this book, configuring OpenAI will generally only require the key. Other
    services, such as Azure OpenAI, will require the configuration of a model deployment
    and a base URL as covered in the next section.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 生成密钥后，您可以在`.env`配置文件或其他注册OpenAI密钥的方式中使用它。对于本书中使用的大多数包，配置OpenAI通常只需要密钥。其他服务，如Azure
    OpenAI，将需要配置模型部署和基础URL，如下一节所述。
- en: A.2 Azure OpenAI Studio, keys, and deployments
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.2 Azure OpenAI Studio、密钥和部署
- en: Through its ongoing relationship with OpenAI, Microsoft hosts the same models
    at the same price within Azure OpenAI Studio. Occasionally, Azure may be a model
    version behind, but Microsoft generally keeps current with the latest OpenAI models.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 通过与OpenAI的持续关系，Microsoft在Azure OpenAI Studio中以相同的价格托管相同的模型。偶尔，Azure可能落后于模型版本，但Microsoft通常与最新的OpenAI模型保持同步。
- en: 'These guidelines will be more general because there are several ways to access
    Azure and methods of creating accounts and accessing the studio (for specific
    instructions, refer to Microsoft documentation):'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这些指南将更加通用，因为访问Azure和创建账户以及访问工作室的方法有几种（具体说明请参阅Microsoft文档）：
- en: Log in to your Azure portal account subscription.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到您的Azure门户账户订阅。
- en: Create a new Azure OpenAI Studio resource in a region that makes sense to you.
    At the time of writing, not all regions provided access to all models. You may
    need to check which models are available for your region first. This will also
    be specific to your account and usage.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对您有意义的区域创建一个新的Azure OpenAI Studio资源。在撰写本文时，并非所有区域都提供了对所有模型的访问。您可能需要首先检查您所在区域可用的模型。这也会根据您的账户和用途而具体化。
- en: Within Azure OpenAI, models are exposed through a resource allocation called
    a *deployment*. Deployments wrap a model, such as GPT-4, and provide access to
    the resource. Figure A.5 shows an example of various models being exposed through
    deployments.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在Azure OpenAI中，模型通过称为*部署*的资源分配公开。部署封装了一个模型，例如GPT-4，并提供对资源的访问。图A.5显示了通过部署公开的各种模型示例。
- en: '![figure](../Images/A-5.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图表](../Images/A-5.png)'
- en: Figure A.5 Deploying a model through an Azure OpenAI Studio deployment
  id: totrans-25
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.5 通过Azure OpenAI Studio部署部署模型
- en: 3\. Click the Create New Deployment button to create a new deployment, and then
    select the model you want to deploy.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3. 点击创建新部署按钮以创建新的部署，然后选择您想要部署的模型。
- en: 4\. After the model is wrapped in a deployment, you must access the parent Azure
    OpenAI resource. From there, you can access the key, endpoint, or base URL needed
    to configure your connection, as shown in figure A.6.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4. 在模型被封装在部署中之后，您必须访问父Azure OpenAI资源。从那里，您可以访问配置连接所需的密钥、端点或基础URL，如图A.6所示。
- en: '![figure](../Images/A-6.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图表](../Images/A-6.png)'
- en: Figure A.6 Getting access to the keys and base URL used to access the service
  id: totrans-29
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图A.6 获取用于访问服务的密钥和基础URL
- en: 'Again, if you get stuck, the Microsoft documentation can guide you in the right
    direction. The three critical differences to remember when connecting to a resource
    such as Azure OpenAI Studio or another LLM using the OpenAI tooling are listed
    here:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 再次提醒，如果您遇到困难，Microsoft文档可以引导您走向正确的方向。在连接到Azure OpenAI Studio或另一个LLM等资源时，使用OpenAI工具时应记住的三个关键差异如下：
- en: The `api key` to access the model
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问模型的`API密钥`
- en: The base `url` or `endpoint` where the model is located
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型所在的基础`URL`或`端点`
- en: The name of the `model` or `deployment` name
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`模型`或`部署`的名称'
- en: If you can’t access a model for whatever reason, a good alternative is open
    source models. Setting up and consuming open source LLMs is covered in chapter
    2\.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果由于任何原因无法访问模型，一个很好的替代方案是开源模型。设置和消费开源LLMs的内容在第2章中介绍。
