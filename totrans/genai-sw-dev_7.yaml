- en: Chapter 7\. Chatbots and Virtual Assistants
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章：聊天机器人和虚拟助手
- en: Chatbots have been a staple of digital customer service and automation for over
    a decade. Initially built as simple rule-based programs, traditional chatbots
    followed predefined logic trees to handle repetitive tasks, such as answering
    frequently asked questions, providing automated responses in customer support,
    or collecting user information in structured workflows. These chatbots weren’t
    very powerful compared to today’s LLM-based bots, but they became a very popular
    way to automate high-volume, low-complexity interactions. However, their technical
    implementations struggled with unstructured conversations, ambiguity, or user
    inputs that deviated from expected patterns. The experience usually felt rigid
    and unnatural—people clearly understood they were talking to a machine, and those
    user interactions would frequently end with frustrating statements like, “I don’t
    understand. Please try again.”
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 聊天机器人已经成为数字客户服务和自动化的一个基本组成部分，超过十年了。最初作为简单的基于规则的程序构建，传统的聊天机器人遵循预定义的逻辑树来处理重复性任务，例如回答常见问题、在客户支持中提供自动化响应或在结构化工作流程中收集用户信息。与今天的基于LLM的机器人相比，这些聊天机器人的功能并不强大，但它们成为了一种自动化高容量、低复杂度交互的非常流行的方式。然而，它们的技术实现在与非结构化对话、歧义或偏离预期模式的用户输入方面遇到了困难。通常体验感觉僵硬且不自然——人们明显知道他们是在与一台机器对话，这些用户交互通常会以令人沮丧的声明结束，例如，“我不明白。请再试一次。”
- en: 'Now that people are used to chatting with LLM-based tools like ChatGPT, the
    rule-based approach to chatbots seems like a distant memory. Today’s AI-powered
    chatbots no longer rely solely on predefined scripts and rules. Instead, they
    leverage sophisticated natural language processing (NLP), contextual understanding,
    and generative AI to deliver dynamic, humanlike interactions. These advancements
    mean the role of chatbots has significantly expanded to include tasks like:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 现在人们已经习惯了与基于LLM（大型语言模型）的工具如ChatGPT聊天，基于规则的聊天机器人方法似乎已经成为了遥远的记忆。今天的AI聊天机器人不再仅仅依赖于预定义的脚本和规则。相反，它们利用复杂的自然语言处理（NLP）、上下文理解和生成式AI来提供动态、类似人类的交互。这些进步意味着聊天机器人的角色已经显著扩展，包括以下任务：
- en: Understanding complex queries and responding with relevant, well-formed answers
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解复杂的查询并给出相关、结构良好的答案
- en: Maintaining memory across conversations, providing continuity and context
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对话中保持记忆，提供连续性和上下文
- en: Taking actions on behalf of users, such as booking appointments or retrieving
    personalized data
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代表用户采取行动，例如预订预约或检索个性化数据
- en: Learning and adapting over time, improving based on real-world interactions
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随时间学习和适应，根据现实世界的交互进行改进
- en: Integrating with external APIs and databases to fetch real-time information
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与外部API和数据库集成以获取实时信息
- en: This transformation means that software engineers now have a broad spectrum
    of tools and frameworks available to help us build intelligent chatbots, ranging
    from no-code workflow builders to fully customizable AI-powered assistants that
    leverage agentic reasoning and training data. Whether you want to build a simple
    automated helpdesk bot or a sophisticated AI agent capable of complex decision-making,
    the technology is now more accessible than ever.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这种转变意味着软件工程师现在可以访问广泛的各种工具和框架，以帮助我们构建智能聊天机器人，从无代码工作流程构建器到完全可定制的AI助手，这些助手利用代理推理和训练数据。无论你想构建一个简单的自动化帮助台机器人，还是一个能够进行复杂决策的AI代理，技术现在比以往任何时候都更容易获得。
- en: Types of Chatbot Implementations
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聊天机器人实现类型
- en: 'There are three main options for implementing a chatbot:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 实现聊天机器人的主要选项有三种：
- en: No-code AI chatbots
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 无代码AI聊天机器人
- en: These tools promise that users without any programming knowledge will be able
    to deploy AI-powered assistants. They usually have easy-to-use interfaces where
    users can upload datasets, define workflows, and select the underlying AI models.
    While these tools are promoted for a nontechnical audience, I’m including them
    in the book because, in my experience, certain technical knowledge is often required
    to integrate these tools with other parts of a company’s workflow, and this ends
    up being part of software engineers’ scope of work.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这些工具承诺，没有编程知识的用户也能够部署AI助手。它们通常具有易于使用的界面，用户可以在其中上传数据集、定义工作流程并选择底层AI模型。虽然这些工具是为非技术用户推广的，但我将它们包括在书中，因为根据我的经验，某些技术知识通常需要将这些工具与其他公司工作流程的部分集成，而这最终成为软件工程师工作范围的一部分。
- en: 'These no-code chatbots are a natural evolution of the rule-based chatbots mentioned
    previously and cater to the same use cases: customer support, ecommerce, and FAQ
    automation.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这些无代码聊天机器人是之前提到的基于规则的聊天机器人的自然演变，并针对相同的用例：客户支持、电商和常见问题自动化。
- en: Drag-and-drop chatbot builders
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 拖放式聊天机器人构建器
- en: These tools aim to bridge the gap between simplicity and flexibility to adapt
    to the needs of different clients. They are usually easy to set up and allow users
    to build conversation flows visually by connecting boxes with predefined functionalities,
    while integrating AI-powered features for dynamic interactions. Developers can
    automate workflows and use more complex logic in the backend for the chatbot.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这些工具旨在弥合简单性和灵活性之间的差距，以适应不同客户的需求。它们通常易于设置，并允许用户通过连接具有预定义功能的框来直观地构建对话流程，同时集成AI功能以实现动态交互。开发者可以自动化工作流程，并在聊天机器人的后端使用更复杂的逻辑。
- en: These chatbot builders cater to use cases such as customer service, lead generation,
    and internal workflow automation.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这些聊天机器人构建器针对客户服务、线索生成和内部工作流程自动化等用例。
- en: Code-based AI frameworks
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 基于代码的AI框架
- en: These are usually SDKs, APIs, or open source repositories that allow software
    engineers to fully control the chatbot’s behavior, which they’ll then use as boilerplate
    to implement customized chatbot experiences. They tend to have higher standards
    for training data. Use cases include agentic reasoning, integration with other
    tools and workflows, and even data security (since these chatbots can be self-hosted
    on a company’s cloud infrastructure).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这些通常是SDK、API或开源仓库，允许软件工程师完全控制聊天机器人的行为，然后他们将其用作模板来实现定制的聊天机器人体验。它们对训练数据的标准通常更高。用例包括代理推理、与其他工具和工作流程的集成，甚至数据安全（因为这些聊天机器人可以托管在公司云基础设施上）。
- en: Evaluation Process
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评估流程
- en: To compare chatbot-building tools, I created a chatbot that interacts with this
    [Online Retail Dataset](https://github.com/sergiopereira-io/oreilly_book/blob/main/chapter8/data/product-catalog.csv),
    created by Lucas Soares, a fellow O’Reilly author in the field of machine learning.
    It consists of transactional data from an ecommerce shop; I’ve used it to test
    chatbots’ capabilities to retrieve factual data and answer complex user queries.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了比较聊天机器人构建工具，我创建了一个与这个[在线零售数据集](https://github.com/sergiopereira-io/oreilly_book/blob/main/chapter8/data/product-catalog.csv)交互的聊天机器人，这个数据集由机器学习领域的另一位O’Reilly作者Lucas
    Soares创建。它包含了一个电商店铺的交易数据；我使用它来测试聊天机器人检索事实数据和回答复杂用户查询的能力。
- en: 'Each chatbot was tested using a set of predefined queries, evaluating its:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 每个聊天机器人都使用一组预定义的查询进行测试，评估其：
- en: Ease of setup and deployment
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置和部署简便
- en: Ability to retrieve factual information
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取事实信息的能力
- en: Context retention across multiple interactions
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在多次交互中保留上下文的能力
- en: Ability to handle complex queries
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理复杂查询的能力
- en: I tested multiple tools, but I have included one from each of the categories
    outlined in the previous section.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我测试了多个工具，但我在前一个章节概述的每个类别中都包含了一个工具。
- en: 'Let’s begin with a no-code option: Chatbase.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从无代码选项开始：Chatbase。
- en: Chatbase
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Chatbase
- en: '[Chatbase](https://www.chatbase.co) was launched in 2022 as a no-code AI chatbot
    builder that allows users to create and train chatbots by uploading documents
    or datasets. It gained popularity due to its simple interface and integration
    with OpenAI’s GPT models, which made it an accessible solution for businesses
    looking to automate their support and customer interactions without the need for
    technical expertise. While the product is still relatively young, Chatbase has
    seen adoption among small businesses, solopreneurs, and startups, particularly
    for handling customer support and FAQ automation. The tool offers a free-tier
    option and a paid plan for scaling your chatbot’s capabilities.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[Chatbase](https://www.chatbase.co)于2022年推出，是一款无代码AI聊天机器人构建器，允许用户通过上传文档或数据集来创建和训练聊天机器人。由于其简单的界面和与OpenAI的GPT模型的集成，它成为了一个易于使用的解决方案，适用于希望自动化其支持和客户互动但不需要技术专长的企业。尽管该产品相对较新，Chatbase已在小型企业、单干者和初创公司中得到采用，尤其是在处理客户支持和常见问题自动化方面。该工具提供免费层选项和付费计划以扩展聊天机器人的功能。'
- en: For this test, I created a free account on the Chatbase website and looked for
    a way to create my chatbot. I quickly found the place to add the training data,
    my spreadsheet with the ecommerce product catalog (see [Figure 7-1](#ch07_figure_1_1749441077176655)).
    In a matter of two or three minutes, I was interacting with my chatbot.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这次测试，我在Chatbase网站上创建了一个免费账户，并寻找创建我的聊天机器人的方法。我很快找到了添加训练数据的地方，我的电子表格包含电子商务产品目录（见[图7-1](#ch07_figure_1_1749441077176655)）。在两三分钟内，我就开始与我的聊天机器人互动。
- en: '![](assets/gasd_0701.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0701.png)'
- en: Figure 7-1\. Chatbase’s Sources UI, where users can add training data
  id: totrans-32
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-1. Chatbase的源界面，用户可以添加训练数据
- en: 'Once the chatbot was ready, I started asking questions, as if I were a real
    client:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦聊天机器人准备就绪，我就开始提问，就像我是一个真正的客户：
- en: '[PRE0]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: It did well with the first question, fetching correct results and displaying
    them in a well-formatted response, as shown in [Figure 7-2](#ch07_figure_2_1749441077176686).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第一个问题，它做得很好，检索到正确的结果并以良好的格式显示，如[图7-2](#ch07_figure_2_1749441077176686)所示。
- en: '![](assets/gasd_0702.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0702.png)'
- en: Figure 7-2\. First question to my Chatbase chatbot (truncated to the visible
    area)
  id: totrans-37
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-2. 对我的Chatbase聊天机器人的第一个问题（截断到可见区域）
- en: 'In the second question, I purposely asked about a product that doesn’t exist:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二个问题中，我故意询问了一个不存在的产品：
- en: '[PRE1]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This is a common source of hallucinations, and once again, my Chatbase bot did
    well, stating that no product matches my query (see [Figure 7-3](#ch07_figure_3_1749441077176707)).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一种常见的幻觉来源，而且我的Chatbase聊天机器人再次表现出色，声明没有产品与我的查询匹配（见[图7-3](#ch07_figure_3_1749441077176707)）。
- en: '![](assets/gasd_0703.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0703.png)'
- en: Figure 7-3\. Second question to my Chatbase chatbot
  id: totrans-42
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-3. 对我的Chatbase聊天机器人的第二个问题
- en: 'For the third question, I asked something more complex, not only inquiring
    about specific products in the catalog, but also asking Chatbase to compare their
    attributes and ultimately provide a recommendation:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第三个问题，我提出了一个更复杂的问题，不仅询问目录中的特定产品，还要求Chatbase比较它们的属性，并最终提供推荐：
- en: '[PRE2]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Again, my Chatbase bot did well, stating the attributes of each option and making
    recommendations about when to buy one or the other (see [Figure 7-4](#ch07_figure_4_1749441077176725)).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，我的Chatbase聊天机器人做得很好，说明了每个选项的属性，并就何时购买哪一个提供了建议（见[图7-4](#ch07_figure_4_1749441077176725)）。
- en: Chatbase also makes it very easy to publish a chatbot using its Connect section.
    With a couple of clicks, I get some code to embed my chatbot in a website via
    a chat bubble or iframe. I was impressed by how easy it was to upload training
    data, test the bot, and publish it.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Chatbase还通过其连接部分使发布聊天机器人变得非常简单。只需几点击，我就能获得一些代码，通过聊天气泡或iframe将我的聊天机器人嵌入到网站中。我对上传训练数据、测试聊天机器人和发布它的简便性印象深刻。
- en: Chatbase did very well in the test, and it’s probably one of the easiest ways
    to integrate a chatbot into a website, if you have specific training data and
    make some changes to the prompt to get the desired functionality, tone, and so
    on. As such, I rate it a 9/10\. I didn’t rate it 10/10 because the end product’s
    behavior significantly resembles the default behavior of the underlying LLM (gpt-4o-mini,
    in this test). In other words, if a user were to upload the same training data
    to ChatGPT and ask these questions, the answers would be very similar. Still,
    the ease of doing all this and publishing the bot with a few clicks is impressive.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Chatbase在测试中表现非常出色，如果你有特定的训练数据并对提示进行一些修改以获得所需的功能、语气等，这可能是在网站上集成聊天机器人的最简单方法之一。因此，我给它打了9/10分。我没有给它打10/10分，因为最终产品的行为与底层LLM（gpt-4o-mini，在本测试中）的默认行为非常相似。换句话说，如果用户将相同的训练数据上传到ChatGPT并提问，答案会非常相似。尽管如此，通过几点击就能完成所有这些操作并发布聊天机器人仍然令人印象深刻。
- en: '![](assets/gasd_0704.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0704.png)'
- en: Figure 7-4\. Third question to my Chatbase chatbot
  id: totrans-49
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-4. 对我的Chatbase聊天机器人的第三个问题
- en: Botpress
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Botpress
- en: Drag-and-drop option [Botpress](https://botpress.com) was founded as an open
    source chatbot-development platform back in 2017, when that meant rule-based chatbots.
    The current version of the product offers a visual builder that enables users
    to create complex conversational logic and to integrate the resulting bot with
    third-party APIs and other applications. In recent years, Botpress’s adoption
    has grown, especially among midsize enterprises and organizations looking for
    an alternative to closed source chatbot platforms. With a modular architecture
    and self-hosting options, it appeals to businesses that need to comply with data
    privacy regulations while maintaining scalability.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 拖放选项 [Botpress](https://botpress.com) 于 2017 年成立，作为一个开源聊天机器人开发平台，当时意味着基于规则的聊天机器人。当前版本的产品提供了一个可视化构建器，使用户能够创建复杂的对话逻辑，并将生成的机器人与第三方
    API 和其他应用程序集成。近年来，Botpress 的采用率有所增长，尤其是在寻求替代封闭源代码聊天机器人平台的中型企业组织中。由于其模块化架构和自托管选项，它吸引了需要遵守数据隐私法规同时保持可扩展性的企业。
- en: To test Botpress, I followed the same playbook I used for Chatbase. I created
    a free account on the Botpress website and went through its widget to build an
    agent (that’s what it calls a chatbot). It took me some time to figure out how
    to add the training data, since I first needed to create a table (its name for
    training data in CSV format) on a separate page, then add that as a knowledge
    base to my bot (see [Figure 7-5](#ch07_figure_5_1749441077176747)).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试 Botpress，我遵循了与 Chatbase 相同的剧本。我在 Botpress 网站上创建了一个免费账户，并通过其小部件构建了一个代理（这就是它对聊天机器人的称呼）。我花了一些时间才弄清楚如何添加训练数据，因为我首先需要在单独的页面上创建一个表格（它是
    CSV 格式训练数据的名称），然后将它作为知识库添加到我的机器人中（见[图 7-5](#ch07_figure_5_1749441077176747)）。
- en: '![](assets/gasd_0705.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/gasd_0705.png)'
- en: Figure 7-5\. Botpress’s Agent Builder UI, where users can add training data
    and configure their workflow
  id: totrans-54
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-5\. Botpress 的代理构建器 UI，用户可以在其中添加训练数据和配置他们的工作流程
- en: Botpress offers more options beyond a simple chatbot feature. Users can add
    different agents and tools and compose a workflow with them that serves as the
    backend reasoning under the bot’s hood (see [Figure 7-6](#ch07_figure_6_1749441077176768)).
    It’s more powerful than Chatbase; however, getting a simple bot up and running
    took me 30 to 40 minutes of trial and error.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Botpress 提供了除简单聊天机器人功能之外更多选项。用户可以添加不同的代理和工具，并使用它们构建一个工作流程，作为机器人底下的后端推理（见[图 7-6](#ch07_figure_6_1749441077176768)）。它比
    Chatbase 更强大；然而，要创建一个简单的机器人并运行起来，我花费了 30 到 40 分钟的尝试和错误。
- en: '![](assets/gasd_0706.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/gasd_0706.png)'
- en: Figure 7-6\. Botpress’s workflow builder—I selected a very simple flow for my
    test
  id: totrans-57
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-6\. Botpress 的工作流程构建器——我为测试选择了一个非常简单的流程
- en: With the chatbot finally ready, I started interacting with it, asking the exact
    same questions I asked the Chatbase bot (see [Figure 7-7](#ch07_figure_7_1749441077176786)).
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 聊天机器人最终准备就绪后，我开始与之互动，提出与 Chatbase 机器人（见[图 7-7](#ch07_figure_7_1749441077176786)）完全相同的问题。
- en: '![](assets/gasd_0707.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/gasd_0707.png)'
- en: Figure 7-7\. First question to my Botpress chatbot
  id: totrans-60
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-7\. 向我的 Botpress 聊天机器人提出的第一个问题
- en: For the first question, the bot correctly fetched three budget Android phones;
    however, it also offered an option priced at $0, which is clearly a data error
    that it didn’t flag to me. I’d be a bit frustrated with this suggestion if I were
    a real client.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第一个问题，机器人正确地检索了三款预算 Android 手机；然而，它还提供了一个价格为 $0 的选项，这显然是一个数据错误，它没有向我标记出来。如果我是真正的客户，我可能会对这种建议感到有些沮丧。
- en: Again, in the second question I purposefully asked about a product that doesn’t
    exist, and my Botpress bot did well, correctly stating that no product matched
    my query (see [Figure 7-8](#ch07_figure_8_1749441077176802)).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，在第二个问题中，我故意询问一个不存在的产品，我的 Botpress 机器人做得很好，正确地指出没有产品符合我的查询（见[图 7-8](#ch07_figure_8_1749441077176802)）。
- en: '![](assets/gasd_0708.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/gasd_0708.png)'
- en: Figure 7-8\. Second question to my Botpress chatbot
  id: totrans-64
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-8\. 向我的 Botpress 聊天机器人提出的第二个问题
- en: Third, I once again asked a complex question about comparing the phone with
    the camera. My Botpress bot did well, stating the attributes of each option and
    when it recommended buying one or the other. The format wasn’t great, however,
    since each product’s attributes were packed into a single bullet point (see [Figure 7-9](#ch07_figure_9_1749441077176818)).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，我再次提出一个关于比较带摄像头的手机复杂的问题。我的 Botpress 机器人做得很好，列出了每个选项的属性，并指出何时推荐购买其中一个。然而，格式并不理想，因为每个产品的属性都被压缩在一个单独的项目符号中（见[图
    7-9](#ch07_figure_9_1749441077176818)）。
- en: '![](assets/gasd_0709.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/gasd_0709.png)'
- en: Figure 7-9\. Third question to my Botpress chatbot
  id: totrans-67
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-9\. 向我的 Botpress 聊天机器人提出的第三个问题
- en: Botpress also features a one-click Publish feature that creates a standalone
    URL for your chatbot and provides simple guidelines for the most popular use cases
    (implementing chat bubbles, embedding into a website, and so on).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Botpress还提供一键发布功能，为您的聊天机器人创建一个独立的URL，并提供针对最常用用例的简单指南（实现聊天气泡、嵌入到网站中等）。
- en: Botpress did well in the test. The lack of polish in some answers might be due
    to its use of an older model by default on the date of this test (gpt-4o-2024-08-06).
    It has much more comprehensive workflow features than Chatbase does; however,
    the UI is quite challenging for a new user to navigate. I rate it an 8/10.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Botpress在测试中表现良好。一些答案缺乏打磨可能是因为在这次测试的日期（2024年8月6日）默认使用了较旧的模型（gpt-4o-2024-08-06）。它比Chatbase拥有更全面的流程功能；然而，对于新用户来说，其UI相当具有挑战性。我给它打8/10分。
- en: LangChain
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: LangChain
- en: The code-based framework [LangChain](https://www.langchain.com) emerged in 2022
    in response to the increasing demand for developer-friendly frameworks to build
    AI-driven applications. It’s designed to integrate with popular LLMs like GPT-4,
    Claude, and open source alternatives, and to allow software engineers to create
    custom AI-powered assistants with advanced reasoning capabilities, memory, and
    dynamic API integrations. The framework has gained rapid adoption among AI engineers
    and startups looking to build agent-based systems that go beyond basic chatbot
    interactions, and it has become the go-to framework for LLM-powered applications
    and AI agents.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 基于代码的框架[LangChain](https://www.langchain.com)于2022年出现，以应对对开发者友好型框架日益增长的需求，用于构建AI驱动应用程序。它旨在与流行的LLM（如GPT-4、Claude和开源替代品）集成，并允许软件工程师创建具有高级推理能力、记忆和动态API集成的自定义AI助手。该框架在寻求构建超越基本聊天机器人交互的基于代理系统的AI工程师和初创公司中得到了快速采用，并已成为LLM驱动应用程序和AI代理的首选框架。
- en: For this test, I coded my own chatbot using the LangChain framework. It’s a
    very well-documented framework, so it was rather easy to get started. It took
    me about 30 to 40 minutes to get from an empty repository to the chatbot in the
    following images (with help from Cursor for boilerplate, the verbose chunks of
    the code, and some formatting adjustments at the end). The resulting code is available
    in the book’s [GitHub repository](https://github.com/sergiopereira-io/oreilly_book).
    I ran it on my local machine and used the gpt-4o-mini model for this test.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这次测试，我使用LangChain框架编写了自己的聊天机器人。这是一个非常文档齐全的框架，因此启动起来相当容易。从我创建空仓库到以下图像中的聊天机器人，我大约花了30到40分钟（在Cursor的帮助下处理样板代码、代码中的冗长部分以及最后的格式调整）。生成的代码可在本书的[GitHub仓库](https://github.com/sergiopereira-io/oreilly_book)中找到。我在本地机器上运行了它，并使用gpt-4o-mini模型进行了这次测试。
- en: For the first question, the bot correctly fetched three Android phones, suggested
    one that’s actually a good budget phone, and explained its reasoning, which was
    also good (see [Figure 7-10](#ch07_figure_10_1749441077176838)).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第一个问题，机器人正确地检索了三部安卓手机，建议了一部实际上的好预算手机，并解释了其推理过程，这也很好（参见[图7-10](#ch07_figure_10_1749441077176838)）。
- en: '![](assets/gasd_0710.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0710.png)'
- en: Figure 7-10\. The beginning and end of my first question and the response from
    the chatbot I coded with LangChain (the verbose middle section is not displayed)
  id: totrans-75
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-10。我的第一个问题的开始和结束以及我用LangChain编写的聊天机器人的响应（冗长的中间部分未显示）
- en: For the second question, about the product that doesn’t exist, the bot indeed
    realized that no such product existed (see [Figure 7-11](#ch07_figure_11_1749441077176855)).
    The reply “I don’t know” results from a literal interpretation of the section
    of the prompt that says, “If you don’t know the answer, just say you don’t know.”
    This is quirky, but actually correct.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第二个问题，关于不存在的产品，机器人确实意识到不存在这样的产品（参见[图7-11](#ch07_figure_11_1749441077176855)）。回复“我不知道”是由于对提示中“如果你不知道答案，就说我不知道”这一部分的字面解释。这很奇特，但实际上是正确的。
- en: '![](assets/gasd_0711.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0711.png)'
- en: Figure 7-11\. Second question to my LangChain chatbot
  id: totrans-78
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-11。对我的LangChain聊天机器人的第二个问题
- en: On the complex question comparing the phone with the camera, my LangChain chatbot
    did well, stating the attributes of each option and the trade-offs of choosing
    one or the other (see [Figure 7-12](#ch07_figure_12_1749441077176869)). Its answer
    is very much in line with those of the bots I created with the other tools, which
    illustrates how much of the output can be attributed to the underlying models.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在比较手机与摄像头的复杂问题上，我的LangChain聊天机器人表现良好，列举了每个选项的属性以及选择其中一个或另一个的权衡（见[图7-12](#ch07_figure_12_1749441077176869)）。它的回答与使用其他工具创建的聊天机器人的回答非常一致，这说明了输出中有多少可以归因于底层模型。
- en: '![](assets/gasd_0712.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/gasd_0712.png)'
- en: Figure 7-12\. Beginning and end of my third question and my LangChain chatbot’s
    response (verbose middle section not displayed)
  id: totrans-81
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-12\. 我的第三个问题的开始和结束以及LangChain聊天机器人的回答（中间详细部分未显示）
- en: LangChain doesn’t offer a one-click publish option. I ran this code on my local
    machine, but to make the bot publicly accessible, I would need to deploy it on
    a cloud server. Also, LangChain offers no off-the-shelf guidelines for integrating
    my chatbot as a bubble chat or embedding it in other people’s websites; that would
    need to be developed as desired.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: LangChain不提供一键发布选项。我在本地机器上运行了这段代码，但要使聊天机器人公开可访问，我需要将其部署在云服务器上。此外，LangChain没有现成的指南来集成我的聊天机器人作为气泡聊天或嵌入到其他人的网站中；这需要根据需求开发。
- en: I’ve implemented several real-world chatbot solutions with LangChain, and I
    like it a lot. It allows you to build simple chatbots or more complex ones, as
    well as multiagent workflows using LangGraph. It’s a powerful solution, but it
    certainly requires software development skills. It’s also very well documented,
    with a great developer community. With assistance from other AI tools, like Cursor
    and GitHub Copilot, these implementations take a fraction of the time they’d have
    taken just a few years ago. As such, I rate LangChain a 10/10.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我已经使用LangChain实现了几个现实世界的聊天机器人解决方案，并且非常喜欢它。它允许你构建简单的聊天机器人或更复杂的聊天机器人，以及使用LangGraph的多代理工作流程。这是一个强大的解决方案，但确实需要软件开发技能。它也拥有非常好的文档，拥有一个优秀的开发者社区。借助Cursor和GitHub
    Copilot等其他AI工具的帮助，这些实现所需的时间只是几年前的一小部分。因此，我给LangChain打10/10分。
- en: Tool Comparison
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工具比较
- en: All of the tools in this test performed very well, which is why they’re included
    here (see [Table 7-1](#ch07_table_1_1749441077178378)). However, LangChain will
    continue to be my go-to tool for building any kind of chatbot.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次测试中，所有工具的表现都非常出色，这也是它们被包括在这里的原因（见[表7-1](#ch07_table_1_1749441077178378)）。然而，LangChain将继续成为我构建任何类型聊天机器人的首选工具。
- en: Table 7-1\. AI chatbot tools overview
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 表7-1\. AI聊天机器人工具概述
- en: '| Tool | UX | Test performance |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| 工具 | UX | 测试性能 |'
- en: '| --- | --- | --- |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Chatbase | No-code AI chatbot | 9/10 |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| Chatbase | 无代码AI聊天机器人 | 9/10 |'
- en: '| Botpress | Drag/drop chatbot builder | 8/10 |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| Botpress | 拖放式聊天机器人构建器 | 8/10 |'
- en: '| LangChain | AI code framework | 10/10 |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| LangChain | AI代码框架 | 10/10 |'
- en: Conclusion
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: As a CTO, I’ve built many chatbots over the years, mostly before the recent
    generative AI wave, with functionality limited to predefined logic trees and very
    niche use cases.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名首席技术官，我多年来构建了许多聊天机器人，大多数是在最近的生成式人工智能浪潮之前，功能仅限于预定义的逻辑树和非常狭窄的应用场景。
- en: The tests for this chapter highlight that it’s now possible to build a highly
    capable chatbot with minimal effort. These chatbots are capable both in terms
    of being trained on specific data, and also in their tone, range of inference,
    and ability to follow the specifics of the desired use case. It should be no surprise
    that thousands of businesses are integrating these capabilities into their products.
    It’s also interesting to observe the massive shift in UI patterns, away from the
    traditional list→search→detail approach and toward chatbot UIs that allow the
    user to “talk with the data” in a less structured way.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的测试突出了现在可以以最小的努力构建一个高度功能的聊天机器人。这些聊天机器人在特定数据上训练、语气、推理范围以及遵循所需用例的具体能力方面都表现出色。毫不奇怪，成千上万的企业正在将这些功能集成到他们的产品中。观察用户界面模式的巨大转变，从传统的列表→搜索→详细方法转向允许用户以更非结构化的方式“与数据交谈”的聊天机器人UI，这也是很有趣的。
- en: It’s worth noting that this shift toward chatbot UIs creates room for hallucinations,
    partial responses, and other well-known quirks of LLM technology. Indeed, my main
    takeaway from writing this chapter is that the outputs from all the tools in this
    test were highly dependent on the underlying LLMs they used—for better and for
    worse. It’s great that, with minimal action, a user can set up an impressive chatbot
    that fetches information, structures it correctly, and draws complex conclusions.
    But the chatbot’s output is still very much subject to the limitations of the
    underlying LLM, such as hallucinations.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，这种向聊天机器人用户界面的转变为幻觉、部分响应以及其他LLM技术的众所周知的小怪癖创造了空间。确实，我写这一章的主要收获是，在这个测试中所有工具的输出都高度依赖于它们所使用的底层LLM——无论是好是坏。用户只需进行最小程度的操作，就能设置一个令人印象深刻的聊天机器人，它能获取信息、正确地组织信息并得出复杂的结论。但聊天机器人的输出仍然非常受底层LLM的限制，例如幻觉。
