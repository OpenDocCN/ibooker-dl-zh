["```py\nimport pandas as pd\nimport altair as alt\n\ndf = pd.read_csv('source/homeless.csv')\n\ndf['Territory'] = df['Territory'].str.replace('Trentino Alto Adige', 'Trentino-Alto Adige/Südtirol')     #1\n\ndf = df[(df['Age'] == 'TOTAL') & (df['Sex'] == 'T') &  (df['Citizenship'] == 'TOTAL')]            #2\n\nurl = \"https://raw.githubusercontent.com/openpolis/geojson-italy/master/topojson/limits_IT_regions.topo.json\"\nmap = alt.topo_feature(url, \"regions\")    #3\n\nchart = alt.Chart(map).mark_geoshape().encode(\n    tooltip='properties.reg_name:N',\n    color=alt.Color('Value:Q')\n).project('mercator').properties(\n    width=500,\n    height=500\n).transform_lookup(\n    lookup='properties.reg_name',\n    from_=alt.LookupData(df, 'Territory', ['Territory', 'Value'])\n).properties(title='Homeless in Italy in 2021')\n\nchart.save('raw-chart.xhtml')\n```", "```py\nchart = alt.Chart(df).mark_bar(\n    color='#80C11E'\n).encode(\n    y = alt.Y('Territory', \n              sort='-x', \n              axis=alt.Axis(title='')),\n    x = alt.X('Value', \n              axis=alt.Axis(tickCount=4,title='Number of homeless people'))\n).properties(\n    width=500,\n    title='Homelessness in Italy in 2021'\n)\n\n).properties(title='Homeless in Italy in 2021')\n\nchart = chart.configure_title(\n    fontSize=20,\n    offset=25\n).configure_axis(\n    grid=False\n).configure_view(\n    strokeWidth=0\n)\n\nchart.save('bar-chart.xhtml')\n```", "```py\nimport pandas as pd\nimport altair as alt\n\ndf = pd.read_csv('source/homeless.csv')\n\ndf['Territory'] = df['Territory'].str.replace('Trentino Alto Adige', \n↪ 'Trentino-Alto Adige/Südtirol')         #1\n\ndf = df[(df['Age'] == 'TOTAL') & (df['Sex'] == 'T') &  (df['Citizenship'] \n↪ == 'TOTAL')]                   #2\ndf = df[['Value', 'ITTER107']] \n\ndf_pop = pd.read_csv('source/population.csv')\ndf_pop = df_pop[(df_pop['Age'] == 'TOTAL') & (df_pop['Sex'] == 'T')]    #3\n\ndf_pop = df_pop[['Value', 'ITTER107','Territory']]\n\ndf_tot = df_pop.set_index('ITTER107').join(df.set_index('ITTER107'),\n↪ lsuffix='_pop', rsuffix='_hom').reset_index()\ndf_tot['Ratio'] = df_tot['Value_hom']/df_tot['Value_pop']*1000\n\nchart = alt.Chart(df_tot).mark_bar().encode(\n    y = alt.Y('Territory', \n              sort='-x', \n              axis=alt.Axis(title='')),\n    x = alt.X('Ratio', \n              axis=alt.Axis(tickCount=4,title='')),\n    color=alt.condition(alt.datum.Ratio > 2, \n                        alt.value('#80C11E'), \n                        alt.value('lightgray'))\n\n).properties(\n    width=500,\n    title='Number of homeless people in a population of 1,000'\n)\n```", "```py\nHomelessness is a heartbreaking reality that leaves individuals and families without a stable home, leading to devastating consequences such as poor health and social isolation.\n```", "```py\nThe chart describes the number of homeless people in Italy per 1,000 inhabitants, organized by region. The data is from 2021, the most recent year available (Source: ISTAT).\n```", "```py\n# Add context\nchart = chart.properties(width=500,title=alt.TitleParams(\n    text=[\"Together, Let's Make a Difference:\",\"Support Our Project to Help the Homeless!\"],\n    subtitle=['Homelessness is a heartbreaking reality that leaves individuals and families without a stable home,','leading to devastating consequences such as poor health and social isolation.', 'The chart describes the number of homeless people in Italy per 1,000 inhabitants, organized by region. ', 'The data is from 2021, the most recent year available (Source: ISTAT).']],\n    subtitleFontSize=18,\n))\n```", "```py\nimage1 = alt.Chart(pd.DataFrame({'image_url': ['source/homeless1.png']})).mark_image(\n    width=200,\n    height=200,\n).encode(\n    url='image_url',\n    x=alt.value(0),  # pixels from left\n    y=alt.value(50)  # pixels from the top\n)           #1\n\nimage2 = alt.Chart(pd.DataFrame({'image_url': ['source/homeless2.png']})).mark_image(\n    width=200,\n    height=200,\n).encode(\n    url='image_url',\n    x=alt.value(0),  # pixels from left\n    y=alt.value(300)\n)                     #2\n\nimage1 + image2 | chart\n```", "```py\nimport pandas as pd\nimport altair as alt\n\ndonuts = None\n\nfor index, row in ns.iterrows():\n    curr_ns = pd.DataFrame(\n        {'Category': ['A', 'B'],\n         'Value': [row['Allocation'], 100-row['Allocation']]\n        }                             #1\n    )\n\n    donut = alt.Chart(curr_ns).mark_arc(outerRadius=30, innerRadius=20).encode(\n        theta=alt.Theta(\"Value:Q\", stack=True),\n        color=alt.Color(\"Category:N\", scale=alt.Scale(range=['green', 'lightgray']), legend=None)         #2\n    )\n\n    title = alt.Chart(curr_ns).mark_text(text=row['Category'], y=0, size=16) #3\n\n    text = alt.Chart(curr_ns).mark_text(text=f\"{row['Allocation']}%\", color=iColor, size=16)          #4\n\n    donut = donut.properties(\n        height=100,\n        width=100\n    )          #5\n\n #6\n    if index == 0:\n #7\n        donuts = title + donut + text\n    else:\n #8\n        donuts = alt.hconcat(donuts, title + donut + text)\n\n #9\ndonuts = donuts.properties(title='Our visionary plan to harness the funds')\n```", "```py\nimport pandas as pd\nimport altair as alt\n\n# Load the dataset data/fakenews.csv.\ndf = pd.read_csv('data/fakenews.csv')\n\n# Create a column chart of the number of articles per category:   #1\n# - Use the `Category` column for x channel.\n# - Use the `Number of Articles` for y channel.\n\nchart = alt.Chart(df).mark_bar(\n    color='#81c01e'\n).encode(\n    x=alt.X('Category:N', \n            sort='-y',\n            title=None,\n            axis=alt.Axis(labelFontSize=14)\n            ),\n    y=alt.Y('Percentage of Fake Articles:Q',\n            axis=alt.Axis(labelFontSize=14, titleFontSize=14)\n            )\n).properties(\n    width=400,\n    height=300\n).configure_axis(    #2\n    grid=False        #3\n).configure_view(\n    strokeWidth=0\n).transform_calculate(\n    'Percentage of Fake Articles', alt.datum['Number of Fake Articles']/alt.datum['Number of Articles']*100\n)\n\nchart.save('raw-chart.xhtml')\n```", "```py\n# Build a Python list with the following categories and name it material_life:\n# Technology\n# Environment\n# Health\n# Science\n# Education\n# Business\n# Lifestyle\n# Travel\n# Politics\n# Economy\n# Sport\n\nmaterial_life = ['Technology', 'Environment', 'Health', 'Science', 'Education', 'Business', 'Lifestyle', 'Travel', 'Politics', 'Economy', 'Sport']    #1\n```", "```py\n# Add a new column to the dataframe df called Macro Category that contains the following values:\n# - If the Category is in material_life, then the value is Material Life.\n# - If the Category is in moral_life, then the value is Moral Life.\n# - If the Category is in spiritual_life, then the value is Spiritual Life.\n\ndf['Macro Category'] = df['Category'].apply(lambda x: 'Material Life' if x in material_life else ('Moral Life' if x in moral_life else 'Spiritual Life')) #1\n```", "```py\nchart = alt.Chart(df).mark_bar(\n).encode(\n    y=alt.Y('Category:N', \n            sort='x',\n            title=None,\n            axis=alt.Axis(labelFontSize=14)\n            ),\n    x=alt.X('Percentage of Fake Articles:Q',\n            axis=alt.Axis(labelFontSize=14, \n                          titleFontSize=14),\n    ),\n    color=alt.Color('Macro Category:N',\n                    scale=alt.Scale(\n                        range=['#991111', '#f38f8f','lightgray'],\n                        domain=['Material Life', 'Moral Life', 'Spiritual Life']\n                    ),\n                    legend=None\n            )\n).properties(\n    width=400,\n    height=400\n).transform_calculate(\n    'Percentage of Fake Articles', alt.datum['Number of Fake Articles']/alt.datum['Number of Articles']*100\n)\n```", "```py\nspiritual_image = alt.Chart(\n    pd.DataFrame({'image_url': ['media/spiritual-life.png']})\n).mark_image(\n    width=80,\n    height=80,\n).encode(\n    url='image_url',\n    x=alt.value(270),  # pixels from left\n    y=alt.value(50)\n)           #1\n```", "```py\nspiritual_text = alt.Chart(\n    pd.DataFrame({'text': ['Spiritual Life']})\n).mark_text(\n    fontSize=30,\n    color='black',\n    align='center',\n    baseline='middle',\n    font='Monotype',\n    fontStyle='italic'\n).encode(\n    x=alt.value(420),  # pixels from left\n    y=alt.value(50),\n    text='text'\n)\n```", "```py\nchart = chart + spiritual_image  + spiritual_text + moral_image + moral_text + material_image + material_text\n\nchart = chart.configure_axis(\n    grid=False\n).configure_view(\n    strokeWidth=0\n)\nchart.save('story-chart.xhtml')\n```", "```py\nchart = chart.properties(width=500,title=alt.TitleParams(\n    subtitle=['The LatestNews website is a popular source of news and information, but it is also a source of fake news.'],\n    subtitleFontSize=18,\n    fontSize=30,\n    offset=40\n))\n```", "```py\nchart = chart.properties(width=500,title=alt.TitleParams(\n    text=['Your Truth Guardian:', 'Take a Stand Against Fake News in Material and \n↪ Moral Narratives'],\n    subtitle=['The LatestNews website is a popular source of news and information, but it \n↪ is also a source of fake news.'],\n    subtitleFontSize=18,\n    fontSize=30,\n    offset=40)\n)\n```"]