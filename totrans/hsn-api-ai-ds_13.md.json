["```py\n.../analytics-project (main) $ cd chapter11\n.../chapter11 (main) $ touch requirements.txt\n```", "```py\nstreamlit>=1.38.0\nhttpx>=0.27.0\nnfl_data_py\nmatplotlib\nbackoff>=2.2.1\n```", "```py\n.../chapter11 (main) $ pip3 install -r requirements.txt\n```", "```py\n.../chapter11 (main) $ mkdir streamlit\n.../chapter11 (main) $ cp ../chapter9/notebooks/swc_simple_client.py streamlit\n```", "```py\n.../chapter11 (main) $ mkdir streamlit\n.../chapter11 (main) $ cd streamlit\n.../streamlit (main) $ touch streamlit_football_app.py\n.../streamlit (main) $ touch page1.py\n.../streamlit (main) $ touch page2.py\n```", "```py\nimport streamlit as st\nimport logging\nimport pandas as pd\n\nif 'base_url' not in st.session_state:\n    st.session_state['base_url'] = \"[insert your API base URL]\" ![1](assets/1.png)\n\nlogging.basicConfig( ![2](assets/2.png)\n    filename='football_app.log',  \n    level=logging.INFO,  \n)\n\nst.set_page_config(page_title=\"Football App\",\n                  page_icon=\":material/sports_football:\") ![3](assets/3.png)\n\npage_1 = st.Page(\"page1.py\", title=\"Team Rosters\", icon=\":material/trophy:\") ![4](assets/4.png)\n\npage_2 = st.Page(\"page2.py\", title=\"Team Stats\", icon=\":material/star_border:\")\n\npg = st.navigation([page_1, page_2]) ![5](assets/5.png)\npg.run() ![6](assets/6.png)\n```", "```py\n.../streamlit (main) $ streamlit run streamlit_football_app.py\n```", "```py\nimport streamlit as st\nimport swc_simple_client as swc\nimport pandas as pd\nimport logging\n\nlogger = logging.getLogger(__name__) ![1](assets/1.png)\n\nst.header(\"SportsWorldCentral Data App\") ![2](assets/2.png)\nst.subheader(\"Team Rosters Page\")\n\nbase_url = st.session_state['base_url'] ![3](assets/3.png)\n\ntry: ![4](assets/4.png)\n   team_api_response = swc.call_api_endpoint(base_url,swc.LIST_TEAMS_ENDPOINT)![5](assets/5.png)\n\n   if team_api_response.status_code == 200: ![6](assets/6.png)\n\n       team_data = team_api_response.json() ![7](assets/7.png)\n\n       teams_df = pd.DataFrame.from_dict(team_data) ![8](assets/8.png)\n\n       unique_leagues = teams_df['league_id'].unique() ![9](assets/9.png)\n       unique_leagues = sorted(unique_leagues.astype(str)) \n\n       if 'unique_leagues' not in st.session_state: ![10](assets/10.png)\n           st.session_state['unique_leagues'] = unique_leagues\n```", "```py\n        selected_league = st.sidebar.selectbox('Pick league ID',unique_leagues)![1](assets/1.png)\n\n        st.sidebar.divider()\n        st.sidebar.subheader(\":blue[Data sources]\")\n        st.sidebar.text(\"SportsWorldCentral\")\n\n        flat_team_df = pd.json_normalize(\n           team_data, 'players', ['team_id', 'team_name','league_id']) ![2](assets/2.png)\n       column_order = ['league_id','team_id','team_name','position',\n                       'player_id', 'gsis_id', 'first_name', 'last_name']\n        flat_team_df_ordered = flat_team_df[column_order]\n\n        if 'flat_team_df_ordered' not in st.session_state:\n            st.session_state['flat_team_df_ordered'] = flat_team_df_ordered\n\n        display_df = flat_team_df_ordered.drop(columns=['team_id','player_id'])\n\n        display_df['league_id'] = display_df['league_id'].astype(str) \n        display_df = display_df[display_df['league_id'] == selected_league] ![3](assets/3.png)\n\n        st.dataframe(display_df,hide_index=True) ![4](assets/4.png)\n\n    else:\n        logger.error(f\"Error encountered: {team_api_response.status_code} \n                     {team_api_response.text}\") ![5](assets/5.png)\n        st.write(\"Error encountered while accessing data source.\")\n\nexcept Exception as e:\n    logger.error(f\"Exception encountered: {str(e)}\") ![6](assets/6.png)\n    st.write(f\"An unexpected error occurred.\")\n```", "```py\nimport streamlit as st\nimport pandas as pd\nimport logging\nimport nfl_data_py as nfl\nimport matplotlib.pyplot as plt ![1](assets/1.png)\n\nlogger = logging.getLogger(__name__) \n\nst.header(\"SportsWorldCentral Data App\")\nst.subheader(\"Team Touchdown Totals\")\n\ntry:\n\n    flat_team_df_ordered = st.session_state['flat_team_df_ordered'] ![2](assets/2.png)\n\n    unique_leagues = st.session_state['unique_leagues'] ![3](assets/3.png)\n    selected_league = st.sidebar.selectbox('Pick league ID',unique_leagues)\n\n    st.sidebar.divider()\n    st.sidebar.subheader(\":blue[Data sources]\")\n    st.sidebar.text(\"SportsWorldCentral\")\n    st.sidebar.text(\"NFLDataPy\")\n\n  flat_team_df_ordered['league_id'] = flat_team_df_ordered[\n       'league_id'].astype(str) ![4](assets/4.png)\n    flat_team_df_ordered = flat_team_df_ordered[\n        flat_team_df_ordered['league_id'] == selected_league]\n```", "```py\nnfl_data_2023_df = nfl.import_seasonal_data([2023], 'REG') ![1](assets/1.png)\n\n columns_to_select = [\n       'player_id', 'passing_tds', 'rushing_tds', 'receiving_tds'] ![2](assets/2.png)\n    nfl_data_2023_subset_df = nfl_data_2023_df[columns_to_select].copy() \n\n    nfl_data_2023_subset_df['total_tds'] = ( ![3](assets/3.png)\n        nfl_data_2023_subset_df['passing_tds'] + \n        nfl_data_2023_subset_df['rushing_tds'] + \n        nfl_data_2023_subset_df['receiving_tds']\n    )\n\n    merged_df = pd.merge(  ![4](assets/4.png)\n        flat_team_df_ordered,\n        nfl_data_2023_subset_df,\n        how='left',   \n        left_on='gsis_id',\n        right_on='player_id'\n    )\n\n    grouped_df = merged_df.groupby('team_name')['total_tds'].sum() ![5](assets/5.png)\n\n    fig, ax = plt.subplots() ![6](assets/6.png)\n    grouped_df.plot(kind=\"barh\", xlabel='Total TDs', \n                    ylabel=\"Team Name\", title=\"Total TDs - 2023\", ax=ax)\n\n    st.pyplot(fig) ![7](assets/7.png)\n\nexcept Exception as e:\n    st.write(f\"An unexpected error occurred: {str(e)}\")\n```", "```py\n.../streamlit (main) $  tree --prune -I 'build|*.egg-info|__pycache__'\n.\n├── football_app.log\n├── page1.py\n├── page2.py\n├── streamlit_football_app.py\n└── swc_simple_client.py\n\n1 directory, 5 files\n```", "```py\n.../analytics-project/ (main) $ git checkout -b learning-branch ![1](assets/1.png)\nSwitched to a new branch 'learning-branch'\n.../analytics-project/ (main) $ git push -u origin learning-branch ![2](assets/2.png)\n * [new branch]      learning-branch -> learning-branch\nbranch 'learning-branch' set up to track 'origin/learning-branch'.\n```", "```py\n.../analytics-project/ (learning-branch) $ git checkout main ![1](assets/1.png)\nSwitched to branch 'main'\nYour branch is up to date with 'origin/main'.\n.../analytics-project/ (main) $ rm -rf chapter9/complete\n.../analytics-project/ (main) $ rm -rf chapter10/complete\n.../analytics-project/ (main) $ rm -rf chapter11/complete\n.../analytics-project/ (main) $ mv chapter9/notebooks .\n.../analytics-project/ (main) $ mkdir airflow ![2](assets/2.png)\n.../analytics-project/ (main) $ mv chapter10/* airflow ![3](assets/3.png)\n.../analytics-project/ (main) $ mv chapter11/streamlit . ![4](assets/4.png)\n.../analytics-project/ (main) $ rm -rf chapter9 ![5](assets/5.png)\n.../analytics-project/ (main) $ rm -rf chapter10\n.../analytics-project/ (main) $ rm -rf chapter11\n```", "```py\n.../portfolio-project (main) $ tree -d  --prune -I 'build|*.egg-info|__pycache__'\n.\n├── airflow\n├── api\n├── notebooks\n└── streamlit\n\n4 directories\n```", "```py\n# Analytics Portfolio Project\nThis repository contains programs using industry-standard Python frameworks,\nbased on projects from the book _Hands-on APIs for AI and Data Science_\nwritten by Ryan Day.\n```"]