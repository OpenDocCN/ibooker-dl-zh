- en: Chapter 11\. Using APIs in Streamlit Data Apps
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A simple app today is better than an over-designed app three months late.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Thiago Teixeira, cofounder of Streamlit
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you want to demonstrate your data science skills to other people, it’s hard
    to beat a *data app*—a web application displaying your data science models, graphs,
    charts, and spreadsheets. Sending a recruiter or potential client a link to a
    data app you created is a sure way to get their attention.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you will build a data app with Streamlit, an open source library
    that helps you create colorful and interactive web apps using Python. Streamlit
    handles all the complexity of the web interface so that you can focus on the data
    backend code, such as data files, pandas DataFrames, and APIs.
  prefs: []
  type: TYPE_NORMAL
- en: Streamlit apps can be deployed in a limited fashion for free on the Streamlit
    Community Cloud or paid web hosting platforms.
  prefs: []
  type: TYPE_NORMAL
- en: Engaging Users with Interactive Visualizations
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Two main types of analytics products are *tabular reports* and *visualizations*.
    Tabular reports present rows and columns of data in a spreadsheet format, which
    provides a detailed view of data. Visualizations replace tabular data with charts,
    graphs, maps, and other images that give context and color to the data. Visualizations
    can communicate ideas that are hard to see in a spreadsheet.
  prefs: []
  type: TYPE_NORMAL
- en: Streamlit supports both tabular data and visualizations in a very interactive
    way. It provides built-in *widgets*, which are application controls such as sliders
    and select boxes that allow the user to filter and interact with the data in real
    time. For a fun example, take a look at [Figure 11-1](#fantasy_history_streamlit_app_ch11),
    which shows a data app I built to track the championship titles in one of my long-running
    fantasy leagues.
  prefs: []
  type: TYPE_NORMAL
- en: '![Fantasy league data app](assets/haad_1101.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-1\. Fantasy league data app
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The built-in widgets allow a data scientist to focus on providing accurate and
    useful data, while Streamlit components make a great-looking app. Streamlit designs
    its product to have simple defaults that get users up and running quickly; this
    is Streamlit’s design principle of [promoting forward progress](https://oreil.ly/strlit).
  prefs: []
  type: TYPE_NORMAL
- en: Software Used in This Chapter
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter builds on the tools you have learned in previous chapters, especially
    pandas. [Table 11-1](#tools_table_chapter_11) displays the new tools you will
    use.
  prefs: []
  type: TYPE_NORMAL
- en: Table 11-1\. Key tools or services used in this chapter
  prefs: []
  type: TYPE_NORMAL
- en: '| Software name | Purpose |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| nfl_data_py | NFL data library |'
  prefs: []
  type: TYPE_TB
- en: '| Streamlit | Web-based analytics software |'
  prefs: []
  type: TYPE_TB
- en: nfl_data_py
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To perform data analytics, you often want to add data from multiple sources
    to make your analytics products more informative or give them wider context. For
    football data, [nflverse](https://oreil.ly/nfLV) is a rich set of open source
    libraries and data files containing NFL data. The Python library for interacting
    with the data is [nfl_data_py](https://oreil.ly/2U7P8).
  prefs: []
  type: TYPE_NORMAL
- en: You will use the most current version of nfl_data_py that is available.
  prefs: []
  type: TYPE_NORMAL
- en: Streamlit
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Streamlit is an open source Python library that you can download using `pip3`.
    By including the library, a single Python file can generate an app using the command
    `streamlit run your_script.py`. The library is easy to learn using the [Streamlit
    getting started guide](https://oreil.ly/-qxBe).
  prefs: []
  type: TYPE_NORMAL
- en: Installing Streamlit and nfl_data_py
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To install the libraries you need for this chapter, create a file named *chapter11/requirements.txt*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Update *chapter11/requirements.txt* with the following contents:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Execute the following command to install the new libraries in your Codespace:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: You should see a message that states that these libraries were successfully
    installed.
  prefs: []
  type: TYPE_NORMAL
- en: Launching Your API in Codespaces
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Figure 11-2](#ch11_architecture_streamlit) shows the high-level architecture
    of the project you will create in this chapter.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Architecture of Streamlit project](assets/haad_1102.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-2\. Architecture of the Streamlit project
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To access your API data, you will need to launch v0.2 of your API in the terminal.
    For instructions, follow [“Running the SportsWorldCentral (SWC) API Locally”](ch08.html#sportsworldcentral).
    When the API is running, copy the URL of your API from the browser address bar
    to use as the base URL in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When your API or Streamlit app is running in the terminal and you want to stop
    it, press Ctrl-C.
  prefs: []
  type: TYPE_NORMAL
- en: Reusing the Chapter 9 API Client File
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In [Chapter 9](ch09.html#chapter_9), you created a standalone Python client
    file to make the calls to your API, while adding logging, error handling, and
    backoff-retry functionality. You will reuse this file in your Streamlit app. Maintaining
    your API client outside your Streamlit app gives you reusability.
  prefs: []
  type: TYPE_NORMAL
- en: 'Copy the client file from the *chapter9/notebooks* directory (or the *chapter9/complete/notebooks*
    directory if you haven’t completed [Chapter 9](ch09.html#chapter_9) yet) into
    the *chapter11/streamlit* directory:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Creating Your Streamlit App
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Your Streamlit app will include an *entrypoint file*, which is the file that
    Streamlit loads first. In this app, you will use the entrypoint file to set the
    initial configuration and create the page navigation. Your app will also include
    individual page files that perform the work.
  prefs: []
  type: TYPE_NORMAL
- en: 'Since your API is running in the terminal window, you will need to open a second
    terminal window and execute the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Updating the Entrypoint File
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The entrypoint file contains a couple of items that are fundamental to a Streamlit
    app. The first is `st.session_state`, which is the mechanism to share information
    between pages in the application. The next is `st.navigation`, which is how you
    make a multi-page app with a shared navigation bar.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following code to *streamlit_football_app.py*, and replace the statement
    `[insert your API base URL]` with the base API URL from the API running locally:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO1-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Replace the statement `[insert your API base URL]` with the base API URL from
    the API running locally.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO1-2)'
  prefs: []
  type: TYPE_NORMAL
- en: This sets up the logging configuration for the application. All logging messages
    at `INFO` level or more severe will be saved in this file.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO1-3)'
  prefs: []
  type: TYPE_NORMAL
- en: This sets the configuration for the entire application, including the title
    and icon to display in the browser tab.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO1-4)'
  prefs: []
  type: TYPE_NORMAL
- en: This command defines the settings for the first subpage, along with the title
    and icon to display in the navigation bar.
  prefs: []
  type: TYPE_NORMAL
- en: '[![5](assets/5.png)](#co_using_apis_in_streamlit_data_apps_CO1-5)'
  prefs: []
  type: TYPE_NORMAL
- en: This creates the navigation bar and orders the subpages.
  prefs: []
  type: TYPE_NORMAL
- en: '[![6](assets/6.png)](#co_using_apis_in_streamlit_data_apps_CO1-6)'
  prefs: []
  type: TYPE_NORMAL
- en: This statement executes the current page.
  prefs: []
  type: TYPE_NORMAL
- en: Running Your Streamlit App
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To run your app, execute the following command in the terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: You will see the display shown in [Figure 11-3](#launching_streamlit_ch11).
  prefs: []
  type: TYPE_NORMAL
- en: '![Launching your Streamlit app](assets/haad_1103.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-3\. Launching your Streamlit app
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Click “Open in Browser.” You will see a blank browser window with a vertical
    ellipsis in the top right. Select the ellipsis and choose Settings. On the Settings
    screen select “Run on save,” then close the Settings window to save.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If you are prompted with “Source code changed,” select “Always rerun.” This
    ensures that coding changes are applied to the running app immediately.
  prefs: []
  type: TYPE_NORMAL
- en: You will see the blank app with a navigation bar, as shown in [Figure 11-4](#blank_app_ch11).
  prefs: []
  type: TYPE_NORMAL
- en: '![Initial blank data app](assets/haad_1104.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-4\. Initial blank data app
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can open the VS Code Simple Browser and have it running next to your code
    window. Open the VS Code Command Palette by clicking Ctrl-Shift-P. Enter **Simple
    Browser:Show**, then enter the address of the application (the one that ends with
    *app.github.dev*).
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Team Rosters Page
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Team Rosters subpage will be displayed when your application executes. It
    will call the SportsWorldCentral API, manipulate the data using pandas, and then
    display the pandas DataFrame.
  prefs: []
  type: TYPE_NORMAL
- en: The first half of this file performs some library imports and sets up the logging.
    Then, it calls the API to retrieve all the data that will be used on the page
    for both filtering and display. The data is used to create a pandas DataFrame,
    which is a handy way of processing data in Python. The pandas library supports
    many powerful data manipulation functions, which you will see in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following code to *page1.py*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO2-1)'
  prefs: []
  type: TYPE_NORMAL
- en: This statement creates a reference to the logging file that was configured in
    the entrypoint file.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO2-2)'
  prefs: []
  type: TYPE_NORMAL
- en: These headings will be printed at the top of the page.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO2-3)'
  prefs: []
  type: TYPE_NORMAL
- en: This retrieves the `base_url` variable from the session state.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO2-4)'
  prefs: []
  type: TYPE_NORMAL
- en: All of the page’s code is wrapped in a `try…​except` structure. If any unhandled
    exception occurs, it logs the error and writes an error message to the screen.
  prefs: []
  type: TYPE_NORMAL
- en: '[![5](assets/5.png)](#co_using_apis_in_streamlit_data_apps_CO2-5)'
  prefs: []
  type: TYPE_NORMAL
- en: This uses *swc_simple_client.py* to call the API and stores the `httpx.response`
    in a variable.
  prefs: []
  type: TYPE_NORMAL
- en: '[![6](assets/6.png)](#co_using_apis_in_streamlit_data_apps_CO2-6)'
  prefs: []
  type: TYPE_NORMAL
- en: A `200` value in the `status_code` indicates a successful API call. It proceeds
    to populate the page.
  prefs: []
  type: TYPE_NORMAL
- en: '[![7](assets/7.png)](#co_using_apis_in_streamlit_data_apps_CO2-7)'
  prefs: []
  type: TYPE_NORMAL
- en: This converts the JSON data from the API to a Python representation of the data.
    The `.json()` name is a bit confusing since it doesn’t return JSON data. It might
    help to think of this as the “converting from JSON” method.
  prefs: []
  type: TYPE_NORMAL
- en: '[![8](assets/8.png)](#co_using_apis_in_streamlit_data_apps_CO2-8)'
  prefs: []
  type: TYPE_NORMAL
- en: This uses pandas to create a DataFrame using the `from_dict` method. pandas
    DataFrames are convenient data structures for manipulating data.
  prefs: []
  type: TYPE_NORMAL
- en: '[![9](assets/9.png)](#co_using_apis_in_streamlit_data_apps_CO2-9)'
  prefs: []
  type: TYPE_NORMAL
- en: These two lines get a list of unique `league_id` values, convert them to a string,
    and sort them.
  prefs: []
  type: TYPE_NORMAL
- en: '[![10](assets/10.png)](#co_using_apis_in_streamlit_data_apps_CO2-10)'
  prefs: []
  type: TYPE_NORMAL
- en: This command stores the unique list of leagues in the `session_state` object
    so that all pages in the app can use them.
  prefs: []
  type: TYPE_NORMAL
- en: This page contains a navigation bar with a select box titled “Pick league ID.”
    When users select a league that has rosters, the team rosters page will be filtered
    with teams that match that `league_id` value. This filtering is accomplished by
    filtering the DataFrame and by Streamlit updating the display to match.
  prefs: []
  type: TYPE_NORMAL
- en: The remaining code creates the navigation bar, then uses pandas to format the
    data and display it on the page. It also contains matching error handling and
    exception handling statements from the previous code.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following code to *page1.py*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO3-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Create a select box in the navigation bar to select a `league_id` value.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO3-2)'
  prefs: []
  type: TYPE_NORMAL
- en: Use the pandas `json_normalize()` function to reformat the nested JSON data
    into rows and columns. Then create a new variable with a different column order.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO3-3)'
  prefs: []
  type: TYPE_NORMAL
- en: Create a filter DataFrame that contains only the values matching `selected_​lea⁠gue`,
    which the user chose in the select box.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO3-4)'
  prefs: []
  type: TYPE_NORMAL
- en: Use Streamlit’s built-in `DataFrame()` function to display the filtered DataFrame
    on the page.
  prefs: []
  type: TYPE_NORMAL
- en: '[![5](assets/5.png)](#co_using_apis_in_streamlit_data_apps_CO3-5)'
  prefs: []
  type: TYPE_NORMAL
- en: This will display an error if the API call is not successful and returns an
    HTTP status code other than 200.
  prefs: []
  type: TYPE_NORMAL
- en: '[![6](assets/6.png)](#co_using_apis_in_streamlit_data_apps_CO3-6)'
  prefs: []
  type: TYPE_NORMAL
- en: This is a general exception handling block that will be entered if anything
    goes wrong in the main processing of the page.
  prefs: []
  type: TYPE_NORMAL
- en: As you rerun the code on this page, you will see the display of the Team Rosters
    page, as shown in [Figure 11-5](#team_rosters_page_ch11).
  prefs: []
  type: TYPE_NORMAL
- en: '![Team rosters page](assets/haad_1105.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-5\. Team Rosters page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Creating the Team Stats Page
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Team Stats page will be displayed when users select Team Stats in the navigation
    bar. Instead of calling the SportsWorldCentral API, it reuses the data that was
    stored in `SessionState` as a pandas DataFrame.
  prefs: []
  type: TYPE_NORMAL
- en: The first portion of this file imports libraries and sets up the logging. Next,
    it creates items for the sidebar and filters the dataset to match the selected
    entry in the select box.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following code to *page2.py*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO4-1)'
  prefs: []
  type: TYPE_NORMAL
- en: This library will be used to format a bar chart on this page.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO4-2)'
  prefs: []
  type: TYPE_NORMAL
- en: This retrieves the API data that was created in the Team Rosters page.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO4-3)'
  prefs: []
  type: TYPE_NORMAL
- en: This retrieves the `unique_leagues` that was created on the Team Rosters page
    and adds a select box to the sidebar.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO4-4)'
  prefs: []
  type: TYPE_NORMAL
- en: These filter the DataFrame to match the `league_id` from the select box in the
    navigation bar.
  prefs: []
  type: TYPE_NORMAL
- en: You are not limited to the data available in the SportsWorldCentral API—​you
    can combine it with external sources. For the Team Stats page, you will enrich
    your data from the nfl_data_py library by joining on the `GSIS_ID` value. This
    allows your app to build a bar chart with touchdown data, which was not available
    in the API.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: In [Part I](part01.html#part_1) of this book, you chose to include the `gsis_id`
    in your API, which comes from the NFL’s Game Statistics and Information System.
    You didn’t need it for your internal operations, but you decided it would benefit
    data science users who wanted to join your data to external sources. That extra
    thought is going to pay off now for your users, because it allows you to join
    your API data to data from nfl_data_py.
  prefs: []
  type: TYPE_NORMAL
- en: The remaining code in this page first loads the data from nfl_data_py into a
    pandas DataFrame, selects four columns, then creates a new `total_tds` column.
    Next, the code uses the `merge` command to join the API data to the nfl_data_py
    data, aggregates it, and displays a chart.
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following code to *page2.py*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO5-1)'
  prefs: []
  type: TYPE_NORMAL
- en: This command calls the `import_seasonal_data` method from nfl_data_py and requests
    2023 regular season data.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO5-2)'
  prefs: []
  type: TYPE_NORMAL
- en: The next two lines build a list with the column names you want and create a
    DataFrame with the columns identified in the previous step.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO5-3)'
  prefs: []
  type: TYPE_NORMAL
- en: These add a new calculated field to the DataFrame with the combined touchdowns
    for the team.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO5-4)'
  prefs: []
  type: TYPE_NORMAL
- en: This statement uses the `pandas.merge()` function, which allows you to join
    two DataFrames. You are merging the API DataFrame and the nfl_data_py DataFrame.
  prefs: []
  type: TYPE_NORMAL
- en: '[![5](assets/5.png)](#co_using_apis_in_streamlit_data_apps_CO5-5)'
  prefs: []
  type: TYPE_NORMAL
- en: The pandas `groupby` statement combines all the players for each team and sums
    the value in the `total_tds` column.
  prefs: []
  type: TYPE_NORMAL
- en: '[![6](assets/6.png)](#co_using_apis_in_streamlit_data_apps_CO5-6)'
  prefs: []
  type: TYPE_NORMAL
- en: The next two statements build a bar chart using pandas and the matplotlib library.
  prefs: []
  type: TYPE_NORMAL
- en: '[![7](assets/7.png)](#co_using_apis_in_streamlit_data_apps_CO5-7)'
  prefs: []
  type: TYPE_NORMAL
- en: This uses Streamlit’s `pyplot()` function to display the plot created in the
    previous steps.
  prefs: []
  type: TYPE_NORMAL
- en: You will see the display of the Team Rosters page, as shown in [Figure 11-6](#team_stats_page_ch11).
  prefs: []
  type: TYPE_NORMAL
- en: '![Team stats page](assets/haad_1106.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-6\. Team Stats page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'To see the final structure of your Streamlit app, execute the `tree` command
    as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Congratulations, you’ve created a data app using Streamlit that calls the SportsWorldCentral
    API and combines it with NFL data from the nfl_data_py library.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying Your Streamlit App
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you are going to show off your data science apps, you need to have them on
    the web. Streamlit Community Cloud is a free hosting option that allows you to
    deploy your app from your GitHub repository. One downside is that the app does
    not run continually—it periodically goes to sleep and the user has to wake it
    up. To deploy to Streamlit Community Cloud, follow the [instructions from the
    Streamlit documentation](https://oreil.ly/rJgTG).
  prefs: []
  type: TYPE_NORMAL
- en: In addition to these two hosts, Streamlit links to other [deployment tutorials](https://oreil.ly/ZQXl4)
    that you can follow. For the most part, these charge for hosting.
  prefs: []
  type: TYPE_NORMAL
- en: Completing Your Part II Portfolio Project
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You have reached the end of Part II, congratulations! As you did with [Part I](part01.html#part_1),
    you will perform some housekeeping to get the portfolio project cleaned up and
    ready to share. You’ll move the code out of the chapter folders into functional
    folders.
  prefs: []
  type: TYPE_NORMAL
- en: Before you make these changes, you’ll save a copy of your files to a separate
    GitHub branch, named *learning-branch*, so that the files are still available
    if you want to continue working through the code.
  prefs: []
  type: TYPE_NORMAL
- en: 'Create the new branch from the command line as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO6-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Create a new branch named *learning-branch* locally based on the *main* branch.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO6-2)'
  prefs: []
  type: TYPE_NORMAL
- en: Push this new branch to your remote repository on GitHub.com.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, you will make some changes to the directory structure. Enter these commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_using_apis_in_streamlit_data_apps_CO7-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Switch your Codespace back to the *main* branch of your repository.
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_using_apis_in_streamlit_data_apps_CO7-2)'
  prefs: []
  type: TYPE_NORMAL
- en: Make a new directory for the files from Chapter 10.
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_using_apis_in_streamlit_data_apps_CO7-3)'
  prefs: []
  type: TYPE_NORMAL
- en: Move Chapter 10’s *airflow* files to the new folder.
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_using_apis_in_streamlit_data_apps_CO7-4)'
  prefs: []
  type: TYPE_NORMAL
- en: Move Chapter 11’s *streamlit* folder to the root directory.
  prefs: []
  type: TYPE_NORMAL
- en: '[![5](assets/5.png)](#co_using_apis_in_streamlit_data_apps_CO7-5)'
  prefs: []
  type: TYPE_NORMAL
- en: Remove all the subdirectories and their files.
  prefs: []
  type: TYPE_NORMAL
- en: 'To see the directory structure of the completed project, run the following
    command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'Update the *README.md* file with the following at a minimum, then add your
    own thoughts about what you’ve learned in your project and how you’ve customized
    it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: Now commit these changes to GitHub, and your Part II portfolio project is ready
    to share with the world. Congratulations on completing your Part II capstone!
  prefs: []
  type: TYPE_NORMAL
- en: Additional Resources
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you’d like to learn more about the components of Streamlit, the [Streamlit
    documentation](https://docs.streamlit.io) is well written and easy to use.
  prefs: []
  type: TYPE_NORMAL
- en: Tyler Richards’ *Streamlit for Data Science, 2nd Edition* (Packt Publishing,
    2023), is a thorough reference for using Streamlit in data science applications.
  prefs: []
  type: TYPE_NORMAL
- en: For a quick reference on Streamlit commands, view the official [Streamlit Cheat
    Sheet](https://oreil.ly/RirMd).
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you built an interactive data app with Streamlit. You consumed
    data from your SportsWorldCentral API and displayed that data in your app. Then,
    you combined it with NFL data from a Python library and created a chart with the
    data.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 12](ch12.html#chapter_12), you will start learning how to use APIs
    with artificial intelligence.
  prefs: []
  type: TYPE_NORMAL
