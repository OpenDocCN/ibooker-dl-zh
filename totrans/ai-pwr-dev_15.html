<html><head></head><body>
  <h1 class="tochead" id="heading_id_2">Appendix C. <a id="idTextAnchor000"/><a id="idTextAnchor001"/><a id="idTextAnchor002"/>Setting up AWS CodeWhisperer<a id="marker-205"/></h1>

  <p class="body">This appendix will show you how to install the CodeWhisperer extension into Visual Studio Code and PyCharm.</p>

  <p class="fm-callout"><span class="fm-callout-head">Note</span> At the time of this writing, CodeWhisperer is available at no cost “during the preview period.” However, Amazon has neither given a timeline for the preview period nor discussed pricing once the preview period has ended.</p>

  <h2 class="fm-head" id="heading_id_3">C.1 Installing the CodeWhisperer extension into VS Code</h2>

  <p class="body">Installing the CodeWhisperer Extension into VS Code is similar to installing the Copilot extension. This approach is uniform, which is the nature of extensions. Here are the steps:<a id="idIndexMarker000"/><a id="idIndexMarker001"/></p>

  <p class="body-dialog">   1.  Click the Extension tab, and search for AWS Toolkit. Once you have located the correct extension, click Install (see figure C.1).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F01_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.1 The details of the AWS Toolkit with the Install button</p>
  </div>

  <p class="body-dialog">   2.  Once the extension is installed, click the AWS tab on the left side of VS Code to display the Developer Tools menu. Click the Select a Connection option (see figure C.2).<a id="marker-206"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F02_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.2 The Developer Tools menu of the AWS Toolkit tab. Note that in addition to the Select a Connection option, there is an option for CodeWhisperer.</p>
  </div>

  <p class="body-dialog">   3.  Choosing Select a Connection for the first time opens a dropdown in the center-top of VS Code. Select “Use a personal email to sign up and sign in with AWS Builder ID” (see figure C.3).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F03_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.3 The dropdown to select how you will connect to the AWS CodeWhisperer service</p>
  </div>

  <p class="body-dialog">   4.  A dialog box appears with an access code (see figure C.4). Copy this code, and then click the Copy Code and Proceed button.</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F04_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.4 You need a personalized access code to register your VS Code instance with AWS and CodeWhisperer.</p>
  </div>

  <p class="body-dialog">   5.  VS Code will ask your permission to open the Amazon AWS website. Click Open (see figure C.5).<a id="marker-207"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F05_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.5 VS Code requires explicit permission to proceed to the AWS website.</p>
  </div>

  <p class="body-dialog">   6.  Once VS Code has your permission, your default web browser will open to the AWS website. AWS will ask you to enter your email address (it recommends using your personal email address; see figure C.6).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F06_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.6 Once you have your personalized access code and navigate to the AWS website, you will be asked to create an account or log in.</p>
  </div>

  <p class="body-dialog">   7.  When you have successfully logged in or created an account, AWS will prompt you to allow permission to access your data. You are expressly granting permission to build context from the code in your IDE editor. Without this context, CodeWhisperer cannot perform its magic. You should click the Allow button (see figure C.7).<a id="marker-208"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F07_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.7 CodeWhisperer needs your permission to access the code in your editor. Once it has that permission, it can make code suggestions.</p>
  </div>

  <p class="body-dialog">   8.  With your permission, CodeWhisperer is now ready to go. You will receive a confirmation (see figure C.8).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F08_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.8 AWS has registered your account, and you are ready to continue.</p>
  </div>

  <p class="body-dialog">   9.  You must review and affirm the Amazon CodeWhisperer Terms of Service (see figure C.9). If you agree to these terms, click the Accept and Turn On CodeWhisperer button.</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F09_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.9 Review the terms of service carefully. Then, if you agree, click the button affirming that you agree.</p>
  </div>

  <p class="body">CodeWhisperer is now ready to use in VS Code.</p>

  <h2 class="fm-head" id="heading_id_4">C.2 Installing the CodeWhisperer plug-in in PyCharm</h2>

  <p class="body"><a id="marker-209"/>The process of installing the CodeWhisperer Plugin in PyCharm is very similar to the process of installing the extension in VS Code. The steps are the same, but the menus differ slightly. If you read the last section, you are well-armed to tackle this section. Even if you did not read the previous section, we will walk through the process, making it straightforward and painless. Follow these steps: <a id="idIndexMarker002"/><a id="idIndexMarker003"/><a id="idIndexMarker004"/><a id="idIndexMarker005"/></p>

  <p class="body-dialog">   1.  Open Preferences (on a Mac) or Options (on Windows), and click the Plugins tab. Search for “AWS Toolkit,” and when you have found it, click the Install button (see figure C.10).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F10_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.10 The Plugins tab after we searched for and found AWS Toolkit</p>
  </div>

  <p class="body-dialog">   2.  After you complete the plug-in installation, click the AWS Toolkit tab in the bottom-left quadrant of PyCharm (see figure C.11). This will bring up the developer tools and allow you to create a new connection to AWS.<a id="marker-210"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F11_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.11 The AWS Toolkit tab allows you to connect to AWS and start and pause CodeWhisperer.</p>
  </div>

  <p class="body-dialog">   3.  Click + Add Connection to AWS. Doing so launches a dialog box asking you to select how to connect to AWS and which credentials to use. Choose “Use a personal email to sign up and sign in with AWS Builder ID” and click Connect (see figure C.12).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F12_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.12 Dialog asking you to select how you will connect to AWS</p>
  </div>

  <p class="body-dialog">   4.  PyCharm will launch another dialog containing a personal access code (see figure C.13). You need to copy this code, because you must authorize AWS to access the data in your PyCharm editor. Click Open and Copy Code.<a id="marker-211"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F13_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.13 This dialog contains your personalized code and the button to continue.</p>
  </div>

  <p class="body-dialog">   5.  Your default browser will open and navigate to the AWS website, where there is a window to paste your access code (see figure C.14). Enter this code, and click Next.</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F14_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.14 The web form where you paste the code you previously copied</p>
  </div>

  <p class="body-dialog">   6.  AWS will ask you to log in using your personal email address (see figure C.15). If you do not already have a Builder account, you can register for one. Then, either log in or create a new account to continue.<a id="marker-212"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F15_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.15 You can log in to an existing Builder account or register for a new one.</p>
  </div>

  <p class="body-dialog">   7.  We are nearing the end of this process and will be using CodeWhisperer before you know it. You will find that the effort is well worth it. All that is left is to authorize AWS to collect specific (and limited) personal data: your email address and the context of your editor (see figure C.16). Then, click Allow to continue.</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F16_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.16 AWS needs your permission to collect information so that CodeWhisperer can provide suggestions.</p>
  </div>

  <p class="body-dialog">   8.  You will receive confirmation that the AWS Toolkit, which includes CodeWhisperer, has been authorized for use in PyCharm (see figure C.17).<a id="marker-213"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F17_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.17 AWS confirms that CodeWhisperer is ready to go.</p>
  </div>

  <p class="body">Now you can begin to use the tool. First you need to start the CodeWhisperer’s code suggestion engine. Go back to the AWS Toolkit tab (bottom-left by default), click Developer Tools, expand CodeWhisperer, and click Start (see figure C.18).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F18_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.18 The AWS Toolkit widget from which you can start (and stop) CodeWhisperer’s code suggestion engine</p>
  </div>

  <p class="body">Once you have started CodeWhisperer, the AWS Toolkit plug-in will present you with the Amazon CodeWhisperer Terms of Service to review and accept (or reject) (see figure C.19). To use CodeWhisperer, you must accept these terms, but you should still read them carefully. If you accept, click the Accept and Turn On CodeWhisperer button.<a id="marker-214"/></p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F19_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.19 The Amazon CodeWhisperer Terms of Service. You must accept these terms to use CodeWhisperer.</p>
  </div>

  <p class="body">Now, let’s get hacking.<a id="idIndexMarker006"/><a id="idIndexMarker007"/><a id="idIndexMarker008"/><a id="idIndexMarker009"/></p>

  <h2 class="fm-head" id="heading_id_5">C.3 Uttering your first words with CodeWhisperer</h2>

  <p class="body"><a id="marker-215"/>With the setup and preliminaries out of the way, let’s build a basic Flask application. In your preferred IDE, create a file called app.py. Next, add the following prompt as a comment in the file. Just like Copilot, CodeWhisperer accepts prompts as comments:<a id="idIndexMarker010"/></p>
  <pre class="programlistinge"># create a Flask application that has a route to /
# which returns the text "Hello World."</pre>

  <p class="body">When you press Enter after this prompt, CodeWhisperer will suggest an <code class="fm-code-in-text">import</code> statement (see figure C.20).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F20_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.20 Your first CodeWhisperer suggestion: in this case, an <code class="fm-code-in-text">import</code> statement</p>
  </div>

  <p class="body">Continue to press Enter and marvel as CodeWhisperer auto-completes the program line by line. You might consider reformatting the code to make it more readable, but it should work without significant issues. You may need to use pip to install Flask: <code class="fm-code-in-text">pip install flask</code>.</p>

  <p class="fm-code-listing-caption">Listing C.1 Complete source code listing (formatted for readability)</p>
  <pre class="programlisting"><b class="fm-bold"># create a Flask application that has a route to /</b>
<b class="fm-bold"># which returns the text "Hello World."</b>
from flask import Flask
  
app = Flask(__name__)
  
  
@app.route('/')
def hello_world():
    return 'Hello World
  
if __name__ == '__main__':
    app.run()</pre>

  <p class="body">Run this application. Your application should be bound to the default port: 5000 (see figure C.21).</p>

  <div class="figure">
    <p class="figure1"><img alt="" class="calibre4" src="../Images/APPC_F21_Crocker2.png"/></p>

    <p class="figurecaption">Figure C.21 Your first CodeWhisperer-assisted application, running on the default port</p>
  </div>

  <p class="body"><a id="marker-216"/>Congratulations! You now have another tool in your AI-assisted toolbelt. You are ready to continue your journey into high(er) productivity.</p>
</body></html>