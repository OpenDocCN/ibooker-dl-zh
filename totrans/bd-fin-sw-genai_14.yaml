- en: 12 Where to go from here
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12 接下来去哪里
- en: This chapter covers
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Expanding the dashboard
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扩展仪表板
- en: Enhancing our ACH processing
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提升我们的自动清算所处理
- en: Diving further into FinTech
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 深入探索金融科技
- en: In this book, we worked through an entire program increment—starting from research
    spikes, we derived a minimum viable product (MVP) and enhanced the product based
    on feedback from our stakeholders. Along the way, we explored programming with
    Python using FastAPI to document and power our APIs. Furthermore, we used Next.js
    and Material UI to present the data stored in our Postgres database. Working on
    this project expanded our knowledge of FinTech and Automated Clearing House processing.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们完成了一个整个程序增量——从研究激增开始，我们推导出一个最小可行产品（MVP），并根据利益相关者的反馈增强了产品。在这个过程中，我们使用FastAPI进行Python编程，以记录和驱动我们的API。此外，我们使用Next.js和Material
    UI来展示存储在我们Postgres数据库中的数据。在这个项目中工作扩展了我们对金融科技和自动清算所处理的了解。
- en: However, we only scratched the surface of what is possible. By processing ACH
    transactions, we were able to drive a lot of interesting features you are likely
    to encounter on a regular basis. In other words, the project is now at a point
    where you can expand it to different areas of software development and finance.
    This chapter shares some ideas you can use to improve the project, and figure
    12.1 shows an overview of various possibilities.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们只是触及了可能性的表面。通过处理自动清算所交易，我们能够驱动许多你可能在日常生活中经常遇到的有意思的功能。换句话说，项目现在处于一个可以扩展到软件开发和金融不同领域的点。本章分享了一些你可以用来改进项目的想法，图12.1展示了各种可能性的概述。
- en: '![A diagram of a company  Description automatically generated](../Images/CH12_F01_Kardell.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![公司图示  自动生成描述](../Images/CH12_F01_Kardell.png)'
- en: Figure 12.1  Expanding our project
  id: totrans-8
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.1 扩展我们的项目
- en: 12.1 Backend processing
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.1 后端处理
- en: We built the backend processing using Python, FastAPI Framework, and a database
    running Postgres. While we had a chance to touch on all those areas, we did not
    really examine them in depth, but now it’s a perfect time for you to investigate
    some of the possibilities we skipped or were not able to cover. This section touches
    on some areas of the backend that you may find both interesting and valuable.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用Python、FastAPI框架和运行Postgres的数据库构建了后端处理。虽然我们有机会触及所有这些领域，但我们并没有真正深入地检查它们，但现在是你调查我们跳过或未能涵盖的一些可能性完美的时机。本节涉及后端的一些你可能觉得既有趣又有价值的领域。
- en: 12.1.1 Asynchronous processing
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.1.1 异步处理
- en: You should have a better understanding of ACH processing at this point, so let’s
    investigate some possibilities for enhancing the parsing of uploaded files. When
    uploading a file, we currently must wait for the file to load and process before
    a response is returned. For large files, this is simply not going to be a nice
    experience as the process may time out and users may not realize the file is still
    loading in the background. This downside may result in users trying to process
    the file a second, third, or fourth time. Depending on the safeguards we have
    in place, it could very well lead to duplicate transactions being posted to accounts
    if there is no way to identify the file is the same (such as computing a hash).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你应该对自动清算所处理有了更好的理解，因此让我们探讨一些增强上传文件解析的可能方法。在上传文件时，我们目前必须等待文件加载和处理完毕后才能返回响应。对于大文件来说，这根本不会是一个愉快的体验，因为处理过程可能会超时，用户可能不会意识到文件仍在后台加载。这个缺点可能会导致用户尝试第二次、第三次或第四次处理文件。根据我们实施的保障措施，如果没有方法可以识别文件是相同的（例如计算哈希），这很可能会导致重复的交易被记入账户。
- en: We need to worry not only about large files, but also about the ancillary processing
    that goes along with file loading. We saw a piece of this with OFAC scanning and
    how we would likely need to integrate scans into the processing of an ACH file
    itself. You would also need to post the transactions to the account, debiting
    or crediting the account as appropriate. When OFAC scanning and the accounts are
    separate services or require additional API calls, you will see a degradation
    of the user experience when larger files or remote services are involved.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不仅需要担心大文件，还需要担心与文件加载相关的辅助处理。我们在OFAC扫描和我们将如何可能需要将其集成到自动清算所文件处理本身中看到了这一点。你还需要将交易记入账户，根据适当的情况借记或贷记账户。当OFAC扫描和账户是独立的服务或需要额外的API调用时，当涉及大文件或远程服务时，你会看到用户体验的下降。
- en: One way to deal with this problem is to introduce asynchronous processing to
    the file load and then process the file in steps. By introducing this type of
    processing, you’ll also have additional opportunities to improve the user experience.
    Imagine that a user loads a file. As soon as you can confirm the file is uploaded
    successfully, you can respond to the user at that point. The file can then be
    processed and the user alerted through a message on the dashboard, an email, or
    text. To implement this feature, you will need to introduce a file status and
    track the file through the various stages.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这个问题的方法之一是在文件加载中引入异步处理，然后分步骤处理文件。通过引入这种处理方式，你还将有更多机会改进用户体验。想象一下，用户正在加载一个文件。一旦你可以确认文件已成功上传，你就可以在那个点响应用户。然后文件可以被处理，用户可以通过仪表板上的消息、电子邮件或短信得到通知。要实现这个功能，你需要引入文件状态并跟踪文件通过各种阶段。
- en: 12.1.2 ORM frameworks
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.1.2 ORM 框架
- en: An object-relational mapper (ORM) allows mapping objects to a database and can
    simplify the interactions between our classes and the database. ORMs such as SQL­Alchemy
    and Peewee are popular options for Python and work with a variety of databases,
    including our Postgres database. So, why didn’t we use an ORM?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 对象关系映射器 (ORM) 允许将对象映射到数据库，并可以简化我们的类与数据库之间的交互。SQLAlchemy 和 Peewee 等ORM是 Python
    中流行的选项，可以与包括我们的 Postgres 数据库在内的各种数据库一起工作。那么，我们为什么没有使用 ORM 呢？
- en: We believe that ORMs are very handy, but the level of abstraction that comes
    with them gives them a learning curve. Of course, learning pure SQL has its own
    learning curve! Now that you have learned some SQL concepts and created a fair
    number of queries, it’s a great time to see whether you could drop in an ORM and
    replace some of the handwritten SQL.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们认为 ORM 非常方便，但它们带来的抽象级别也带来了一定的学习曲线。当然，学习纯 SQL 也有其学习曲线！现在你已经学习了一些 SQL 概念并创建了一些查询，现在是时候看看你是否可以加入
    ORM 并替换一些手写的 SQL。
- en: 12.1.3 Application programming interfaces
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.1.3 应用程序编程接口
- en: RESTful APIs are ubiquitous in the industry at this point, and FastAPI gave
    us a great way to build APIs in our application. It also allowed us to easily
    generate OpenAPI documentation, so there were plenty of opportunities to learn
    about API development. We also took a brief look at API managers such as WSO2\.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，RESTful API 在行业中无处不在，FastAPI 为我们在应用程序中构建 API 提供了一种很好的方法。它还允许我们轻松生成 OpenAPI
    文档，因此有很多机会学习 API 开发。我们还简要地了解了一些 API 管理器，例如 WSO2。
- en: We built enough APIs to demonstrate the ACH processing and some dashboard functionality,
    but to have a fully functioning dashboard, we would need to generate additional
    APIs and functionality. For instance, the dashboard should provide the ability
    to add/update/delete companies, delete uploaded files, and undo anything related
    to the deleted file (e.g., OFAC-related scans). You could expand or enhance the
    current APIs in plenty of places in the project.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 我们构建了足够的 API 来演示 ACH 处理和一些仪表板功能，但要有一个完全功能的仪表板，我们需要生成额外的 API 和功能。例如，仪表板应该提供添加/更新/删除公司、删除上传的文件以及撤销与删除文件相关的一切（例如，OFAC
    相关的扫描）的能力。你可以在项目的许多地方扩展或增强当前的 API。
- en: Another option would be to start incorporating GraphQL. While RESTful APIs are
    still the predominant API standard, there is still a place for GraphQL. Regardless
    of whether we want to migrate away from REST or use it in conjunction with our
    RESTful APIs, GraphQL is an interesting option worth exploring. If nothing else,
    you can gain some hands-on experience, so that you have an informed opinion when
    another team wants to implement it.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择可能是开始引入 GraphQL。虽然 RESTful API 仍然是主要的 API 标准，但 GraphQL 仍然有其位置。无论我们是否想要从
    REST 迁移，还是将其与我们的 RESTful API 结合使用，GraphQL 都是一个值得探索的有趣选项。至少，你可以获得一些实践经验，这样当另一个团队想要实施它时，你会有一个有根据的意见。
- en: 12.2 Infrastructure
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.2 基础设施
- en: Most companies and projects have a robust infrastructure—it supports the long-term
    sustainability of the project. For example, projects need to be built, packaged,
    and deployed in some form. This process may require code merges, reviews, and
    scanning for vulnerabilities or just ensuring the code meets existing standards.
    In this section, we look at how to improve the infrastructure of the ACH dashboard.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数公司和项目都有强大的基础设施——它支持项目的长期可持续性。例如，项目需要以某种形式构建、打包和部署。这个过程可能需要代码合并、审查、扫描漏洞或只是确保代码符合现有标准。在本节中，我们探讨如何改进
    ACH 仪表板的架构。
- en: 12.2.1 Docker
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1 Docker
- en: With the ACH dashboard, we relied heavily on Docker, not just because container
    technology is important to understand and get comfortable with, but also because
    it is useful when exploring other technologies and products.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 ACH 仪表板，我们高度依赖 Docker，不仅因为理解并熟悉容器技术很重要，而且因为探索其他技术和产品时它也非常有用。
- en: Companies such as Atlassian have Docker images that allow us to run their products,
    which facilitates evaluating them in a sandbox environment. We saw how easy it
    was to get Postgres up and running with a Docker image. In addition, the WSO2
    API Manager was also available to download from Docker. You should keep in mind
    that whenever you want to explore something new, there may be a container that
    lets you start working quickly. Whether it is an official image from Docker on
    Golang, MongoDB, or a Debian Linux distribution, you can explore a wealth of things
    even without installing a bunch of products on your machine—just use a container
    and get rid of it once you are done.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，Atlassian 等公司提供了允许我们运行其产品的 Docker 镜像，这有助于在沙盒环境中评估它们。我们看到了如何使用 Docker 镜像轻松地将
    Postgres 启动并运行。此外，WSO2 API Manager 也可通过 Docker 下载。您应该记住，无论何时您想要探索新事物，都可能有一个容器让您快速开始工作。无论是
    Docker 上的官方 Golang、MongoDB 或 Debian Linux 发行版的镜像，您都可以探索丰富的资源，而无需在您的机器上安装大量产品——只需使用容器，完成后即可丢弃。
- en: 12.2.2 Multitenant environment
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.2 多租户环境
- en: Although there are a few flavors of multitenant environments, we consider that
    a multi­tenant environment involves two distinct entities (financial institutions)
    sharing the same database table. We only considered this application being used
    by Futuristic FinTech. But what if you wanted or needed to support additional
    financial institutions? This can be tackled in several ways. First, since the
    application runs as separate services, you could simply look at spinning up additional
    containers to handle the new financial institution. You should be able to do that
    without any additional setup. Each financial institution would be running on their
    own instance, and you would have different DNS names pointing to those locations,
    such as http://bankA.dashboard.com or http://bankB.dashboard.com.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然存在几种多租户环境版本，但我们认为多租户环境涉及两个不同的实体（金融机构）共享相同的数据库表。我们只考虑了该应用程序被 Futuristic FinTech
    使用。但如果您想要或需要支持额外的金融机构呢？这可以通过几种方式来解决。首先，由于应用程序作为独立服务运行，您可以简单地启动额外的容器来处理新的金融机构。您应该能够做到这一点而无需任何额外设置。每个金融机构都会在自己的实例上运行，并且您会有不同的
    DNS 名称指向这些位置，例如 http://bankA.dashboard.com 或 http://bankB.dashboard.com。
- en: Another option would be to update the database so that the tables also utilize
    a tenant ID. which could be the ABA number for the bank or some other identifier.
    This option allows the bank to exist in the same database. The identifier does
    not necessarily need to be added to all the tables (e.g., the individual ACH record
    tables do not need an identifier because they are dependent on the ACH file table),
    meaning the ACH file itself can be tied to a particular bank and then all the
    records within that file will automatically be associated with that bank. However,
    you would need to review the queries to ensure that it is not possible to pull
    bank data using a UUID of another bank.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择是更新数据库，使表也利用租户 ID，这可能是银行的 ABA 号码或其他标识符。这个选项允许银行存在于同一个数据库中。标识符不一定需要添加到所有表中（例如，个人
    ACH 记录表不需要标识符，因为它们依赖于 ACH 文件表），这意味着 ACH 文件本身可以与特定的银行关联，然后该文件中的所有记录将自动与该银行关联。然而，您需要审查查询以确保无法使用另一家银行的
    UUID 拉取银行数据。
- en: There are pros and cons to using a single database versus multiple databases.
    Depending on the industry, company, and governing regulations, customer may be
    required to be isolated in databases and even restricted to using their own hardware.
    However, adding other banks that can use the dashboard with their own routing
    numbers, companies, and similar, would let you explore different types of architectures
    and a chance to address these types of problems.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 使用单个数据库与多个数据库相比，各有优缺点。根据行业、公司和监管法规的不同，客户可能需要将数据隔离在不同的数据库中，甚至限制使用自己的硬件。然而，添加其他可以使用自己的路由号、公司和其他类似功能的仪表板，将允许您探索不同类型的架构，并有机会解决这类问题。
- en: 12.2.3 Continuous integration and delivery
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.3 持续集成和交付
- en: Our project used several containers running under Docker. This approach worked
    well enough for our needs, especially with running our database in a container.
    We were able to bring the container down and start with a fresh database as needed.
    A challenge that we encountered was taking our project from our IDE or a source
    control system such as GitHub and deploying it to those containers because that
    is currently a manual process.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的项目使用了在Docker下运行的几个容器。这种方法对我们的需求来说已经足够好了，尤其是在运行数据库在容器中时。我们能够在需要时将容器关闭并从全新的数据库开始。我们遇到的一个挑战是将我们的项目从IDE或GitHub这样的源代码控制系统转移到那些容器中，因为目前这是一个手动过程。
- en: A great direction to explore (especially if you have not had much opportunity
    to do so) is to look at various ways to automate those tasks. This gets you moving
    in a continuous integration (CI) and continuous deployment (CD) direction. For
    instance, you could automate moving and/or building the code into the appropriate
    containers from your IDE. You could also create an instance of a CI/CD server
    such as Jenkins and learn to build and deploy the code from there. Furthermore,
    you could also use GitHub Actions to deploy the code, although with the current
    infrastructure setup to be running in a local Docker container, using a local
    Jenkins server may be easier.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一个值得探索的方向（特别是如果你没有太多机会这样做）是看看自动化这些任务的各种方法。这让你朝着持续集成（CI）和持续部署（CD）的方向前进。例如，你可以从IDE自动化移动和/或构建代码到适当的容器中。你也可以创建一个CI/CD服务器（如Jenkins）的实例，并学习从那里构建和部署代码。此外，你也可以使用GitHub
    Actions来部署代码，尽管由于当前的基础设施设置需要在本地Docker容器中运行，使用本地Jenkins服务器可能更容易。
- en: A build server such as Jenkins allows you to automate other tasks as part of
    your build, such as running unit tests, scanning for security vulnerabilities,
    and performing a slew of other tasks. You are likely to find these types of build
    servers at companies of any size and in any industry.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 像Jenkins这样的构建服务器允许你在构建过程中自动化其他任务，例如运行单元测试、扫描安全漏洞以及执行一系列其他任务。你很可能会在任何规模和任何行业的公司中找到这些类型的构建服务器。
- en: 12.2.4 Testing
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.4 测试
- en: We tried to introduce several methods of testing the application, drawing mostly
    on TDD and BDD. We did not have a chance to revisit load testing of our APIs using
    Locust after it was introduced. We also did not do too much UI testing, besides
    a few tests in Jest and Playwright.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们尝试引入了几种测试应用程序的方法，主要借鉴了TDD和BDD。在引入后，我们没有机会重新审视使用Locust对API进行负载测试。我们也没有进行太多的UI测试，除了在Jest和Playwright中进行的一些测试。
- en: Expanding the tests and reviewing the test coverage would be a great way to
    familiarize yourself with the testing process. You could also ensure the tests
    are robust enough to work when being run through a CI/CD server. A lot can be
    learned from writing tests and ensuring that they run through a release pipeline.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展测试和审查测试覆盖率是熟悉测试过程的一个很好的方法。你也可以确保测试足够健壮，能够在CI/CD服务器上运行。从编写测试和确保它们通过发布管道运行中可以学到很多东西。
- en: 12.2.5 Database
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.5 数据库
- en: We used Postgres as our database of choice, but you are certainly not limited
    to using Postgres. Changing the database can be tied to exploring ORM frameworks
    as they provide a level of abstraction that can be helpful when the underlying
    database needs to be swapped. If the business has another vendor or database product
    they prefer, you often must go with that database. If you are interested in selling
    a product and allowing customers to install it in their environment, having flexibility
    in the database choice can be a big selling point. If a company uses Oracle database
    and your product requires a Postgres database, customers may not be interested
    in the overhead associated with managing another database product.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们选择了Postgres作为我们的数据库首选，但你当然不限于使用Postgres。更改数据库可以与探索ORM框架相关联，因为它们提供了一种抽象级别，当底层数据库需要更换时可能很有帮助。如果企业有其他他们偏好的供应商或数据库产品，你通常必须使用那个数据库。如果你对销售产品并允许客户在其环境中安装它感兴趣，数据库选择的灵活性可以成为一个很大的卖点。如果一家公司使用Oracle数据库，而你的产品需要Postgres数据库，客户可能不会对管理另一个数据库产品的开销感兴趣。
- en: An alternative is not just to swap out the RDMS from Postgres to some other
    vendor but also to consider exploring a NoSQL database such as MongoDB. While
    Postgres was a great choice for storing the data for the ACH dashboard, it may
    be interesting to start moving some of the tables over to MongoDB. You could begin
    with something small, such as the `bank_routing_numbers` table and then look for
    other tables that can be moved. Do you need MongoDB for the ACH dashboard? No,
    but you already understand the table structure and data that may make exploring
    and transitioning to a new database interesting.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一种替代方案不仅仅是将Postgres的RDMS（关系数据库管理系统）换成其他供应商的产品，还要考虑探索使用NoSQL数据库，例如MongoDB。虽然Postgres是存储ACH仪表板数据的绝佳选择，但将一些表迁移到MongoDB可能也很有趣。你可以从一些小的地方开始，比如`bank_routing_numbers`表，然后寻找可以迁移的其他表。你需要MongoDB来用于ACH仪表板吗？不需要，但你已经理解了可能使探索和过渡到新数据库变得有趣的表结构和数据。
- en: 12.3 User interface
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.3 用户界面
- en: A lot can be done from the UI perspective if you want to explore the other end
    of development. Throughout the project, we used React and the Next.js framework
    to build the interface. You can use other React frameworks or switch gears and
    use Angular or even plain old HTML, CSS, and JavaScript! It all depends on where
    your interests and needs lie.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想探索开发的另一端，从UI（用户界面）的角度来说，有很多事情可以做。在整个项目中，我们使用了React和Next.js框架来构建界面。你可以使用其他的React框架，或者转换方向使用Angular，甚至使用传统的HTML、CSS和JavaScript！这完全取决于你的兴趣和需求所在。
- en: 12.3.1 Charts and forms
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.3.1 图表和表单
- en: We used Recharts to create some scatterplots, bar graphs, and pie charts. However,
    we did not go in depth, and you could certainly work on adding new charts and
    visualizing other aspects of the ACH files. Figures 12.2 and 12.3 show two sample
    charts, visualizing ACH files over a period of time. As the current charts focus
    on the existing contents of the files, they would be a great addition for our
    users.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用了Recharts来创建一些散点图、条形图和饼图。然而，我们没有深入研究，你当然可以致力于添加新的图表并可视化ACH文件的其他方面。图12.2和12.3展示了两个样本图表，可视化了一段时间内的ACH文件。由于当前的图表专注于文件中的现有内容，它们将是我们用户的一个很好的补充。
- en: You could also let users choose the type of chart they want to see the data
    displayed in. It would also be nice to have some interactivity added to the charts,
    such as dynamically adjusting the data or navigating to other pages in response
    to user actions. By adding additional charts and interactivity, you may improve
    the user experience and make the dashboard even more practical.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以让用户选择他们想要查看数据显示的图表类型。给图表添加一些交互性也会很好，比如根据用户操作动态调整数据或导航到其他页面。通过添加额外的图表和交互性，你可能可以改善用户体验，并使仪表板更加实用。
- en: Another aspect of the dashboard that could use some updating is the basic manage­ment
    of information through using forms. For instance, the company information was
    displayed, but it was not possible to update it. You could enable updating, perform
    validation, or try different methods of presenting the data to the user. We also
    used a lot of DataGrid elements to display our data. You may continue to use those
    or design other components to display data. This may lead you to explore concepts
    such as those in *Data-Oriented Programming* (2022, Manning) by Yehonathan Sharvit.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 仪表板需要更新的另一个方面是通过使用表单来管理信息的基本方式。例如，公司信息被显示出来，但无法更新它。你可以启用更新、执行验证或尝试不同的方法向用户展示数据。我们还使用了大量的DataGrid元素来展示我们的数据。你可能继续使用这些元素，或者设计其他组件来展示数据。这可能会引导你探索像Yehonathan
    Sharvit在《面向数据的编程》（2022，Manning）中提到的那些概念。
- en: '![A graph of a number of columns  Description automatically generated](../Images/CH12_F02_Kardell.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![多列的图表，描述自动生成](../Images/CH12_F02_Kardell.png)'
- en: Figure 12.2  Payroll by month over the year
  id: totrans-48
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.2  一年内按月支付的工资
- en: '![A graph of a graph of a number of companies  Description automatically generated
    with medium confidence](../Images/CH12_F03_Kardell.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![多个公司的图表，描述自动生成，中等置信度](../Images/CH12_F03_Kardell.png)'
- en: Figure 12.3  ACH returns by company
  id: totrans-50
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.3  按公司划分的ACH返回
- en: 12.3.2 Configurable dashboards
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.3.2 可配置的仪表板
- en: You saw that there are at least three levels of progression (and possibly more)
    when it comes to configurable dashboards. You could create some more prepackaged
    components that users could drag onto the dashboard screen to configure what they
    want to see when they view the main dashboard and company level. While that would
    give users more flexibility and could greatly benefit them, we can provide them
    with even more customization.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，在可配置仪表板方面，至少有三个级别的发展（可能还有更多）。你可以创建一些更多的预包装组件，用户可以将它们拖放到仪表板屏幕上以配置他们在查看主仪表板和公司级别时想要看到的内容。虽然这会给用户带来更多灵活性，并且可能极大地造福他们，但我们还可以提供更多的定制。
- en: Instead of choosing from prepackaged components, what if you allowed them to
    customize and configure their own components? By allowing the user to pick the
    fields that are being displayed and generating charts based on that information,
    you give them finer control over the UI.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 而不是从预包装组件中选择，如果允许他们自定义和配置自己的组件会怎样？通过允许用户选择要显示的字段并根据该信息生成图表，你可以给他们提供更精细的UI控制。
- en: The next progression would be to allow users to write their own components using
    an API provided by the dashboard or backend. Products such as Jenkins or the Atlassian
    suite let third parties to write tools that extend the product functionality.
    Imagine the ACH dashboard UI had a marketplace where custom user components are
    integrated into the dashboard using the type of customization we previously described.
    Perhaps users want to publish messages to Microsoft Teams or a Slack/Discord channel
    to alert when an ACH file is loaded, an exception occurred processing a file,
    or there is a transaction for a VIP customer.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个发展步骤是允许用户使用仪表板或后端提供的API编写自己的组件。例如，Jenkins或Atlassian套件允许第三方编写扩展产品功能的外部工具。想象一下，ACH仪表板UI有一个市场，其中自定义用户组件通过我们之前描述的定制方式集成到仪表板中。也许用户想要在ACH文件加载、处理文件时发生异常或为VIP客户有交易时向Microsoft
    Teams或Slack/Discord频道发布消息以发出警报。
- en: 12.3.3 Mobile version
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.3.3 移动版本
- en: We used APIs to ensure the backend and the UI were separated. Not only is using
    an API a great way to separate components, but it also lets you create other ways
    (or channels) for users to communicate with the application. For instance, you
    could use React Native, Dart, Swift, Kotlin, or anything you desired to design
    a mobile version of the dashboard.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用API来确保后端和UI分离。不仅使用API是分离组件的好方法，而且它还允许你创建其他方式（或渠道）供用户与应用程序通信。例如，你可以使用React
    Native、Dart、Swift、Kotlin或任何你想要的来设计仪表板的移动版本。
- en: Another approach for a mobile application would be to allow customers (companies)
    to create batches and enter transactions for the ACH system right from their Mobile
    App! So, even when dealing with the ACH and FinTech, we can still work in this
    area as well.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于移动应用程序的另一种方法可能是允许客户（公司）直接从他们的移动应用程序中创建批次并输入ACH系统的交易！因此，即使在处理ACH和FinTech时，我们也可以在这个领域继续工作。
- en: 12.4 Finance
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.4 财务
- en: If we already have a lot of knowledge in the technical side of things and want
    to continue to expand the capabilities of the application, there are numerous
    possibilities for that as well.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们在技术方面已经拥有大量知识，并希望继续扩展应用程序的功能，那么也有许多可能性。
- en: 12.4.1 Accounts and customers
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.1 账户和客户
- en: One of the first tasks we would suggest undertaking is the addition of accounts
    to the application. Whether they exist in the same database or as a separate service
    is a decision that can be made as part of the overall design. The addition of
    accounts brings up a few possibilities, not the least of which is that if you
    have account numbers, those accounts must belong to customers. The relationship
    between customers and accounts is no trivial matter, and you can look at handling
    relationships on accounts such as the primary/secondary owners or authorized signers,
    to name a few.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们建议首先进行的一项任务是为应用程序添加账户。这些账户是存在于同一数据库中还是作为独立服务，这是可以在整体设计中做出的决定。添加账户会带来一些可能性，其中最不重要的是，如果你有账户号码，这些账户必须属于客户。客户与账户之间的关系并非小事，你可以考虑处理账户上的关系，例如主要/次要所有者或授权签字人等。
- en: With accounts in the database (or posted via an API to a core banking product),
    the ACH transactions can be posted to the account. This has a cascading effect
    of causing you to handle insufficient fund conditions (also known as NSF), errors
    with the wrong or incorrect account number, interest accruals, and statements.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据库中的账户（或通过API发布到核心银行产品），ACH交易可以入账到账户。这会产生级联效应，导致您需要处理资金不足条件（也称为NSF）、错误的或错误的账户号码错误、利息累积和账单。
- en: When an account has insufficient funds to cover a transaction, this can create
    a whole new world of transfers for accounts. You may have overdraft protection
    on the account or may transfer funds from another account to cover the charges.
    Furthermore, you may want to look at scheduled transfer or bill payments.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个账户的资金不足以支付交易时，这可能会为账户创造一个全新的转账世界。您可能在该账户上有透支保护，或者可能从另一个账户转账资金以支付费用。此外，您可能还想查看计划转账或账单支付。
- en: When a transaction does not post because of insufficient funds or an invalid
    account number or any number of other conditions, it may be returned or unposted.
    The way you need to deal with returned or unposted items may vary from one customer
    to another, as well as with the circumstances of the situation.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当一笔交易由于资金不足、无效的账户号码或其他多种条件而未能入账时，它可能会被退回或未入账。您需要处理退回或未入账项的方式可能因客户而异，以及根据具体情况的不同。
- en: All of this account activity—such as transactions posting, overdraft transfers
    taking place and associated fees—must be reflected on the customer’s monthly statement.
    These statements and notices may be mailed via snail mail, email, or available
    online for viewing.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些账户活动——例如交易入账、透支转账以及相关费用——必须在客户的月度账单上反映。这些账单和通知可以通过平信、电子邮件或在线查看。
- en: Finally, most of what is previously done also needs to be reversed. For instance,
    if a transaction posts multiple times to an account because of some error, you
    need to be able to safely reverse that debit or credit. This could also cause
    a cascading effect of having to undo the transfer for an overdraft, as well as
    any associated fees the account may have incurred due to the erroneous transaction
    postings.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，之前所做的许多事情也需要被撤销。例如，如果由于某些错误，一笔交易多次入账到账户，您需要能够安全地撤销该借记或贷记。这也可能导致需要撤销透支转账以及账户可能因错误交易入账而发生的任何相关费用。
- en: 12.4.2 ACH origination and returns
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.2 ACH 原始交易和退回
- en: ACH origination is the process of creating ACH transactions such as credits
    and debits that will be processed by the ACH network. In our project, we focused
    on receiving and processing ACH files within the dashboard. Financial institutions
    may originate ACH files to help facilitate movement of funds between the bank
    and their customers. We kind of touched on the process of originating files with
    the creation of our ACH files for testing. However, with the addition of companies
    to our dashboard, some additional opportunities for development arise when it
    comes to originating files. The companies that have defined the database may want
    to originate files for paying their employees (payroll) or other businesses/companies.
    You would need to provide the ability to create batches with transaction entries/addenda
    as necessary. The financial institution would then send these batches on behalf
    of the company.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ACH 原始交易是指创建将由 ACH 网络处理的 ACH 交易，如贷记和借记。在我们的项目中，我们专注于在仪表板内接收和处理 ACH 文件。金融机构可以创建
    ACH 文件以帮助促进银行与其客户之间的资金转移。我们在创建用于测试的 ACH 文件时，也稍微触及了创建文件的过程。然而，随着我们仪表板中公司的增加，在创建文件方面出现了更多的发展机会。那些定义了数据库的公司可能希望为支付员工（工资）或其他企业/公司创建文件。您需要提供创建带有交易条目/附加信息的批次的必要能力。然后，金融机构将代表公司发送这些批次。
- en: Another aspect of ACH processing is the need to process returns. An ACH return
    happens when the financial institution rejects the transaction. Examples of why
    this might happen are incorrect account information, insufficient funds, or a
    stop payment on the transaction. With an ACH return, you would be returning the
    funds to an account they came from and possibly charging a fee.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ACH 处理的另一个方面是需要处理退回。当金融机构拒绝交易时，就会发生 ACH 退回。可能导致这种情况发生的原因包括账户信息不正确、资金不足或交易中的止付。在
    ACH 退回的情况下，您将把资金退回到原始账户，并可能收取费用。
- en: By adding the functionality for ACH origination and handling of returns, you
    are beginning to build a more complete ACH-processing system.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 通过添加ACH发起和处理退回的功能，您开始构建一个更完整的ACH处理系统。
- en: 12.4.3 Positive Pay
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.3 正面支付
- en: Another feature you could consider is building a Positive Pay system. Positive
    Pay is a system of fraud prevention originally created for check processing, but
    it has been expanded to other transaction processing areas as well. Basically,
    with Positive Pay customers would enter transactions on the dashboard or upload
    a list of expected transactions through the dashboard. The system would then check
    fields such as date, dollar amount, account number, names, and similar against
    the company-provided data to ensure transactions were added.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以考虑的另一个功能是构建正面支付系统。正面支付是一种最初为支票处理而创建的欺诈预防系统，但它已经扩展到其他交易处理领域。基本上，使用正面支付，客户将在仪表板上输入交易或在仪表板上上传预期交易的列表。然后系统将检查日期、金额、账户号码、姓名等字段，与公司提供的数据进行核对，以确保已添加交易。
- en: When transactions coming into the system do not match an item, they are flagged
    and rejected for processing. Basically, this is meant to prevent unauthorized
    transactions from being processed by the bank, reducing risk and fraud for both
    the company and the bank. Positive Pay is often offered to commercial customers,
    but in theory, it could be used by any customer.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当进入系统的交易与项目不匹配时，它们会被标记并拒绝处理。基本上，这是为了防止银行处理未经授权的交易，降低公司和银行的风险和欺诈。正面支付通常提供给商业客户，但在理论上，任何客户都可以使用。
- en: 12.4.4 Service charges
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.4 服务费用
- en: This is a broad area where customers may be assessed service charges or fees
    for types of transactions or problems with their account. For instance, most people
    are painfully familiar with an overdraft or insufficient funds fee, which can
    happen when a transaction comes in for more than our available balance, and the
    bank assesses a fee. Obviously, if you are processing ACH transactions, you could
    certainly encounter this situation. Other fees may be associated with different
    actions, perhaps originating ACH transactions, processing IAT transactions, creating
    a stop payment, or a monthly maintenance fee, to name just a few.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个广泛的领域，客户可能会因交易类型或账户问题而被收取服务费用或费用。例如，大多数人痛苦地熟悉透支或资金不足的费用，这发生在交易金额超过可用余额时，银行会收取费用。显然，如果您正在处理ACH交易，您可能会遇到这种情况。其他费用可能与不同的操作相关，例如发起ACH交易、处理IAT交易、创建止付或每月维护费，仅举几个例子。
- en: Given that you have companies, customers, and accounts (depending on how many
    additional features you have implemented), there are ample opportunities to apply
    different types of service charges to customers. Sticking with the ACH theme,
    you may choose to also charge companies for the number of transactions they have
    processed or originated, or you may charge them for returned or reversed items.
    While service charges start to tackle the broader FinTech area, there are plenty
    of opportunities to apply charges to ACH specific areas.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您拥有公司、客户和账户（根据您实施了多少附加功能而定），有充足的机会向客户应用不同类型的服务费用。继续遵循ACH主题，您可以选择根据公司处理的交易数量或发起的交易数量收费，或者对退回或撤销的项目收费。虽然服务费用开始涉及更广泛的FinTech领域，但在ACH特定领域应用费用仍有大量机会。
- en: 12.5 Final thoughts
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.5 最后的想法
- en: We have made it to the end of our journey and would like to thank you for sticking
    with us! The main goal for this book was to pique your interest in software development
    and finance, hoping that you continue exploring other areas or dive deeper into
    a topic that we have already touched upon. In our experience, what separates good
    software developers from great software developers is curiosity and the willingness
    to expand one’s knowledge to continue to grow. Taking on this book and making
    it to the end should show you that you have what it takes to be a great programmer.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经到达了旅程的终点，并希望感谢您一直陪伴我们！本书的主要目标是激发您对软件开发和金融的兴趣，希望您继续探索其他领域或深入研究我们已经触及的主题。根据我们的经验，将优秀的软件开发者与伟大的软件开发者区分开来的是好奇心和愿意扩展知识以继续成长。承担这本书并完成它应该表明您具备成为一名优秀程序员所需的素质。
- en: In this book, you had an opportunity to work through a FinTech project following
    an agile methodology. We wanted to provide you with a project based on the real
    world and follow the same process that you are likely to see in any company you
    will work for.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，你有机会通过敏捷方法完成一个FinTech项目。我们希望提供一个基于现实世界的项目，并遵循你可能在任何你将工作的公司中看到的过程。
- en: From processing an ACH file, to creating APIs, and presenting everything in
    a UI, you worked on a lot of areas and covered a lot of additional topics. We
    hope you enjoyed the journey!
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 从处理ACH文件，到创建API，以及在UI中展示一切，你工作了很多领域，覆盖了很多额外的主题。我们希望你喜欢这段旅程！
- en: Summary
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Whether it is expanding the existing code, swapping out the FastAPI framework,
    or moving away from Python entirely, a plethora of things can be done to continue
    expanding the backend processing of our project. Rewriting functionality from
    one language to another often provides a great learning experience, and the ability
    to use language or framework features not available in the original language can
    be illuminating.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不论是扩展现有代码、替换FastAPI框架，还是完全转向Python之外，我们都可以做很多事情来继续扩展项目的后端处理。将功能从一种语言重写到另一种语言通常能提供很好的学习体验，而且能够使用在原始语言中不可用的语言或框架特性，这可以带来启发。
- en: Sometimes, pieces of code or entire applications need to be rewritten because
    of resource constraints. We have seen applications rewritten into a new language
    because they were legacy software written in a nonstandard language, and the team
    simply did not have the bandwidth or resources to devote to learning it just to
    maintain that piece of software.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有时，由于资源限制，需要重写代码片段或整个应用程序。我们见过应用程序被重写为新的语言，因为它们是使用非标准语言编写的遗留软件，而团队没有足够的带宽或资源去学习它，只是为了维护那块软件。
- en: Well-established products often have plenty of infrastructure around them. Such
    infrastructure is often homegrown, especially if we are dealing with legacy software
    that may have existed before commercial tools were available to fill some of the
    niches.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 建立良好的产品通常周围有大量的基础设施。这种基础设施通常是自制的，尤其是如果我们处理的是可能在商业工具可用之前就存在的遗留软件。
- en: Knowing tools that are out there can be helpful, as homegrown tools eventually
    need to be replaced. Often, as team members mature, there is a need to replace
    the existing home-grown tools with a standard product so that new team members
    have a reduced learning curve.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解现有的工具可以很有帮助，因为自制的工具最终需要被替换。通常，随着团队成员的成熟，需要用标准产品替换现有的自制工具，以便新团队成员的学习曲线降低。
- en: ACH is widely used in the United States, and as we saw, it has international
    capabilities as well. Processing ACH transactions provides some real-world exposure
    to what happens billions of times a year without much fanfare. Creating a simple
    system to begin processing ACH transactions and see just what goes on during the
    process gives us a great base to expand from.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ACH在美国被广泛使用，正如我们所见，它还具有国际能力。处理ACH交易为每年数十亿次发生但没有多少宣传的实际事件提供了真实世界的曝光。创建一个简单的系统来开始处理ACH交易，并查看处理过程中的情况，为我们提供了一个很好的扩展基础。
- en: index
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 索引
