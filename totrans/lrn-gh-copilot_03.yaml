- en: Chapter 2\. Coding with Copilot
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二章\. 使用Copilot进行编码
- en: 'Now that you have the basic foundations of what Copilot is and how it works,
    we can move on to the key aspect of how to use it. Since Copilot is intended to
    function like an AI assistant, you need to understand how to work and communicate
    with your assistant. The mechanics of this boil down to learning to work with
    the integrations in the IDE. Learning those mechanics in this chapter and the
    next will set you up for success with the rest of the book. And they will also
    answer these questions:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 既然你已经了解了Copilot是什么以及它是如何工作的基本原理，我们可以继续探讨如何使用它的关键方面。由于Copilot旨在像人工智能助手一样工作，你需要了解如何与你的助手进行工作和沟通。这一过程的本质是学习如何在IDE中与集成进行协作。在本章和下一章中学习这些机制将为你成功使用本书的其余部分打下基础。它们还将回答以下问题：
- en: How do you query the assistant and provide directions for what you need?
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你如何查询助手并提供所需的方向？
- en: How do you follow up on responses or choose from multiple suggestions?
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你如何跟进响应或从多个建议中选择？
- en: Which ways are best to communicate with it for quick suggestions or longer explanations
    when needed?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有哪些最佳方式与它进行沟通，以便快速提出建议或需要时进行更长的解释？
- en: How can you best leverage the AI to help with coding tasks?
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你如何最好地利用人工智能来帮助完成编码任务？
- en: IDE = VS Code
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IDE = VS Code
- en: GitHub Copilot can be installed and used with multiple IDEs, including VS Code,
    JetBrains IDEs, Eclipse, and NeoVim. Since we can’t cover all of these in this
    book, we are using VS Code and GitHub Codespaces as our IDE examples throughout.
    Please consult your IDE’s documentation for any differences in how to work with
    Copilot if needed.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Copilot可以与多个IDE一起安装和使用，包括VS Code、JetBrains IDEs、Eclipse和NeoVim。由于我们无法在本书中涵盖所有这些，我们将在整个书中使用VS
    Code和GitHub Codespaces作为我们的IDE示例。如有必要，请查阅你IDE的文档，了解如何与Copilot协作的任何差异。
- en: Within the IDE, Copilot provides two primary modes of interaction. The first
    mode is integration within your editor and through the context menus and related
    controls. For simplicity, I refer to this as *inline* mode since it is most commonly
    used directly from the editor or related menus. This is the mode covered in this
    chapter.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在IDE中，Copilot提供了两种主要的交互模式。第一种模式是在你的编辑器中通过上下文菜单和相关控件进行集成。为了简单起见，我将其称为*内联*模式，因为它最常直接从编辑器或相关菜单中使用。这是本章介绍的模式。
- en: The second interaction mode is through the separate *chat* interface bundled
    with Copilot. This approach offers expanded options for interaction and feedback.
    It also acts as a gateway to some of Copilot’s more advanced functionality, including
    Co­pilot’s *Agent* mode and an *advanced editing* mode. After we discuss the core
    inline use cases in this chapter, we’ll cover chat ones in Chapters [3](ch03.html#ch03)
    and [4](ch04.html#ch04).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种交互模式是通过Copilot捆绑的独立*聊天*界面进行的。这种方法提供了更广泛的交互和反馈选项。它还充当了进入Copilot一些更高级功能的大门，包括Copilot的*代理*模式和*高级编辑*模式。在本章讨论了核心内联用例之后，我们将在第[3](ch03.html#ch03)章和第[4](ch04.html#ch04)章中介绍聊天用例。
- en: Most users will likely first engage with Copilot by working in an editor in
    their IDE. As you’re coding, the installed Copilot extension gathers context and
    integrates with the remote components to provide you with suggestions. We discussed
    at a high level how that works in [Chapter 1](ch01.html#ch01). Now, let’s take
    a closer look at that flow.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数用户可能会首先通过在IDE中的编辑器与Copilot进行交互。当你编码时，已安装的Copilot扩展会收集上下文并与远程组件集成，为你提供建议。我们在[第1章](ch01.html#ch01)中从高层次讨论了这一点。现在，让我们更详细地看看这个流程。
- en: Note
  id: totrans-11
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Copilot uses different key combinations as shortcuts to invoke various functions.
    These key combinations are usually formed with a meta-key (Command, Ctrl, or Option
    key) plus a letter, number, or symbol. The meta-key will vary depending on which
    operating system you are using and possibly your keyboard. Instead of trying to
    list out each combination every time, I refer to these shortcuts by using the
    notation Meta-<character>, as in Meta-I instead of Option-I. You can find the
    list of keyboard shortcuts for your platform in the [Copilot documentation](https://oreil.ly/aAZ8S).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot使用不同的快捷键组合来调用各种功能。这些快捷键组合通常由一个元键（命令、Ctrl或Option键）加上一个字母、数字或符号组成。元键的使用取决于你使用的操作系统以及可能的键盘。为了避免每次都列出每个组合，我使用Meta-<字符>的符号来引用这些快捷键，例如Meta-I而不是Option-I。你可以在[Copilot文档](https://oreil.ly/aAZ8S)中找到你平台上的快捷键列表。
- en: Inline Suggestions
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内联建议
- en: Suppose you are going to create a Python file to work with prime numbers. You
    might start by creating a file named *prime.py*. Visually, the first evidence
    of Copilot you will probably notice is an inline option to interact with *Copilot
    Chat* through the *Meta*-I keypress combination. This reminder will appear anytime
    you edit a file if Copilot is active and chat is enabled. See [Figure 2-1](#option-to-invoke-copi).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你将要创建一个用于处理质数的 Python 文件。你可能首先创建一个名为 *prime.py* 的文件。从视觉上看，你可能会首先注意到一个内联选项，可以通过
    *Meta*-I 键组合与 *Copilot Chat* 进行交互。如果 Copilot 激活且聊天已启用，这个提醒将出现在你编辑文件时。见[图 2-1](#option-to-invoke-copi)。
- en: '![](assets/lghc_0201.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0201.png)'
- en: Figure 2-1\. An option to invoke Copilot Chat inline
  id: totrans-16
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-1\. 调用 Copilot Chat 的内联选项
- en: We’ll defer discussing this interface until [Chapter 3](ch03.html#ch03), after
    more basic interactions have been covered, since it will make more sense then.
    While this option is present by default, you can ignore it in the editor and start
    typing to proceed.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将推迟讨论这个界面，直到[第 3 章](ch03.html#ch03)，在讨论了更多基本交互之后，因为那时讨论会更合理。虽然这个选项默认存在，但在编辑器中你可以忽略它，开始输入以继续。
- en: 'To provide an example to work with, let’s create a relevant function in *prime.py*
    to check if a number is prime or not. You start typing:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提供一个可工作的示例，让我们在 *prime.py* 中创建一个相关的函数来检查一个数字是否为质数。你开始输入：
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: At this point, Copilot will start suggesting possible completions. It might
    provide an option like [Figure 2-2](#first-suggestion). The proposed text from
    Copilot is shown as *ghost text*. This means that until it is accepted, the suggested
    text will be displayed in an italicized lighter font rather than the regular dark
    font.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，Copilot 将开始提出可能的完成建议。它可能会提供一个像[图 2-2](#first-suggestion)那样的选项。Copilot
    提出的文本显示为 *幽灵文本*。这意味着，直到它被接受，建议文本将以斜体和较浅的字体显示，而不是常规的深色字体。
- en: '![](assets/lghc_0202.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0202.png)'
- en: Figure 2-2\. First suggestion
  id: totrans-22
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-2\. 第一条建议
- en: Your Suggestions May Be Different
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你的建议可能不同
- en: While reading through this chapter and any places in the book showing suggestions
    or output from Copilot, remember that since this is generative AI, suggestions
    you get back with the same context may be very different.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读本章以及书中任何显示 Copilot 建议或输出的地方时，请记住，由于这是生成式 AI，相同的上下文中你得到的建议可能会有很大不同。
- en: Copilot’s suggestion is one possible option for building out your function.
    In [Figure 2-2](#first-suggestion), there’s a gray bar above and to the right
    of the suggested text. This bar pops up when Copilot suggests text inline. The
    bar has controls to accept all or part of the suggestion. Other controls allow
    you to cycle through multiple suggestions if Copilot generates multiple choices.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot 的建议是构建你的函数的一个可能选项。在[图 2-2](#first-suggestion)中，建议文本上方和右侧有一个灰色条。当 Copilot
    在行内建议文本时，这个条会弹出。条目中有接受全部或部分建议的控制。其他控制允许你在 Copilot 生成多个选择时循环查看多个建议。
- en: Your IDE May Be Different
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你的 IDE 可能不同
- en: Throughout the book, we are using IDEs in the style of VS Code. If you are using
    a different IDE (such as one from JetBrains), your interfaces and controls may
    differ though similar functionality should be available.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我们使用 VS Code 风格的 IDE。如果你使用的是不同的 IDE（例如来自 JetBrains 的 IDE），你的界面和控制可能不同，尽管应该提供类似的功能。
- en: The text in the bar also is a reminder of corresponding keyboard shortcuts and
    options. The ones available include accepting an entire suggestion (via the Tab
    key), accepting a word at a time (via the key combination shown in the bar and
    in the doc), and additional options that can be accessed via the More Actions
    menu, which is depicted as three dots (more about those later).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 条目中的文本也是一个关于相应键盘快捷键和选项的提醒。可用的包括接受整个建议（通过 Tab 键），一次接受一个单词（通过条目和文档中显示的键组合），以及可以通过更多操作菜单访问的附加选项，该菜单以三个点表示（稍后会有更多关于这些的介绍）。
- en: In the leftmost part of that bar is < 1/2 >. This text indicates that Copilot
    has generated two possible suggestions, and you are currently looking at option
    1\. To see the other options and rotate through the potential choices, click the
    *>* and *<* symbols in the bar or use the corresponding keys on your keyboard.
    For example, if you want to look at option 2, you can click the *>* symbol (see
    [Figure 2-3](#second-suggestion1)).
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在那个条目的最左边是 < 1/2 >。这段文字表明 Copilot 生成了两个可能的建议，你现在正在查看选项 1。要查看其他选项并旋转潜在的选择，请点击条目中的
    *>* 和 *<* 符号，或者使用键盘上的相应键。例如，如果你想查看选项 2，你可以点击 *>* 符号（见[图 2-3](#second-suggestion1)）。
- en: '![](assets/lghc_0203.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0203.png)'
- en: Figure 2-3\. Second suggestion
  id: totrans-31
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-3. 第二个建议
- en: To accept either of Copilot’s suggestions, you can rotate through the options
    and then hit the Tab key to select the one you want. If you don’t like either
    suggestion, you can just continue typing.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 要接受Copilot的任何一个建议，你可以旋转选项，然后按Tab键选择你想要的选项。如果你不喜欢任何一个建议，你只需继续输入。
- en: The differences between option 1 and option 2 are subtle—just some whitespace.
    But Copilot still presents these as two separate options. Regardless of which
    option you choose, you have what looks like a viable function body that was automatically
    generated.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 选项1和选项2之间的区别细微——仅仅是些空白。但Copilot仍然将这些呈现为两个单独的选项。无论你选择哪个选项，你都会得到一个看似可行的函数体，这是自动生成的。
- en: If you choose the first option, the full suggested text is inserted into your
    file after hitting Tab. This text no longer appears ghosted. It appears the same
    as any text you manually typed ([Figure 2-4](#option-1-accepted)).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你选择第一个选项，在按Tab键后，完整的建议文本将被插入到你的文件中。这段文本不再以半透明显示。它看起来与任何你手动输入的文本一样([图2-4](#option-1-accepted))。
- en: '![](assets/lghc_0204.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0204.png)'
- en: Figure 2-4\. Option 1 accepted
  id: totrans-36
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-4. 选项1已接受
- en: 'Once you’ve used it a few times, the interface starts to feel more predictable
    and helpful. From this point, the typical workflow as you are typing code becomes
    as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦使用了几次，界面开始感觉更加可预测和有帮助。从这一点开始，当你编写代码时的典型工作流程如下：
- en: Accept or discard a suggestion from Copilot.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受或拒绝Copilot的建议。
- en: Type additional code manually if needed/desired.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如有需要或希望，手动输入额外的代码。
- en: Pause slightly, if needed, to give time for Copilot to generate options.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如有必要，稍微暂停一下，给Copilot生成选项的时间。
- en: Copilot offers suggestions.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Copilot提供建议。
- en: Repeat steps 1–4 until you’re done.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤1-4，直到完成。
- en: The *completeness* and *fit* of Copilot’s suggestions can vary significantly.
    Depending on the context available to it, it may offer completion suggestions
    ranging from a comment, to a single line, to multiple lines that form a complete
    solution. As you are typing, you may get a full function definition suggested;
    at other times, you may only get a line or two. The flow in the preceding numbered
    steps is the same, whether the first suggestion is a complete option or you must
    work through multiple rounds of line-by-line suggestions.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot建议的*完整性*和*适用性*可能会有很大差异。根据它可用的上下文，它可能提供从注释到单行，再到形成完整解决方案的多行代码的完成建议。当你输入时，你可能得到一个完整的函数定义建议；在其他时候，你可能只得到一行或两行。无论第一个建议是一个完整的选项还是你必须通过多轮逐行建议来工作，前面的编号步骤的流程都是相同的。
- en: Pausing for Suggestions
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 暂停以获取建议
- en: You may have wondered about step 3 in the previous list, which notes pausing
    (if needed) to give Copilot time to generate options. In between displaying suggestions,
    a lot of processing and communication takes place. As discussed in [Chapter 1](ch01.html#ch01),
    Copilot does a lot in the background to generate coding suggestions. It gathers
    context, synthesizes it, ships it across the net, prompts the LLM, checks for
    any patterns that might indicate vulnerabilities, optionally checks against public
    code matches, and then makes the options available online.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能对前面列表中的第3步感到好奇，它提到（如果需要）暂停以给Copilot生成选项的时间。在显示建议之间，有很多处理和通信发生。如[第1章](ch01.html#ch01)中所述，Copilot在后台做了很多工作来生成编码建议。它收集上下文，综合它，通过网络发送，提示LLM，检查可能表明漏洞的任何模式，可选地与公共代码匹配进行对比，然后使选项在网上可用。
- en: This happens remarkably quickly. But occasionally, Copilot may take a moment
    to return the result after you hit Enter. For this reason, if you are in a mode
    of hitting Return and expecting to hit Tab right away to accept the next suggestions,
    you might get ahead of Copilot at times. If that happens, you may need to pause
    for a moment before trying to accept the next line. Note that sometimes Copilot
    may also generate a blank line as part of the output.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 这发生得非常快。但有时，Copilot在按Enter键后可能需要一点时间来返回结果。因此，如果你处于按Return并期望立即按Tab以接受下一个建议的模式，有时你可能会超过Copilot。如果发生这种情况，你可能需要在尝试接受下一行之前暂停一下。请注意，有时Copilot也可能生成一个空白行作为输出的一部分。
- en: 'A couple of details about what’s occurred so far with this simple interaction
    with Copilot are worth calling out:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 关于到目前为止与Copilot的简单交互中发生的一些细节值得指出：
- en: Copilot was able to suggest context-appropriate function definitions.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Copilot能够提出与上下文相关的函数定义。
- en: The options only varied slightly in a *not technically significant* way but
    were still presented differently.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项在*技术上不显著*的方式中略有变化，但仍然以不同的方式呈现。
- en: How did Copilot get the specific context for the suggestions? It used the name
    of the file and the name we typed in for the function.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Copilot是如何获取建议的具体上下文的？它使用了文件名和我们为函数输入的名称。
- en: If you were to repeat this same exercise, there is no guarantee that you would
    get the same suggestions or even more than one. Generative AI will not always
    return the same results, even given the same exact context again.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你重复进行相同的练习，并不能保证你会得到相同的建议，甚至更多。生成式AI即使在相同的精确上下文中，也不总是会返回相同的结果。
- en: To that last point, while the inline suggestions presented by Copilot may often
    be good enough for what you need, sometimes you may want additional options. To
    help with that, Copilot includes a built-in mechanism to ask for additional *alternative
    suggestions*. We’ll cover that next.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 关于最后一点，虽然Copilot提供的内联建议通常足以满足你的需求，但有时你可能想要更多的选项。为了帮助这一点，Copilot包括一个内置机制来请求额外的*替代建议*。我们将在下一节中介绍。
- en: Getting Additional Suggestions
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取更多建议
- en: If Copilot’s initial suggestions don’t seem to be enough, you can ask it to
    generate others. To make Copilot generate a more extensive list of alternative
    completions, use the Ctrl-Enter key combination.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果Copilot的初始建议似乎不够，你可以要求它生成其他建议。为了使Copilot生成更广泛的替代完成列表，请使用Ctrl-Enter键组合。
- en: Trade-Offs of Using the Alternative Suggestions Functionality
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用替代建议功能的功能权衡
- en: While asking Copilot for additional suggestions can generate more completion
    options, it does so with the trade-off of taking longer to create and present
    them than the immediate inline options. Also, the alternative code may consist
    of partial implementations or sets of comments, making it less useful.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然向Copilot请求额外建议可以生成更多完成选项，但它是以牺牲创建和呈现这些选项所需时间更长为代价的。此外，替代代码可能只包含部分实现或一系列注释，使其不那么有用。
- en: The best time to use this functionality is before accepting one of the inline
    suggestions. Let’s return to where we were typing the function name but have not
    yet accepted a suggestion. At this point, you can hit Ctrl-Enter, and Copilot
    will generate a separate panel with alternative completions, as shown in [Figure 2-5](#alternative-suggestio).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此功能最佳时机是在接受内联建议之前。让我们回到我们正在键入函数名但尚未接受建议的地方。在这个时候，你可以按Ctrl-Enter，Copilot将生成一个包含替代完成的单独面板，如图[图2-5](#alternative-suggestio)所示。
- en: Copilot has suggested six alternatives, all likely plausible completions, with
    some implementations only slightly different.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot建议了六个替代方案，所有这些替代方案都可能是合理的完成，其中一些实现只有细微的差异。
- en: The GitHub Copilot Suggestions tab is read-only. You can scroll through the
    set to see the alternative completions. If you find one you like, you can insert
    it into your file by clicking the “Accept suggestion *#*” button underneath it
    (where *#* represents the suggestion’s number).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Copilot建议标签是只读的。你可以滚动查看替代完成集。如果你找到一个你喜欢的，你可以通过点击其下方的“接受建议 *#*”按钮将其插入到你的文件中（其中*#*代表建议的编号）。
- en: If you want to use the alternative suggestions functionality on code you’ve
    already completed, your results can vary even more. In this case, it’s essential
    to make sure you highlight the code you want Copilot to target for the suggestions.
    Otherwise, you may not get any results.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想在已经完成的代码上使用替代建议功能，你的结果可能会有更大的变化。在这种情况下，确保你突出显示你想要Copilot针对建议的代码至关重要。否则，你可能不会得到任何结果。
- en: '![](assets/lghc_0205.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0205.png)'
- en: Figure 2-5\. Alternative suggestions before completion
  id: totrans-62
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-5\. 完成前的替代建议
- en: When asking Copilot for alternative suggestions on existing code, we can see
    the differences in quality and usability of the suggestions. [Figure 2-6](#request-for-alternati)
    shows a set of alternatives generated by starting with existing code.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 当向Copilot请求现有代码的替代建议时，我们可以看到建议的质量和可用性的差异。[图2-6](#request-for-alternati)显示了从现有代码开始生成的一组替代方案。
- en: Notice that in the suggestions tab that there are only three alternatives. None
    are complete implementations. So, if you have minimal context, your best bet is
    to ask for alternative suggestions before adding the code.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在建议标签中只有三个替代方案。没有一个是完整的实现。因此，如果你有最小化的上下文，你最好的选择是在添加代码之前请求替代建议。
- en: '![](assets/lghc_0206.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0206.png)'
- en: Figure 2-6\. Request for alternative suggestions on existing code
  id: totrans-66
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: As outlined in [Chapter 1](ch01.html#ch01), Copilot bases suggestions not only
    on your actual code but also on related elements like comments. While we generally
    think of adding comments just to explain code, we can also leverage comments to
    drive Copilot’s behavior in other ways.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Leveraging Comments
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Comments can play a significant role in the context for Copilot. Say you enter
    the following single comment as the only line in a new file:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Copilot may respond with a completion suggestion like that in [Figure 2-7](#suggestion-generated).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0207.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
- en: Figure 2-7\. A suggestion generated from a comment
  id: totrans-73
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If you accept that, code for the rest of the function body is suggested (see
    [Figure 2-8](#completion-generated)).
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0208.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
- en: Figure 2-8\. Completion generated from a comment
  id: totrans-76
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Beyond the passive context that Copilot can gather from standard comments, you
    can also use comments actively to tell Copilot what you want it to do. The difference
    is instead of writing comments as context, you are issuing instructions to Copilot.
    This involves phrasing the comment more as a directive.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: Directive Comments
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can tell Copilot via comments what you’d like it to do. Suppose that in
    place of typing the function header as in the last section,
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'you instead enter a comment describing what you want to have happen. An example
    in our prime number-checking function might be this:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Depending on available context, Copilot might suggest a relevant completion
    of your comment, as shown in [Figure 2-9](#auto-completion-of-a). The suggested
    completion may or may not be what we intended.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0209.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: Figure 2-9\. Auto-completion of a comment
  id: totrans-85
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This single line is enough to begin generating suggested code for the function.
    See the example in [Figure 2-10](#generated-first-line).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0210.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
- en: Figure 2-10\. A generated first line of the function
  id: totrans-88
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The proposed name of the function is what you had before, but there is a difference
    in the options that Copilot provides. Instead of suggesting just one line, Copilot
    suggests multiple possible completions. One is a function header. The second option
    is a continuation of the comment. These options can be reviewed via the pop-up
    bar or keyboard shortcuts. See [Figure 2-11](#second-option---conti).
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0211.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
- en: Figure 2-11\. The second option—continuation of a comment
  id: totrans-91
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Options May Be Different
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As a reminder, since you’re working with generative AI, the suggestions you
    get when using Copilot in practice may be different from those in the book, even
    if using the same example code.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: For this case, Copilot does not have enough context to know if you want to generate
    an extended comment or start creating the function code. So it gives you both
    options. After you accept the first option, Copilot has enough context and supplies
    a proposed function definition ([Figure 2-12](#full-function-suggest)).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0212.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
- en: Figure 2-12\. A full function suggestion
  id: totrans-96
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-12\. 完整的功能建议
- en: 'As another example, you can tell Copilot inline to explain existing code through
    a comment:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 作为另一个例子，您可以通过注释告诉 Copilot 解释现有代码：
- en: '[PRE4]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Applied to the example you’ve been working with, Copilot responds with brief,
    commented output lines explaining how the code works. [Figure 2-13](#output-of-telling-cop)
    shows the generated comments. Copilot generated each of the three comment lines
    (11–13) after the `explain` directive.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 将其应用于您一直在处理的示例，Copilot 会以简短、带注释的输出行回应，解释代码的工作原理。[图 2-13](#output-of-telling-cop)
    展示了生成的注释。Copilot 在 `explain` 指令之后生成了这三条注释行（11–13）。
- en: '![](assets/lghc_0213.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0213.png)'
- en: Figure 2-13\. Output of telling Copilot to explain code via comments
  id: totrans-101
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-13\. 通过注释告诉 Copilot 解释代码的输出
- en: 'You can also write a comment to get a more detailed response:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以写一个注释以获得更详细的回答：
- en: '[PRE5]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The results of using that comment are shown in [Figure 2-14](#results-of-a-more-det).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 使用该注释的结果在[图 2-14](#results-of-a-more-det) 中展示。
- en: '![](assets/lghc_0214.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0214.png)'
- en: Figure 2-14\. Results of a more detailed `explain` directive in a comment
  id: totrans-106
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-14\. 注释中更详细 `explain` 指令的结果
- en: A helpful point to understand is that if you are using comments *to prompt Copilot
    to generate code*, Copilot should produce code based on the comment. For any other
    non-coding directive (such as `explain`), the results will be provided back a*s
    additional comments.*
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 一个有助于理解的观点是，如果您正在使用注释 *提示 Copilot 生成代码*，Copilot 应该根据注释生成代码。对于任何其他非编码指令（如 `explain`），结果将以额外的注释形式返回。
- en: One other use case for comments is to ask Copilot direct questions.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 注释的另一个用途是直接向 Copilot 提问。
- en: Questions via Comments
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过注释提问
- en: 'Similar to giving Copilot directions through comments, you can also ask it
    questions. For example, instead of telling Copilot to explain the code, you can
    ask it a question like this:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 与通过注释向 Copilot 指示方向类似，您也可以向它提问。例如，您不必告诉 Copilot 解释代码，而是可以问它这样的问题：
- en: '[PRE6]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[Figure 2-15](#using-a-comment-to-as) shows the result.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-15](#using-a-comment-to-as) 展示了结果。'
- en: '![](assets/lghc_0215.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0215.png)'
- en: Figure 2-15\. Using a comment to ask Copilot a question
  id: totrans-114
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-15\. 使用注释向 Copilot 提问
- en: You can also mark your comments as questions more formally by adding a `q:`
    after the comment character, but this is not required. If you do this, Copilot
    provides an answer back starting with an `a:`.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以通过在注释字符后添加 `q:` 来更正式地将您的注释标记为问题，但这不是必需的。如果您这样做，Copilot 将以 `a:` 开头的答案回应。
- en: Q&A Context
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Q&A 上下文
- en: Asking Copilot questions via comments historically provided a way to get chat-like
    answers before Copilot Chat was included with Copilot plans. Although this approach
    is typically less useful today than using the inline chat interface or the main
    chat window, it can still provide some value if you want brief answers included
    in the code.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 通过注释向 Copilot 提问在历史上提供了一种在 Copilot Chat 包含在 Copilot 计划中之前获得类似聊天答案的方法。尽管这种方法今天通常不如使用内联聊天界面或主聊天窗口有用，但如果您希望在代码中包含简短答案，它仍然可以提供一些价值。
- en: Having completed our discussion of how we can interact with Copilot inline in
    the editor, let’s look at how to use Copilot from the IDE menus.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们讨论了如何在编辑器中与 Copilot 内联交互之后，让我们看看如何从 IDE 菜单中使用 Copilot。
- en: Copilot and the Context Menu
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Copilot 和上下文菜单
- en: Certain Copilot functions are available through your IDE’s context menus. This
    integration provides a way to quickly run some advanced features without giving
    directions in chat. (The chat interfaces are discussed in [Chapter 3](ch03.html#ch03).)
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 某些 Copilot 功能可通过您的 IDE 的上下文菜单访问。这种集成提供了一种无需在聊天中给出指示即可快速运行一些高级功能的方法。（聊天界面在[第
    3 章](ch03.html#ch03)中讨论。）
- en: 'Contexts Meaning #2'
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '上下文含义 #2'
- en: When used with discussions about the menus in this section, *context* does not
    refer to the information that Copilot gathers to offer completion suggestions.
    Instead, the term refers to Copilot options available in the *context menus* of
    your IDE.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 当与本章中关于菜单的讨论一起使用时，*上下文*并不指 Copilot 收集以提供完成建议的信息。相反，该术语指的是您的 IDE 的 *上下文菜单* 中可用的
    Copilot 选项。
- en: For example, you may have noticed some of the previous figures in this chapter
    show two small *four-point star* symbols at the start of the lines. These two
    stars form what is sometimes called the *sparkle* icon, which is a general symbol
    (beyond Copilot) for AI. In the IDE, the presence of the symbol usually indicates
    a link that you can click to interact with Copilot. That click, in turn, will
    open a menu with several advanced options.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你可能已经注意到本章中的一些前图在行首显示了两个小的 *四角星* 符号。这两个星号形成了一个有时被称为 *闪耀* 图标的符号，这是一个（超出 Copilot）表示
    AI 的通用符号。在 IDE 中，该符号的存在通常表示一个你可以点击以与 Copilot 交互的链接。点击该链接，将打开一个包含多个高级选项的菜单。
- en: In the cases we’re discussing, the icon appears when the function definition
    is incomplete. However, the system can’t distinguish between a function that is
    still being written and one that is broken. So, Copilot will suggest a completion
    and offer to *fix* it. Clicking the sparkle icon opens a pop-up menu, as shown
    in [Figure 2-16](#quick-fix-option-usin). (Note that this may not show up in other
    IDEs.)
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们讨论的案例中，当函数定义不完整时，图标会出现。然而，系统无法区分仍在编写的函数和损坏的函数。因此，Copilot 会建议一个完成，并提议 *修复*
    它。点击闪耀图标，将打开一个弹出菜单，如 [图 2-16](#quick-fix-option-usin) 所示。（请注意，这可能在其他 IDE 中不会显示。）
- en: '![](assets/lghc_0216.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0216.png)'
- en: Figure 2-16\. The Quick Fix option using Copilot
  id: totrans-126
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-16\. 使用 Copilot 的快速修复选项
- en: Leveraging Fix for Completion
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用完成修复
- en: The “Fix using Copilot" option can sometimes be an alternative to getting suggested
    completions. Selecting it may cause Copilot to generate partial code to get the
    system to a working state. However, you can’t count on this functionality providing
    a full completion.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: “使用 Copilot 修复”选项有时可以替代获取建议的完成。选择它可能会导致 Copilot 生成部分代码以使系统达到工作状态。然而，你不能指望这个功能提供完整的完成。
- en: When you have more data for Copilot to work with (such as a completed function
    implementation), you can see additional options in the menu. (See [Figure 2-17](#expanded-context-menu).)
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 当你为 Copilot 提供更多数据以供处理（例如，完成的函数实现）时，你可以在菜单中看到额外的选项。（见 [图 2-17](#expanded-context-menu)。）
- en: '![](assets/lghc_0217.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0217.png)'
- en: Figure 2-17\. Expanded context menu options
  id: totrans-131
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-17\. 扩展的上下文菜单选项
- en: The options available in the menu (and what they refer to) also vary depending
    on what part of the IDE you’re working with. For example, if you are working in
    the terminal, the Explain menu option refers to content in the terminal, not the
    editor. And, as shown in [Figure 2-18](#copilot-options-in-th), there are different
    options referring only to the terminal. (Since these are chat options, I’ll explain
    them in the next chapter.)
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单中可用的选项（以及它们所指的内容）也取决于你在 IDE 中的工作部分。例如，如果你在终端中工作，解释菜单选项指的是终端中的内容，而不是编辑器中的内容。并且，如
    [图 2-18](#copilot-options-in-th) 所示，有一些仅针对终端的选项。（由于这些是聊天选项，我将在下一章中解释它们。）
- en: '![](assets/lghc_0218.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0218.png)'
- en: Figure 2-18\. Copilot options in the terminal
  id: totrans-134
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-18\. 终端中的 Copilot 选项
- en: So, context menus provide a subset of Copilot functionality that makes sense
    depending on your task. In VS Code and similar IDEs, you can also invoke Copilot-related
    commands through an interface called the *Command Palette*, as discussed in the
    following sidebar.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，上下文菜单提供了 Copilot 功能的一个子集，这取决于你的任务。在 VS Code 和类似的 IDE 中，你还可以通过一个称为 *命令面板*
    的界面调用与 Copilot 相关的命令，如以下侧边栏所述。
- en: 'In addition to *standard* functions that we have discussed such as explaining
    code and fixing code, you can also use the context menu to have Copilot perform
    a useful and important task: reviewing your code and providing feedback on it.
    We’ll discuss the mechanics of that next.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 除了我们讨论过的 *标准* 功能，例如解释代码和修复代码之外，你还可以使用上下文菜单让 Copilot 执行一个有用且重要的任务：审阅你的代码并提供反馈。我们将在下一节讨论其机制。
- en: Using Copilot to Review Your Code
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Copilot 审阅你的代码
- en: Copilot can act as a reviewer of your code. In GitHub, you can add Copilot as
    a reviewer on pull requests (see [Chapter 9](ch09.html#ch09)). In the IDE, you
    can have Copilot review your local code and provide feedback inline. This can
    be especially useful to catch problems before code is pushed. When doing reviews,
    you can use the default behavior of Copilot or customize the way it does the review.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot 可以充当你代码的审阅者。在 GitHub 上，你可以在拉取请求中添加 Copilot 作为审阅者（见第 9 章）。在 IDE 中，Copilot
    可以审阅你的本地代码并提供即时反馈。这可以在代码推送之前捕捉到问题特别有用。在进行审阅时，你可以使用 Copilot 的默认行为或自定义审阅方式。
- en: Using Copilot’s Default Review Options
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 Copilot 的默认审查选项
- en: 'Suppose we have the following code block that is intended to implement a simple
    class for a point:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个旨在实现一个简单的点类的代码块：
- en: '[PRE7]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: If you are a Python programmer, you may be able to spot some of the issues with
    the code. Let’s ask Copilot to review it. We do this by highlighting the code
    in the editor, then right-clicking and selecting Copilot > Review and Comment
    (see [Figure 2-21](#selecting-code-review)).
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是 Python 程序员，您可能能够发现代码中的一些问题。让我们让 Copilot 审查它。我们通过在编辑器中突出显示代码，然后右键单击并选择 Copilot
    > 审查和注释（见[图 2-21](#selecting-code-review)）来完成此操作。
- en: '![](assets/lghc_0221.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0221.png)'
- en: Figure 2-21\. Selecting a code review from the menu
  id: totrans-144
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-21\. 从菜单中选择代码审查
- en: After Copilot processes the request, if it has any feedback about problems or
    recommended updates (including things as simple as adding documentation), it will
    provide the comments and suggested changes inline with the code. [Figure 2-22](#feedback-from-copilot)
    shows an example of a review item from Copilot.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Copilot 处理完请求后，如果它对问题或推荐更新有任何反馈（包括像添加文档这样简单的事情），它将在代码中提供评论和建议的更改。[图 2-22](#feedback-from-copilot)
    展示了 Copilot 的一个审查项目示例。
- en: '![](assets/lghc_0222.png)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0222.png)'
- en: Figure 2-22\. Feedback from Copilot’s review
  id: totrans-147
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-22\. Copilot 审查的反馈
- en: The review feedback dialog has arrow controls you can use to navigate to other
    review comments, as well as controls to see the feedback in chat, close the dialog
    and collapse it. Any suggested changes are shown as the current code in red (with
    the minus sign) and the suggested code in green (with the plus sign). Buttons
    at the bottom of the dialog make it simple to apply or discard the change and
    then advance to the next set of feedback.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 审查反馈对话框有箭头控件，您可以使用它来导航到其他审查评论，以及查看聊天中的反馈、关闭对话框和折叠它。任何建议的更改都显示为红色（带有减号）的当前代码和绿色（带有加号）的建议代码。对话框底部的按钮使应用或丢弃更改并前进到下一组反馈变得简单。
- en: In addition to the default review behavior, you can also customize what Copilot
    looks for during a review.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 除了默认的审查行为之外，您还可以自定义 Copilot 在审查期间寻找的内容。
- en: Creating Custom Review Instructions
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建自定义审查说明
- en: By default, Copilot only reports issues that seem significant to it. So it’s
    not uncommon for it to report that it has no feedback on your code when it includes
    elements that other reviewers might flag, such as those not conforming to best
    practices or style guidelines. [Figure 2-23](#no-feedback-from-copi) shows an
    example of the message you see if Copilot doesn’t find any issues.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Copilot 只报告它认为重要的问题。因此，当它包含其他审阅者可能会标记的元素时，例如不符合最佳实践或风格指南的元素，报告没有对您的代码的反馈并不罕见。[图
    2-23](#no-feedback-from-copi) 展示了如果 Copilot 没有发现任何问题时您会看到的消息示例。
- en: '![](assets/lghc_0223.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0223.png)'
- en: Figure 2-23\. No feedback from Copilot’s code review
  id: totrans-153
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-23\. Copilot 代码审查无反馈
- en: If you want more detailed feedback, you can provide a set of custom review instructions
    for Copilot to use. There are two ways to do this.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想要更详细的反馈，您可以提供一组自定义审查说明供 Copilot 使用。有两种方法可以做到这一点。
- en: 'First, you can edit the *settings.json* file and add custom instructions under
    `github.copilot.chat.codeReview.instructions`. Here’s an example of a rule you
    can add:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，您可以编辑 *settings.json* 文件，并在 `github.copilot.chat.codeReview.instructions`
    下添加自定义说明。以下是一个您可以添加的规则示例：
- en: '[PRE8]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: After adding the rule in the user settings file, you can tell Copilot to review
    the same code again. This time, it flags the condition you specified in the settings
    file, as shown in [Figure 2-24](#flagged-issue-from-se).
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在用户设置文件中添加规则后，您可以告诉 Copilot 再次审查相同的代码。这次，它标记了设置文件中指定的条件，如[图 2-24](#flagged-issue-from-se)所示。
- en: '![](assets/lghc_0224.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0224.png)'
- en: Figure 2-24\. Flagged issue from the settings file
  id: totrans-159
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-24\. 设置文件中的标记问题
- en: Optionally, you can also add your rule (and up to five more) as Markdown in
    a local file, save it with the specific path *.github/copilot-review-guidelines.md*,
    and Copilot will find and use it automatically.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，您还可以将您的规则（以及最多五个更多）作为 Markdown 添加到本地文件中，将其保存为特定路径 *.github/copilot-review-guidelines.md*，Copilot
    将自动找到并使用它。
- en: 'If you prefer to have the instructions stored in a different file, you can
    create that file and then point to the local file in the *settings.json* file
    by using the `file:` key. Here’s an example of what that might look like in the
    settings:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望将说明存储在不同的文件中，您可以创建该文件，然后在 *settings.json* 文件中使用 `file:` 键指向本地文件。以下是在设置中可能看起来像这样的示例：
- en: '[PRE9]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This assumes you have a local file in your codebase named *review-guide.md*,
    saved under the *docs* directory and with the contents shown here:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这假设你在代码库中有一个名为 *review-guide.md* 的本地文件，它位于 *docs* 目录下，内容如下所示：
- en: '[PRE10]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: To conclude our discussion on coding with Copilot in the IDE, let’s briefly
    examine a couple of additional controls and configuration settings to help you
    navigate and fine-tune your Copilot experience to what you want it to be.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简要总结我们在IDE中使用Copilot进行编码的讨论，让我们简要检查一些额外的控件和配置设置，以帮助您导航和微调您的Copilot体验，使其符合您的期望。
- en: Configuring Copilot in the IDE
  id: totrans-166
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在IDE中配置Copilot
- en: In VS Code, after the Copilot extension is installed (and after you have authenticated,
    if needed), you can access Copilot functions through several controls. One control
    is located in the status bar at the bottom of the IDE. Clicking this gives you
    a quick way to turn off code completion suggestions for all files or only for
    the type of file you’re currently working with. [Figure 2-26](#bottom-copilot-contro)
    shows an example of the selected control providing an option to turn off code
    completion suggestions for Python files since that’s the type that’s currently
    active.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在VS Code中，安装了Copilot扩展（并在需要时进行认证后），你可以通过几个控件访问Copilot功能。其中一个控件位于IDE底部的状态栏中。点击此控件可以快速关闭所有文件或当前正在处理的文件类型的代码补全建议。[图2-26](#bottom-copilot-contro)展示了所选控件提供了一个选项，可以关闭Python文件的代码补全建议，因为当前激活的是这种类型。
- en: '![](assets/lghc_0226.png)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0226.png)'
- en: Figure 2-26\. Bottom Copilot control
  id: totrans-169
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-26. 底部Copilot控制
- en: Why Turn Off Completions
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么禁用补全
- en: You might wonder why there’s an option to turn off code completions, given that
    that’s one of Copilot’s fundamental jobs. The answer is that sometimes the suggestions
    may become annoying or get in the way. For example, if you’re trying to enter
    a lot of code in a hurry, or focus on creating code you already know how to do,
    you may not want the additional distraction of the Copilot suggestions popping
    up.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想知道为什么有一个选项可以关闭代码补全，因为这是Copilot的基本工作之一。答案是，有时建议可能会变得令人烦恼或妨碍。例如，如果你急于输入大量代码，或者专注于创建你已经知道如何做的代码，你可能不想让Copilot的建议弹出造成额外的干扰。
- en: The Next Edit Suggestions option in the dialog refers to a type of automated
    *batch editing* functionality that is discussed in [Chapter 4](ch04.html#ch04).
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框中的“下一个编辑建议”选项指的是一种自动的 *批量编辑* 功能，这在[第4章](ch04.html#ch04)中有讨论。
- en: At the top of the IDE is another Copilot icon. This one allows you to open various
    chat interfaces, configure code completions, and manage your Copilot settings
    in GitHub. See [Figure 2-27](#top-control-options).
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在IDE顶部还有一个Copilot图标。这个图标允许你打开各种聊天界面，配置代码补全，并在GitHub中管理你的Copilot设置。参见[图2-27](#top-control-options)。
- en: '![](assets/lghc_0227.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0227.png)'
- en: Figure 2-27\. Top control options
  id: totrans-175
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-27. 顶部控制选项
- en: We’ll discuss the chat options in [Chapter 3](ch03.html#ch03). The Manage Copilot
    selection will take you to the [settings page](https://oreil.ly/OlrYN) for your
    Copilot account in GitHub (if you’re logged in). And Configure Code Completions
    brings up a set of options ([Figure 2-28](#configuring-copilot-c)) to customize
    code completions.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第3章](ch03.html#ch03)中讨论聊天选项。选择“管理Copilot”将带你去GitHub（如果你已登录）中你的Copilot账户的[设置页面](https://oreil.ly/OlrYN)。而“配置代码补全”将显示一系列选项（[图2-28](#configuring-copilot-c)），以自定义代码补全。
- en: '![](assets/lghc_0228.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/lghc_0228.png)'
- en: Figure 2-28\. Configuring Copilot Completions
  id: totrans-178
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-28. 配置Copilot补全
- en: 'Some of these options are obvious, but a few are not. Here’s a quick rundown
    of three of them:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一些选项很明显，但也有一些不明显。以下是对其中三个的快速概述：
- en: Open Completions Panel
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 打开补全面板
- en: Opens up a list of alternative completions for the currently active code. This
    is the same functionality we discussed earlier, invoking with Ctrl-Enter.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 打开当前活动代码的替代补全列表。这与我们之前讨论的功能相同，通过Ctrl-Enter调用。
- en: Change Completions Model
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 更改完成模型
- en: Allows you to select a different AI model (other than the default) if another
    one is available. Note that this only affects the model used for code completions,
    not the model used for chats.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 允许你选择一个不同的AI模型（如果不是默认模型），如果可用的话。请注意，这只会影响用于代码补全的模型，不会影响用于聊天的模型。
- en: Disable Completions
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 禁用补全
- en: Similar to the earlier option from the other Copilot control, this lets you
    toggle completion suggestions on or off.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他Copilot控件中的早期选项类似，这允许你切换补全建议的开启或关闭。
- en: The Edit Settings option is a gateway to further customization and configuration
    for Copilot. Clicking it brings up the settings in the IDE with a search string
    of “GitHub Copilot”. You could do the same thing by clicking the gear icon for
    Settings in the main IDE interface and then typing in “GitHub Copilot” to search
    for the related settings.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: “编辑设置”选项是进入对 Copilot 进一步自定义和配置的门户。点击它将在 IDE 中打开设置，并带有“GitHub Copilot”的搜索字符串。您也可以通过在主
    IDE 界面中点击设置齿轮图标，然后输入“GitHub Copilot”来搜索相关设置。
- en: '[Figure 2-29](#github-copilot-settin) shows the Settings screen for items matching
    “GitHub Copilot”. Notice the subcategories on the left for the editor, features,
    and a broader extensions group. Within the extensions group are settings for any
    extension related to GitHub Copilot.'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-29](#github-copilot-settin) 显示了匹配“GitHub Copilot”的项目的设置屏幕。注意左侧的子类别，包括编辑器、功能和更广泛的扩展组。在扩展组中，为任何与
    GitHub Copilot 相关的扩展提供了设置。'
- en: '![](assets/lghc_0229.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/lghc_0229.png)'
- en: Figure 2-29\. GitHub Copilot settings in the IDE
  id: totrans-189
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-29\. GitHub Copilot 在 IDE 中的设置
- en: In the settings, you can configure options at the *user level* (independent
    of workspace) and settings for the *workspace environment.* Tabs in the upper
    left allow you to switch between these categories.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置中，您可以配置 *用户级别*（独立于工作区）的选项以及 *工作区环境* 的设置。左上角的选项卡允许您在这些类别之间切换。
- en: When you drill in to some settings areas, you’ll find ones marked Experimental
    or Preview. Both of these indicate an option or feature that is not in production
    yet. *Preview features* are closer to being officially released and are targeted
    for public testing and feedback if users opt in to using them. *Experimental features*
    are early concepts that you can use at your own risk. They may or may not move
    forward and may also be significantly changed before production.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 当您深入某些设置区域时，您会发现标记为“实验性”或“预览”的选项。这两个都表明了一个尚未投入生产的选项或功能。“预览功能”更接近正式发布，如果用户选择使用它们，将针对公众进行测试和反馈。“实验性功能”是早期概念，您可以在自己的风险下使用。它们可能或可能不会向前推进，也可能在生产前进行重大更改。
- en: If you use a different IDE, it will have a similar way to access and change
    the settings for Copilot. I recommend monitoring [GitHub’s blogs about Copilot](https://oreil.ly/qdhTv)
    for the latest updates and to learn what new or updated settings are available.
    It’s also not a bad idea to periodically explore the options available. Sometimes
    you’ll find additional options for configuring Copilot’s behavior that you might
    not have known about.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用不同的 IDE，它将以类似的方式访问和更改 Copilot 的设置。我建议关注 [GitHub 关于 Copilot 的博客](https://oreil.ly/qdhTv)，以获取最新更新并了解哪些新或更新的设置可用。定期探索可用选项也是一个不错的主意。有时您会发现配置
    Copilot 行为的附加选项，您可能之前并不知道。
- en: Conclusion
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: In this chapter, we’ve covered the most direct ways to interact with GitHub
    Copilot inline when you’re writing code. Copilot provides quick suggestions in
    the editor as you’re typing. These should be evaluated for completeness and fit.
    While varying in suitability, these suggestions can provide time savings and/or
    bootstrap your code and thinking.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了在编写代码时与 GitHub Copilot 内联交互的最直接方式。当您在编辑器中键入时，Copilot 会提供快速建议。这些建议应该被评估其完整性和适用性。虽然适用性各异，但这些建议可以节省时间并/或启动您的代码和思考。
- en: The quality of suggestions will largely depend on the amount of context Copilot
    has to reference in the current environment, meaning the filename, existing code,
    other files, comments, and local index. Comments can also describe a task you
    want Copilot to accomplish and be used to direct questions to Copilot that it
    will answer as comments.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 建议的质量将很大程度上取决于 Copilot 在当前环境中需要参考的上下文量，这意味着文件名、现有代码、其他文件、注释和本地索引。注释还可以描述您希望
    Copilot 完成的任务，并用于向 Copilot 指导问题，它将以注释的形式回答。
- en: Copilot can review your code to find problems and suggest improvements. You
    can customize what it targets when reviewing via pointing it to a list of custom
    instructions.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: Copilot 可以审查您的代码以查找问题并提出改进建议。您可以通过指向自定义指令列表来自定义它在审查时针对的内容。
- en: While Copilot provides useful capabilities out of the box, sometimes you may
    want to tweak its behavior or enable/disable a feature. You can make limited changes
    through the Copilot controls present in the IDE. Or you can search in the settings
    of the IDE for individual options to modify, including ones that are experimental
    or in preview.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Copilot 提供了开箱即用的有用功能，但有时你可能想要调整其行为或启用/禁用某个功能。你可以在 IDE 中的 Copilot 控制中进行有限的更改。或者你可以在
    IDE 的设置中搜索单个选项进行修改，包括那些处于实验阶段或预览中的选项。
- en: 'Now that you’ve seen how to work with Copilot’s suggestions inline, let’s move
    on to the most flexible way to interact with Copilot and its underlying model:
    through its chat interface, the topic of [Chapter 3](ch03.html#ch03).'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经看到了如何使用 Copilot 的内联建议，让我们继续探讨与 Copilot 及其底层模型最灵活的交互方式：通过其聊天界面，这是 [第 3 章](ch03.html#ch03)
    的主题。
