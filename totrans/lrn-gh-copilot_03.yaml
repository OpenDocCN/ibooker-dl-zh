- en: Chapter 2\. Coding with Copilot
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Now that you have the basic foundations of what Copilot is and how it works,
    we can move on to the key aspect of how to use it. Since Copilot is intended to
    function like an AI assistant, you need to understand how to work and communicate
    with your assistant. The mechanics of this boil down to learning to work with
    the integrations in the IDE. Learning those mechanics in this chapter and the
    next will set you up for success with the rest of the book. And they will also
    answer these questions:'
  prefs: []
  type: TYPE_NORMAL
- en: How do you query the assistant and provide directions for what you need?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do you follow up on responses or choose from multiple suggestions?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Which ways are best to communicate with it for quick suggestions or longer explanations
    when needed?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How can you best leverage the AI to help with coding tasks?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IDE = VS Code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: GitHub Copilot can be installed and used with multiple IDEs, including VS Code,
    JetBrains IDEs, Eclipse, and NeoVim. Since we can’t cover all of these in this
    book, we are using VS Code and GitHub Codespaces as our IDE examples throughout.
    Please consult your IDE’s documentation for any differences in how to work with
    Copilot if needed.
  prefs: []
  type: TYPE_NORMAL
- en: Within the IDE, Copilot provides two primary modes of interaction. The first
    mode is integration within your editor and through the context menus and related
    controls. For simplicity, I refer to this as *inline* mode since it is most commonly
    used directly from the editor or related menus. This is the mode covered in this
    chapter.
  prefs: []
  type: TYPE_NORMAL
- en: The second interaction mode is through the separate *chat* interface bundled
    with Copilot. This approach offers expanded options for interaction and feedback.
    It also acts as a gateway to some of Copilot’s more advanced functionality, including
    Co­pilot’s *Agent* mode and an *advanced editing* mode. After we discuss the core
    inline use cases in this chapter, we’ll cover chat ones in Chapters [3](ch03.html#ch03)
    and [4](ch04.html#ch04).
  prefs: []
  type: TYPE_NORMAL
- en: Most users will likely first engage with Copilot by working in an editor in
    their IDE. As you’re coding, the installed Copilot extension gathers context and
    integrates with the remote components to provide you with suggestions. We discussed
    at a high level how that works in [Chapter 1](ch01.html#ch01). Now, let’s take
    a closer look at that flow.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Copilot uses different key combinations as shortcuts to invoke various functions.
    These key combinations are usually formed with a meta-key (Command, Ctrl, or Option
    key) plus a letter, number, or symbol. The meta-key will vary depending on which
    operating system you are using and possibly your keyboard. Instead of trying to
    list out each combination every time, I refer to these shortcuts by using the
    notation Meta-<character>, as in Meta-I instead of Option-I. You can find the
    list of keyboard shortcuts for your platform in the [Copilot documentation](https://oreil.ly/aAZ8S).
  prefs: []
  type: TYPE_NORMAL
- en: Inline Suggestions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Suppose you are going to create a Python file to work with prime numbers. You
    might start by creating a file named *prime.py*. Visually, the first evidence
    of Copilot you will probably notice is an inline option to interact with *Copilot
    Chat* through the *Meta*-I keypress combination. This reminder will appear anytime
    you edit a file if Copilot is active and chat is enabled. See [Figure 2-1](#option-to-invoke-copi).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0201.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-1\. An option to invoke Copilot Chat inline
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: We’ll defer discussing this interface until [Chapter 3](ch03.html#ch03), after
    more basic interactions have been covered, since it will make more sense then.
    While this option is present by default, you can ignore it in the editor and start
    typing to proceed.
  prefs: []
  type: TYPE_NORMAL
- en: 'To provide an example to work with, let’s create a relevant function in *prime.py*
    to check if a number is prime or not. You start typing:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: At this point, Copilot will start suggesting possible completions. It might
    provide an option like [Figure 2-2](#first-suggestion). The proposed text from
    Copilot is shown as *ghost text*. This means that until it is accepted, the suggested
    text will be displayed in an italicized lighter font rather than the regular dark
    font.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0202.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-2\. First suggestion
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Your Suggestions May Be Different
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: While reading through this chapter and any places in the book showing suggestions
    or output from Copilot, remember that since this is generative AI, suggestions
    you get back with the same context may be very different.
  prefs: []
  type: TYPE_NORMAL
- en: Copilot’s suggestion is one possible option for building out your function.
    In [Figure 2-2](#first-suggestion), there’s a gray bar above and to the right
    of the suggested text. This bar pops up when Copilot suggests text inline. The
    bar has controls to accept all or part of the suggestion. Other controls allow
    you to cycle through multiple suggestions if Copilot generates multiple choices.
  prefs: []
  type: TYPE_NORMAL
- en: Your IDE May Be Different
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Throughout the book, we are using IDEs in the style of VS Code. If you are using
    a different IDE (such as one from JetBrains), your interfaces and controls may
    differ though similar functionality should be available.
  prefs: []
  type: TYPE_NORMAL
- en: The text in the bar also is a reminder of corresponding keyboard shortcuts and
    options. The ones available include accepting an entire suggestion (via the Tab
    key), accepting a word at a time (via the key combination shown in the bar and
    in the doc), and additional options that can be accessed via the More Actions
    menu, which is depicted as three dots (more about those later).
  prefs: []
  type: TYPE_NORMAL
- en: In the leftmost part of that bar is < 1/2 >. This text indicates that Copilot
    has generated two possible suggestions, and you are currently looking at option
    1\. To see the other options and rotate through the potential choices, click the
    *>* and *<* symbols in the bar or use the corresponding keys on your keyboard.
    For example, if you want to look at option 2, you can click the *>* symbol (see
    [Figure 2-3](#second-suggestion1)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0203.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-3\. Second suggestion
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To accept either of Copilot’s suggestions, you can rotate through the options
    and then hit the Tab key to select the one you want. If you don’t like either
    suggestion, you can just continue typing.
  prefs: []
  type: TYPE_NORMAL
- en: The differences between option 1 and option 2 are subtle—just some whitespace.
    But Copilot still presents these as two separate options. Regardless of which
    option you choose, you have what looks like a viable function body that was automatically
    generated.
  prefs: []
  type: TYPE_NORMAL
- en: If you choose the first option, the full suggested text is inserted into your
    file after hitting Tab. This text no longer appears ghosted. It appears the same
    as any text you manually typed ([Figure 2-4](#option-1-accepted)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0204.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-4\. Option 1 accepted
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Once you’ve used it a few times, the interface starts to feel more predictable
    and helpful. From this point, the typical workflow as you are typing code becomes
    as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Accept or discard a suggestion from Copilot.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type additional code manually if needed/desired.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pause slightly, if needed, to give time for Copilot to generate options.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Copilot offers suggestions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Repeat steps 1–4 until you’re done.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The *completeness* and *fit* of Copilot’s suggestions can vary significantly.
    Depending on the context available to it, it may offer completion suggestions
    ranging from a comment, to a single line, to multiple lines that form a complete
    solution. As you are typing, you may get a full function definition suggested;
    at other times, you may only get a line or two. The flow in the preceding numbered
    steps is the same, whether the first suggestion is a complete option or you must
    work through multiple rounds of line-by-line suggestions.
  prefs: []
  type: TYPE_NORMAL
- en: Pausing for Suggestions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You may have wondered about step 3 in the previous list, which notes pausing
    (if needed) to give Copilot time to generate options. In between displaying suggestions,
    a lot of processing and communication takes place. As discussed in [Chapter 1](ch01.html#ch01),
    Copilot does a lot in the background to generate coding suggestions. It gathers
    context, synthesizes it, ships it across the net, prompts the LLM, checks for
    any patterns that might indicate vulnerabilities, optionally checks against public
    code matches, and then makes the options available online.
  prefs: []
  type: TYPE_NORMAL
- en: This happens remarkably quickly. But occasionally, Copilot may take a moment
    to return the result after you hit Enter. For this reason, if you are in a mode
    of hitting Return and expecting to hit Tab right away to accept the next suggestions,
    you might get ahead of Copilot at times. If that happens, you may need to pause
    for a moment before trying to accept the next line. Note that sometimes Copilot
    may also generate a blank line as part of the output.
  prefs: []
  type: TYPE_NORMAL
- en: 'A couple of details about what’s occurred so far with this simple interaction
    with Copilot are worth calling out:'
  prefs: []
  type: TYPE_NORMAL
- en: Copilot was able to suggest context-appropriate function definitions.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The options only varied slightly in a *not technically significant* way but
    were still presented differently.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How did Copilot get the specific context for the suggestions? It used the name
    of the file and the name we typed in for the function.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you were to repeat this same exercise, there is no guarantee that you would
    get the same suggestions or even more than one. Generative AI will not always
    return the same results, even given the same exact context again.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To that last point, while the inline suggestions presented by Copilot may often
    be good enough for what you need, sometimes you may want additional options. To
    help with that, Copilot includes a built-in mechanism to ask for additional *alternative
    suggestions*. We’ll cover that next.
  prefs: []
  type: TYPE_NORMAL
- en: Getting Additional Suggestions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If Copilot’s initial suggestions don’t seem to be enough, you can ask it to
    generate others. To make Copilot generate a more extensive list of alternative
    completions, use the Ctrl-Enter key combination.
  prefs: []
  type: TYPE_NORMAL
- en: Trade-Offs of Using the Alternative Suggestions Functionality
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: While asking Copilot for additional suggestions can generate more completion
    options, it does so with the trade-off of taking longer to create and present
    them than the immediate inline options. Also, the alternative code may consist
    of partial implementations or sets of comments, making it less useful.
  prefs: []
  type: TYPE_NORMAL
- en: The best time to use this functionality is before accepting one of the inline
    suggestions. Let’s return to where we were typing the function name but have not
    yet accepted a suggestion. At this point, you can hit Ctrl-Enter, and Copilot
    will generate a separate panel with alternative completions, as shown in [Figure 2-5](#alternative-suggestio).
  prefs: []
  type: TYPE_NORMAL
- en: Copilot has suggested six alternatives, all likely plausible completions, with
    some implementations only slightly different.
  prefs: []
  type: TYPE_NORMAL
- en: The GitHub Copilot Suggestions tab is read-only. You can scroll through the
    set to see the alternative completions. If you find one you like, you can insert
    it into your file by clicking the “Accept suggestion *#*” button underneath it
    (where *#* represents the suggestion’s number).
  prefs: []
  type: TYPE_NORMAL
- en: If you want to use the alternative suggestions functionality on code you’ve
    already completed, your results can vary even more. In this case, it’s essential
    to make sure you highlight the code you want Copilot to target for the suggestions.
    Otherwise, you may not get any results.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0205.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-5\. Alternative suggestions before completion
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When asking Copilot for alternative suggestions on existing code, we can see
    the differences in quality and usability of the suggestions. [Figure 2-6](#request-for-alternati)
    shows a set of alternatives generated by starting with existing code.
  prefs: []
  type: TYPE_NORMAL
- en: Notice that in the suggestions tab that there are only three alternatives. None
    are complete implementations. So, if you have minimal context, your best bet is
    to ask for alternative suggestions before adding the code.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0206.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-6\. Request for alternative suggestions on existing code
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: As outlined in [Chapter 1](ch01.html#ch01), Copilot bases suggestions not only
    on your actual code but also on related elements like comments. While we generally
    think of adding comments just to explain code, we can also leverage comments to
    drive Copilot’s behavior in other ways.
  prefs: []
  type: TYPE_NORMAL
- en: Leveraging Comments
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Comments can play a significant role in the context for Copilot. Say you enter
    the following single comment as the only line in a new file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Copilot may respond with a completion suggestion like that in [Figure 2-7](#suggestion-generated).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0207.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-7\. A suggestion generated from a comment
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If you accept that, code for the rest of the function body is suggested (see
    [Figure 2-8](#completion-generated)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0208.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-8\. Completion generated from a comment
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Beyond the passive context that Copilot can gather from standard comments, you
    can also use comments actively to tell Copilot what you want it to do. The difference
    is instead of writing comments as context, you are issuing instructions to Copilot.
    This involves phrasing the comment more as a directive.
  prefs: []
  type: TYPE_NORMAL
- en: Directive Comments
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can tell Copilot via comments what you’d like it to do. Suppose that in
    place of typing the function header as in the last section,
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'you instead enter a comment describing what you want to have happen. An example
    in our prime number-checking function might be this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Depending on available context, Copilot might suggest a relevant completion
    of your comment, as shown in [Figure 2-9](#auto-completion-of-a). The suggested
    completion may or may not be what we intended.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0209.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-9\. Auto-completion of a comment
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This single line is enough to begin generating suggested code for the function.
    See the example in [Figure 2-10](#generated-first-line).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0210.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-10\. A generated first line of the function
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The proposed name of the function is what you had before, but there is a difference
    in the options that Copilot provides. Instead of suggesting just one line, Copilot
    suggests multiple possible completions. One is a function header. The second option
    is a continuation of the comment. These options can be reviewed via the pop-up
    bar or keyboard shortcuts. See [Figure 2-11](#second-option---conti).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0211.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-11\. The second option—continuation of a comment
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Options May Be Different
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As a reminder, since you’re working with generative AI, the suggestions you
    get when using Copilot in practice may be different from those in the book, even
    if using the same example code.
  prefs: []
  type: TYPE_NORMAL
- en: For this case, Copilot does not have enough context to know if you want to generate
    an extended comment or start creating the function code. So it gives you both
    options. After you accept the first option, Copilot has enough context and supplies
    a proposed function definition ([Figure 2-12](#full-function-suggest)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0212.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-12\. A full function suggestion
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'As another example, you can tell Copilot inline to explain existing code through
    a comment:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Applied to the example you’ve been working with, Copilot responds with brief,
    commented output lines explaining how the code works. [Figure 2-13](#output-of-telling-cop)
    shows the generated comments. Copilot generated each of the three comment lines
    (11–13) after the `explain` directive.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0213.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-13\. Output of telling Copilot to explain code via comments
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You can also write a comment to get a more detailed response:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: The results of using that comment are shown in [Figure 2-14](#results-of-a-more-det).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0214.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-14\. Results of a more detailed `explain` directive in a comment
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A helpful point to understand is that if you are using comments *to prompt Copilot
    to generate code*, Copilot should produce code based on the comment. For any other
    non-coding directive (such as `explain`), the results will be provided back a*s
    additional comments.*
  prefs: []
  type: TYPE_NORMAL
- en: One other use case for comments is to ask Copilot direct questions.
  prefs: []
  type: TYPE_NORMAL
- en: Questions via Comments
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Similar to giving Copilot directions through comments, you can also ask it
    questions. For example, instead of telling Copilot to explain the code, you can
    ask it a question like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 2-15](#using-a-comment-to-as) shows the result.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0215.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-15\. Using a comment to ask Copilot a question
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can also mark your comments as questions more formally by adding a `q:`
    after the comment character, but this is not required. If you do this, Copilot
    provides an answer back starting with an `a:`.
  prefs: []
  type: TYPE_NORMAL
- en: Q&A Context
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Asking Copilot questions via comments historically provided a way to get chat-like
    answers before Copilot Chat was included with Copilot plans. Although this approach
    is typically less useful today than using the inline chat interface or the main
    chat window, it can still provide some value if you want brief answers included
    in the code.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed our discussion of how we can interact with Copilot inline in
    the editor, let’s look at how to use Copilot from the IDE menus.
  prefs: []
  type: TYPE_NORMAL
- en: Copilot and the Context Menu
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Certain Copilot functions are available through your IDE’s context menus. This
    integration provides a way to quickly run some advanced features without giving
    directions in chat. (The chat interfaces are discussed in [Chapter 3](ch03.html#ch03).)
  prefs: []
  type: TYPE_NORMAL
- en: 'Contexts Meaning #2'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When used with discussions about the menus in this section, *context* does not
    refer to the information that Copilot gathers to offer completion suggestions.
    Instead, the term refers to Copilot options available in the *context menus* of
    your IDE.
  prefs: []
  type: TYPE_NORMAL
- en: For example, you may have noticed some of the previous figures in this chapter
    show two small *four-point star* symbols at the start of the lines. These two
    stars form what is sometimes called the *sparkle* icon, which is a general symbol
    (beyond Copilot) for AI. In the IDE, the presence of the symbol usually indicates
    a link that you can click to interact with Copilot. That click, in turn, will
    open a menu with several advanced options.
  prefs: []
  type: TYPE_NORMAL
- en: In the cases we’re discussing, the icon appears when the function definition
    is incomplete. However, the system can’t distinguish between a function that is
    still being written and one that is broken. So, Copilot will suggest a completion
    and offer to *fix* it. Clicking the sparkle icon opens a pop-up menu, as shown
    in [Figure 2-16](#quick-fix-option-usin). (Note that this may not show up in other
    IDEs.)
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0216.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-16\. The Quick Fix option using Copilot
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Leveraging Fix for Completion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The “Fix using Copilot" option can sometimes be an alternative to getting suggested
    completions. Selecting it may cause Copilot to generate partial code to get the
    system to a working state. However, you can’t count on this functionality providing
    a full completion.
  prefs: []
  type: TYPE_NORMAL
- en: When you have more data for Copilot to work with (such as a completed function
    implementation), you can see additional options in the menu. (See [Figure 2-17](#expanded-context-menu).)
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0217.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-17\. Expanded context menu options
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The options available in the menu (and what they refer to) also vary depending
    on what part of the IDE you’re working with. For example, if you are working in
    the terminal, the Explain menu option refers to content in the terminal, not the
    editor. And, as shown in [Figure 2-18](#copilot-options-in-th), there are different
    options referring only to the terminal. (Since these are chat options, I’ll explain
    them in the next chapter.)
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0218.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-18\. Copilot options in the terminal
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: So, context menus provide a subset of Copilot functionality that makes sense
    depending on your task. In VS Code and similar IDEs, you can also invoke Copilot-related
    commands through an interface called the *Command Palette*, as discussed in the
    following sidebar.
  prefs: []
  type: TYPE_NORMAL
- en: 'In addition to *standard* functions that we have discussed such as explaining
    code and fixing code, you can also use the context menu to have Copilot perform
    a useful and important task: reviewing your code and providing feedback on it.
    We’ll discuss the mechanics of that next.'
  prefs: []
  type: TYPE_NORMAL
- en: Using Copilot to Review Your Code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Copilot can act as a reviewer of your code. In GitHub, you can add Copilot as
    a reviewer on pull requests (see [Chapter 9](ch09.html#ch09)). In the IDE, you
    can have Copilot review your local code and provide feedback inline. This can
    be especially useful to catch problems before code is pushed. When doing reviews,
    you can use the default behavior of Copilot or customize the way it does the review.
  prefs: []
  type: TYPE_NORMAL
- en: Using Copilot’s Default Review Options
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Suppose we have the following code block that is intended to implement a simple
    class for a point:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: If you are a Python programmer, you may be able to spot some of the issues with
    the code. Let’s ask Copilot to review it. We do this by highlighting the code
    in the editor, then right-clicking and selecting Copilot > Review and Comment
    (see [Figure 2-21](#selecting-code-review)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0221.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-21\. Selecting a code review from the menu
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: After Copilot processes the request, if it has any feedback about problems or
    recommended updates (including things as simple as adding documentation), it will
    provide the comments and suggested changes inline with the code. [Figure 2-22](#feedback-from-copilot)
    shows an example of a review item from Copilot.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0222.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-22\. Feedback from Copilot’s review
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The review feedback dialog has arrow controls you can use to navigate to other
    review comments, as well as controls to see the feedback in chat, close the dialog
    and collapse it. Any suggested changes are shown as the current code in red (with
    the minus sign) and the suggested code in green (with the plus sign). Buttons
    at the bottom of the dialog make it simple to apply or discard the change and
    then advance to the next set of feedback.
  prefs: []
  type: TYPE_NORMAL
- en: In addition to the default review behavior, you can also customize what Copilot
    looks for during a review.
  prefs: []
  type: TYPE_NORMAL
- en: Creating Custom Review Instructions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: By default, Copilot only reports issues that seem significant to it. So it’s
    not uncommon for it to report that it has no feedback on your code when it includes
    elements that other reviewers might flag, such as those not conforming to best
    practices or style guidelines. [Figure 2-23](#no-feedback-from-copi) shows an
    example of the message you see if Copilot doesn’t find any issues.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0223.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-23\. No feedback from Copilot’s code review
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: If you want more detailed feedback, you can provide a set of custom review instructions
    for Copilot to use. There are two ways to do this.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, you can edit the *settings.json* file and add custom instructions under
    `github.copilot.chat.codeReview.instructions`. Here’s an example of a rule you
    can add:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: After adding the rule in the user settings file, you can tell Copilot to review
    the same code again. This time, it flags the condition you specified in the settings
    file, as shown in [Figure 2-24](#flagged-issue-from-se).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0224.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-24\. Flagged issue from the settings file
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Optionally, you can also add your rule (and up to five more) as Markdown in
    a local file, save it with the specific path *.github/copilot-review-guidelines.md*,
    and Copilot will find and use it automatically.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you prefer to have the instructions stored in a different file, you can
    create that file and then point to the local file in the *settings.json* file
    by using the `file:` key. Here’s an example of what that might look like in the
    settings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'This assumes you have a local file in your codebase named *review-guide.md*,
    saved under the *docs* directory and with the contents shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: To conclude our discussion on coding with Copilot in the IDE, let’s briefly
    examine a couple of additional controls and configuration settings to help you
    navigate and fine-tune your Copilot experience to what you want it to be.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring Copilot in the IDE
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In VS Code, after the Copilot extension is installed (and after you have authenticated,
    if needed), you can access Copilot functions through several controls. One control
    is located in the status bar at the bottom of the IDE. Clicking this gives you
    a quick way to turn off code completion suggestions for all files or only for
    the type of file you’re currently working with. [Figure 2-26](#bottom-copilot-contro)
    shows an example of the selected control providing an option to turn off code
    completion suggestions for Python files since that’s the type that’s currently
    active.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0226.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-26\. Bottom Copilot control
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Why Turn Off Completions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You might wonder why there’s an option to turn off code completions, given that
    that’s one of Copilot’s fundamental jobs. The answer is that sometimes the suggestions
    may become annoying or get in the way. For example, if you’re trying to enter
    a lot of code in a hurry, or focus on creating code you already know how to do,
    you may not want the additional distraction of the Copilot suggestions popping
    up.
  prefs: []
  type: TYPE_NORMAL
- en: The Next Edit Suggestions option in the dialog refers to a type of automated
    *batch editing* functionality that is discussed in [Chapter 4](ch04.html#ch04).
  prefs: []
  type: TYPE_NORMAL
- en: At the top of the IDE is another Copilot icon. This one allows you to open various
    chat interfaces, configure code completions, and manage your Copilot settings
    in GitHub. See [Figure 2-27](#top-control-options).
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0227.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-27\. Top control options
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: We’ll discuss the chat options in [Chapter 3](ch03.html#ch03). The Manage Copilot
    selection will take you to the [settings page](https://oreil.ly/OlrYN) for your
    Copilot account in GitHub (if you’re logged in). And Configure Code Completions
    brings up a set of options ([Figure 2-28](#configuring-copilot-c)) to customize
    code completions.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0228.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-28\. Configuring Copilot Completions
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Some of these options are obvious, but a few are not. Here’s a quick rundown
    of three of them:'
  prefs: []
  type: TYPE_NORMAL
- en: Open Completions Panel
  prefs: []
  type: TYPE_NORMAL
- en: Opens up a list of alternative completions for the currently active code. This
    is the same functionality we discussed earlier, invoking with Ctrl-Enter.
  prefs: []
  type: TYPE_NORMAL
- en: Change Completions Model
  prefs: []
  type: TYPE_NORMAL
- en: Allows you to select a different AI model (other than the default) if another
    one is available. Note that this only affects the model used for code completions,
    not the model used for chats.
  prefs: []
  type: TYPE_NORMAL
- en: Disable Completions
  prefs: []
  type: TYPE_NORMAL
- en: Similar to the earlier option from the other Copilot control, this lets you
    toggle completion suggestions on or off.
  prefs: []
  type: TYPE_NORMAL
- en: The Edit Settings option is a gateway to further customization and configuration
    for Copilot. Clicking it brings up the settings in the IDE with a search string
    of “GitHub Copilot”. You could do the same thing by clicking the gear icon for
    Settings in the main IDE interface and then typing in “GitHub Copilot” to search
    for the related settings.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 2-29](#github-copilot-settin) shows the Settings screen for items matching
    “GitHub Copilot”. Notice the subcategories on the left for the editor, features,
    and a broader extensions group. Within the extensions group are settings for any
    extension related to GitHub Copilot.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/lghc_0229.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-29\. GitHub Copilot settings in the IDE
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: In the settings, you can configure options at the *user level* (independent
    of workspace) and settings for the *workspace environment.* Tabs in the upper
    left allow you to switch between these categories.
  prefs: []
  type: TYPE_NORMAL
- en: When you drill in to some settings areas, you’ll find ones marked Experimental
    or Preview. Both of these indicate an option or feature that is not in production
    yet. *Preview features* are closer to being officially released and are targeted
    for public testing and feedback if users opt in to using them. *Experimental features*
    are early concepts that you can use at your own risk. They may or may not move
    forward and may also be significantly changed before production.
  prefs: []
  type: TYPE_NORMAL
- en: If you use a different IDE, it will have a similar way to access and change
    the settings for Copilot. I recommend monitoring [GitHub’s blogs about Copilot](https://oreil.ly/qdhTv)
    for the latest updates and to learn what new or updated settings are available.
    It’s also not a bad idea to periodically explore the options available. Sometimes
    you’ll find additional options for configuring Copilot’s behavior that you might
    not have known about.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we’ve covered the most direct ways to interact with GitHub
    Copilot inline when you’re writing code. Copilot provides quick suggestions in
    the editor as you’re typing. These should be evaluated for completeness and fit.
    While varying in suitability, these suggestions can provide time savings and/or
    bootstrap your code and thinking.
  prefs: []
  type: TYPE_NORMAL
- en: The quality of suggestions will largely depend on the amount of context Copilot
    has to reference in the current environment, meaning the filename, existing code,
    other files, comments, and local index. Comments can also describe a task you
    want Copilot to accomplish and be used to direct questions to Copilot that it
    will answer as comments.
  prefs: []
  type: TYPE_NORMAL
- en: Copilot can review your code to find problems and suggest improvements. You
    can customize what it targets when reviewing via pointing it to a list of custom
    instructions.
  prefs: []
  type: TYPE_NORMAL
- en: While Copilot provides useful capabilities out of the box, sometimes you may
    want to tweak its behavior or enable/disable a feature. You can make limited changes
    through the Copilot controls present in the IDE. Or you can search in the settings
    of the IDE for individual options to modify, including ones that are experimental
    or in preview.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that you’ve seen how to work with Copilot’s suggestions inline, let’s move
    on to the most flexible way to interact with Copilot and its underlying model:
    through its chat interface, the topic of [Chapter 3](ch03.html#ch03).'
  prefs: []
  type: TYPE_NORMAL
