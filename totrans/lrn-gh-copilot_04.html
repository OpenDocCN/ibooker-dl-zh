<html><head></head><body><div id="book-content"><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 3. Chatting with Copilot in the IDE"><div class="chapter" id="ch03">
<h1><span class="label">Chapter 3. </span>Chatting with Copilot in the IDE</h1>

<p>In popular AI platforms like ChatGPT<a contenteditable="false" data-primary="ChatGPT" data-type="indexterm" id="id529"/>, the chat interface is your gateway to interacting with LLMs. Like talking to another person, having a running dialog with the AI feels more natural. It also allows for extended conversations to explore topics more thoroughly.</p>

<p>The chat interfaces included with Copilot<a contenteditable="false" data-primary="Copilot Chat" data-type="indexterm" id="id530"/> offer those same advantages but targeted for the coding domain. The previous inline functionality discussed in <a data-type="xref" href="ch02.html#ch02">Chapter 2</a> provides direct, quick, targeted code suggestions from Copilot. These code completions are based on what you’re working on. But having interactive, free-form discussions about coding can be invaluable, just as discussing coding challenges or ideas with a coworker is useful. In fact, it quickly becomes hard to imagine using Copilot without using its chat features.</p>

<p>In this chapter, we’ll explore how to use and interact with Copilot’s chat functionality (Copilot Chat). We’ll cover basic and advanced aspects of Chat.</p>

<p>We’ll start by helping you understand how to access Chat’s primary interface, how to parse its output, and how to manage multiple Chat sessions.</p>

<p>Following that, we’ll briefly look at how best to do prompting for the Chat interfaces and then explore the various Chat interfaces themselves. To make sure you can target the prompts in the interfaces appropriately, we’ll survey various shortcuts and modifiers built into Copilot, including participants and variables. We’ll also explore how to use Chat in the IDE’s terminal.</p>

<p>Finally, we’ll show you how to create custom instructions for Chat to use in generating responses and take a look at how best to deal with hallucinations and bad responses from Chat.</p>

<p>Let’s begin by understanding how to quickly start having a conversation with Copilot.</p>

<section data-type="sect1" data-pdf-bookmark="Accessing Chat’s Main Interface"><div class="sect1" id="id24">
<h1>Accessing Chat’s Main Interface</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="accessing main interface" data-type="indexterm" id="xi_CopilotChataccessingmaininterface3184"/><a contenteditable="false" data-primary="interfaces" data-secondary="accessing for Copilot Chat" data-type="indexterm" id="xi_interfacesaccessingforCopilotChat3184"/>When you install Copilot into your IDE, it comes bundled with Copilot Chat. Chat’s primary interface is a dedicated pane on the right side that is separate from your editor (<a data-type="xref" href="#copilot-chat-interfac">Figure 3-1</a>). The chat interface also provides more screen real estate for input, output, and conversations.</p>

<figure><div id="copilot-chat-interfac" class="figure"><img alt="" src="assets/lghc_0301.png" width="1895" height="1027"/>
<h6><span class="label">Figure 3-1. </span>Copilot chat interface, on the right</h6>
</div></figure>

<div data-type="note" epub:type="note">
<h1>Chat Interface in GitHub</h1>

<p>In this chapter, we are looking at using the chat interface in VS Code. Copilot’s chat interface is also used heavily in <a href="https://github.com/copilot">GitHub</a>. We’ll cover details on how that interface works in <a data-type="xref" href="ch09.html#ch09">Chapter 9</a>.</p>
</div>

<p>Copilot Chat has multiple modes for interacting with the AI. The default mode<a contenteditable="false" data-primary="Ask mode" data-type="indexterm" id="xi_AskmodeinCopilotChat33081"/>, which allows you to interact conversationally, is called <em>Ask</em> mode. The chat interface in Copilot is also a gateway to advanced editing with Copilot Edits and some autonomous development features with Copilot Agent mode. You can switch between the modes as shown in <a data-type="xref" href="#options-for-different">Figure 3-2</a>.</p>

<figure><div id="options-for-different" class="figure"><img alt="" src="assets/lghc_0302.png" width="826" height="655"/>
<h6><span class="label">Figure 3-2. </span>Options for chat modes</h6>
</div></figure>

<p>This chapter focuses on the basics of using chat in Ask mode. <a data-type="xref" href="ch04.html#ch04">Chapter 4</a> discusses how the Edit and Agent modes are used<a contenteditable="false" data-primary="" data-startref="xi_AskmodeinCopilotChat33081" data-type="indexterm" id="id531"/>.</p>

<p>In the IDE integration, the top row contains a Copilot icon. Clicking it allows you to open various chat interfaces in the IDE. This includes opening/reopening the main chat interface if it’s not visible—the top option in the list, as shown in <a data-type="xref" href="#opening-chats-control">Figure 3-3</a>.</p>

<figure><div id="opening-chats-control" class="figure"><img alt="" src="assets/lghc_0303.png" width="923" height="503"/>
<h6><span class="label">Figure 3-3. </span>Opening the chat control</h6>
</div></figure>

<div data-type="warning" epub:type="warning">
<h1>Possible AI Mistakes</h1>

<p><a contenteditable="false" data-primary="AI (artificial intelligence)" data-secondary="Copilot Chat and" data-type="indexterm" id="id532"/>When starting a new conversation with the chat interface, you will see this message: <em>Copilot is powered by AI, so mistakes are possible. Review output carefully before use. </em></p>

<p>This caution about potential inaccuracies from the Copilot AI should be considered for all responses returned by Copilot, not just in the chat interface. As noted in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, you should vet all responses returned by Copilot.</p>
</div>

<p>The options for the Editor Inline Chat<a contenteditable="false" data-primary="inline Chat interface" data-type="indexterm" id="id533"/><a contenteditable="false" data-primary="interfaces" data-secondary="Editor Inline Chat" data-type="indexterm" id="id534"/> and Quick Chat interfaces<a contenteditable="false" data-primary="Quick Chat" data-type="indexterm" id="id535"/><a contenteditable="false" data-primary="interfaces" data-secondary="Quick Chat" data-type="indexterm" id="id536"/> are explained later in this chapter.</p>

<p>In the main chat interface, you can enter your query or prompt in the text window labeled <em>Ask Copilot</em>. Let’s assume you’ve highlighted your <code translate="no">is_prime</code> code from the <a data-type="xref" href="ch02.html#ch02">Chapter 2</a> examples and want Copilot to explain how it works. Here’s a simple query for that:</p>

<pre data-type="programlisting" translate="no">
How does this code work?</pre>

<p>After processing the query, Copilot responds; <a data-type="xref" href="#result-from-chat-quer">Figure 3-4</a> shows an example.</p>

<figure><div id="result-from-chat-quer" class="figure"><img alt="" src="assets/lghc_0304.png" width="1079" height="833"/>
<h6><span class="label">Figure 3-4. </span>Result from the chat query</h6>
</div></figure>

<p>Notice that the response is presented in a more conversational style. It has fully formed sentences and can be read and understood even if you’re unfamiliar with Python coding. The response also includes any relevant code examples that support the explanation.</p>

<div data-type="note" epub:type="note">
<h1>Explanation Use Cases</h1>

<p><a contenteditable="false" data-primary="explanation use cases" data-type="indexterm" id="id537"/>While it may not seem significant to have Copilot explain code that you created, imagine being able to have it explain code that you didn’t write and don’t yet understand. An example could be code written in a language you’re not familiar with. You could also use Copilot explanations to explain a complex algorithm. The explanation could even form the basis of pseudocode for further <span class="keep-together">refinements</span>.</p>
</div>

<p>The chat response in this interface provides a lot of information, including some elements that are not directly part of the explanation but related to it. Let’s spend a little time looking more closely at the entire set of information in the output<a contenteditable="false" data-primary="" data-startref="xi_CopilotChataccessingmaininterface3184" data-type="indexterm" id="id538"/><a contenteditable="false" data-primary="" data-startref="xi_interfacesaccessingforCopilotChat3184" data-type="indexterm" id="id539"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Understanding Chat Output"><div class="sect1" id="id25">
<h1>Understanding Chat Output</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="output" data-type="indexterm" id="xi_CopilotChatoutput3794"/><a contenteditable="false" data-primary="output, for Copilot Chat" data-type="indexterm" id="xi_outputforCopilotChat3794"/>Beyond the prose from Chat, a couple of other items are worth noting in the output. We can use the example from the previous sections to explore these.</p>

<p>First, just under the GitHub Copilot title, Copilot tells us it “Used 1 reference.” A <em>reference<a contenteditable="false" data-primary="reference" data-type="indexterm" id="id540"/></em> in this case means content from, or related to, the project that Copilot determined was relevant to use in creating a response. Most commonly, this will be the currently active file in the editor, but it could include additional files, dependencies, custom settings, or other types of content that are not files. (For example, it could include commands if you’re using a prompt that references the terminal.)</p>

<p>Looking at <a data-type="xref" href="#result-from-chat-quer">Figure 3-4</a>, just under the GitHub Copilot logo, I’ve expanded the reference section to see the content that was considered in generating a response. In this case, the reference is the code from the only active file, <em>prime.py</em>. This is the default context, also shown at the top of the text input area. There the file is identified as the “Current file” (and thus the default context). We’ll discuss more about context for prompts in <a data-type="xref" href="#making_effective_use">“Making Effective Use of the Prompt Dialog”</a>.</p>

<p>Following the reference section is the full text of the response provided by Copilot (in Markdown format) from when we interacted with it. As a reminder, since we’re using generative AI, you may get different answers, even with exactly the same prompt:</p>

<pre data-type="programlisting" translate="no">
This code defines a function `is_prime(n)` that checks whether a 
given integer `n` is a prime number. Here's how it works:

### 1. **Check if `n` is less than or equal to 1**
```python
if n &lt;= 1:
    return False
```
- Numbers less than or equal to 1 are not prime, so the function 
immediately returns `False`.

### 2. **Iterate through potential divisors**
```python
for i in range(2, int(n**0.5) + 1):
    if n % i == 0:
        return False
```
- The function loops through integers `i` starting from 2 up to the 
square root of `n` (inclusive). The square root is calculated using 
`n**0.5`, and `int(n**0.5) + 1` ensures the range includes the 
integer part of the square root.
- If `n` is divisible by any `i` in this range (`n % i == 0`), it is
 not a prime number, and the function returns `False`.

### 3. **Return `True` if no divisors are found**
```python
return True
```
- If the loop completes without finding any divisors, the function 
concludes that `n` is a prime number and returns `True`.

### **Key Points**
- **Optimization**: The loop only checks divisors up to the square
 root of `n`, which reduces the number of iterations compared to
checking all numbers up to `n-1`.
- **Prime Definition**: A prime number is greater than 1 and
 divisible only by 1 and itself. This function implements that
 definition efficiently.

### Example
- Input: `is_prime(7)`
  - The loop checks divisors 2 and 3 (since `int(7**0.5) + 1 = 3`).
  - Since 7 is not divisible by 2 or 3, the function returns `True`.
- Input: `is_prime(9)`
  - The loop checks divisors 2 and 3.
  - Since 9 is divisible by 3, the function returns `False`.</pre>

<p>The response provides a detailed, step-by-step explanation of the code’s actions in prose (complete sentences written as if it were talking to you) as well as code excerpts from the file. This is one of the key advantages of working with the chat interface: conversational text is included with actual code. The text and code together form a complete conversation, just as you might share with a colleague.</p>

<p>It’s easy to continue the conversation in chat. For example, referencing your code, you can ask Copilot if there are more efficient ways to implement this logic. <a data-type="xref" href="#asking-a-followup-que">Figure 3-5</a> shows Copilot’s response with an optimized version of the code. Notice again the text explanation along with the code example.</p>

<figure><div id="asking-a-followup-que" class="figure"><img alt="" src="assets/lghc_0305.png" width="1178" height="868"/>
<h6><span class="label">Figure 3-5. </span>Asking Copilot if there are more efficient ways to implement our code</h6>
</div></figure>

<p>This output is read-only in the chat interface. However, if you hover over the code block, Copilot provides a pop-up bar with icons for different ways to get code from the window to the editor in your IDE. <a data-type="xref" href="#popup-options-in-chat">Figure 3-6</a> shows the pop-up bar and its extended options.</p>

<figure><div id="popup-options-in-chat" class="figure"><img alt="" src="assets/lghc_0306.png" width="940" height="469"/>
<h6><span class="label">Figure 3-6. </span>“Hover” icons to transfer code from the chat interface to the editor</h6>
</div></figure>

<p>From left to right, the icons allow you to do the following:</p>

<ul>
	<li>Apply changes to the currently active file for review</li>
	<li>Insert the text at the cursor location in the currently active file</li>
	<li>Copy the text to the clipboard</li>
	<li>Insert the text into a new file (accessible via the More Actions icon [...])</li>
	<li>Insert the text into a terminal (accessible via the More Actions icon [...])</li>
</ul>

<div data-type="tip">
<h1>Customizing the Hover Menu</h1>

<p><a contenteditable="false" data-primary="hover menu" data-type="indexterm" id="id541"/>By default, to get to the last two options in the list (insert into a new file and insert into the terminal), you need to hover over the ... selection in the pop-up, select More Actions, and then select the desired option.</p>

<p>However, if you hover over one of the icons and right-click, you’ll access a menu where you can select which icons show up in the <em>bar </em>when you hover. By checking all the entries in the list, you’ll have all icons available in the hover bar and won’t have to use the ... interface.</p>
</div>

<p>While most of these options are self-explanatory, Apply deserves additional explanation. When you click this option, Copilot will apply the changes to the file in your editor, showing you the suggested changes inline and allowing you to Keep or Undo each set (<a data-type="xref" href="#applying-changes-inli">Figure 3-7</a>).</p>

<figure><div id="applying-changes-inli" class="figure"><img alt="" src="assets/lghc_0307.png" width="1312" height="698"/>
<h6><span class="label">Figure 3-7. </span>Applying changes inline from the chat</h6>
</div></figure>

<p>Choosing the Insert at Cursor option<a contenteditable="false" data-primary="Insert at Cursor option, in Copilot Chat" data-type="indexterm" id="id542"/> will replace any highlighted code in the editor session with the code from the window. For example, suppose you have your previous code highlighted and then select that option. In that case, your previous implementation of the <code translate="no">is_prime</code> function will be overwritten by the one from the chat.</p>

<p>In addition to the controls that pop up when you hover over generated code in the chat panel, various other controls are always available at the top of the chat panel and in the text entry area itself. Let’s take a moment to talk about what those are and what they allow you to do, starting with ones that help you manage chat sessions<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatoutput3794" data-type="indexterm" id="id543"/><a contenteditable="false" data-primary="" data-startref="xi_outputforCopilotChat3794" data-type="indexterm" id="id544"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Managing Chat Sessions"><div class="sect1" id="id26">
<h1>Managing Chat Sessions</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="managing chat sessions" data-type="indexterm" id="xi_CopilotChatmanagingchatsessions31814"/><a contenteditable="false" data-primary="chat sessions, managing in Copilot Chat" data-type="indexterm" id="xi_chatsessionsmanaginginCopilotChat31814"/>In the top line of the chat panel are several controls you can use to manage your chat sessions (<a data-type="xref" href="#top-icons-in-chat-int">Figure 3-8</a>).</p>

<figure><div id="top-icons-in-chat-int" class="figure"><img alt="" src="assets/lghc_0308.png" width="713" height="223"/>
<h6><span class="label">Figure 3-8. </span>Top icons in the chat interface</h6>
</div></figure>

<p>On the right side, the left<a contenteditable="false" data-primary="left arrow, in Copilot Chat" data-type="indexterm" id="id545"/> and right arrow<a contenteditable="false" data-primary="right arrow, in Copilot Chat" data-type="indexterm" id="id546"/>s allow you to move forward and backward between sessions, respectively. The large + sign<a contenteditable="false" data-primary="+ symbol, in Copilot Chat" data-type="indexterm" id="id547"/> allows you to start a new chat session instead of continuing with the current one. Starting a new session is useful if you want to discuss a new topic and don’t want to risk Copilot assuming context from your previous discussions in the existing chat.</p>

<p class="pagebreak-before">In a single chat session, Copilot keeps track of the conversation history including the series of prompts. For example, in <a data-type="xref" href="#creating-tests-for-a">Figure 3-9</a>, we asked Copilot to create tests for one of our files.</p>

<figure><div id="creating-tests-for-a" class="figure"><img class="iimagesch3-creating-testspng" src="assets/lghc_0309.png" width="985" height="668"/>
<h6><span class="label">Figure 3-9. </span>Creating tests for a file</h6>
</div></figure>

<p>Afterwards, we asked Copilot a more generic question about what other use cases should be considered, and it returned an answer that was relevant to the context/follow-up for the previous question (<a data-type="xref" href="#follow-up-questions">Figure 3-10</a>).</p>

<figure><div id="follow-up-questions" class="figure"><img class="iimagesch3b-follow-up-questionpng" src="assets/lghc_0310.png" width="979" height="647"/>
<h6><span class="label">Figure 3-10. </span>Follow-up questions</h6>
</div></figure>

<p>Clicking the Show Chats icon<a contenteditable="false" data-primary="Show Chats icon (Copilot Chat)" data-type="indexterm" id="id548"/> (which looks like a clock inside a circular arrow) shows the set of chats you’ve been working with in a dialog (<a data-type="xref" href="#showing-sets-of-chats">Figure 3-11</a>). You can click an entry to switch to that chat.</p>

<figure><div id="showing-sets-of-chats" class="figure"><img alt="" src="assets/lghc_0311.png" width="991" height="205"/>
<h6><span class="label">Figure 3-11. </span>Showing sets of chats</h6>
</div></figure>

<p>The Views<a contenteditable="false" data-primary="Views and More Actions control (Copilot Chat)" data-type="indexterm" id="id549"/> and More Actions control (the one that looks like three dots) provides several options. It allows you to open the current chat in an editor session or in a detached window. It also allows you to provide Copilot with feedback on chat functionality as well as easily get to the latest release notes.</p>

<p>The “X”<a contenteditable="false" data-primary="X, in Copilot Chat" data-type="indexterm" id="id550"/> in the upper right of the chat window will close the chat view completely. Alternatively, you can delete a single chat by hovering over the area for it and clicking the “X” in the upper-right corner of the individual chat (<a data-type="xref" href="#deleting-a-chat">Figure 3-12</a>). The tip here is worded oddly as <em>Undo Requests</em>, but it currently delete<a contenteditable="false" data-primary="deleting chats" data-type="indexterm" id="id551"/>s the chat. Deleting a chat can sometimes be useful to remove discussions that are no longer relevant.</p>

<figure><div id="deleting-a-chat" class="figure"><img alt="" src="assets/lghc_0312.png" width="727" height="331"/>
<h6><span class="label">Figure 3-12. </span>Deleting a chat</h6>
</div></figure>

<p>Finally, it’s worth noting that you can export or save the content of a chat session. We’ll cover that in <a data-type="xref" href="ch06.html#ch06">Chapter 6</a>.</p>

<p>These controls help you manage your chat sessions. Since the way we interact with Copilot in chat is through prompts, let’s take a moment to talk about how we can best construct our prompts<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatmanagingchatsessions31814" data-type="indexterm" id="id552"/><a contenteditable="false" data-primary="" data-startref="xi_chatsessionsmanaginginCopilotChat31814" data-type="indexterm" id="id553"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Prompt Engineering for Copilot"><div class="sect1" id="id27">
<h1>Prompt Engineering for Copilot</h1>

<p><em>Prompt engineering<a contenteditable="false" data-primary="prompt engineering, for Copilot Chat" data-type="indexterm" id="xi_promptengineeringforCopilotChat322326"/></em> for GitHub Copilot Chat<a contenteditable="false" data-primary="Copilot Chat" data-secondary="prompt engineering for" data-type="indexterm" id="xi_CopilotChatpromptengineeringfor322355"/> is the process of crafting clear, targeted instructions to guide the AI in generating useful and accurate responses. When interacting with Copilot Chat, your prompt can be as simple as a question, a shortcut command (discussed later in this chapter), or a specific directive for Copilot related to your project. Copilot doesn’t rely on just your prompt—it also draws on the context from your open files and the ongoing chat history to provide relevant answers.</p>

<p>If you’re working on a larger effort, a good approach is to begin with a broad description of your goal, setting the stage for what you want to achieve. For example, you might start with, “Write a function that checks if a number is prime.” Once you’ve specified the general purpose, you can iterate with specific requirements or constraints, such as, “The function should return true for prime numbers and throw an error if the input is not a positive integer.” This progression from general to specific helps Copilot understand both the overarching task and the details, leading to more precise responses.</p>

<p>Providing examples is another effective technique. Including sample inputs and expected outputs, or even unit tests, can help Copilot better infer your intent. For instance, if you want a function to extract dates from a string, sharing a sample string and the expected array of dates will guide Copilot to generate code that matches your needs.</p>

<p>Copilot Chat also supports advanced features like referencing specific files, using chat variables, and integrating with participants and extensions for domain-specific tasks. (Chat variables and participants are discussed later in this chapter. Copilot Extensions are discussed in <a data-type="xref" href="ch10.html#ch10">Chapter 10</a>.) You can highlight code, use keywords, or drag files into the chat to give Copilot more context. Iteration is key: if the initial response isn’t quite right, refine your prompt or your context until you get the desired result.</p>

<p>By treating prompt engineering as an interactive conversation, you can leverage Copilot Chat to write code, debug errors, generate tests, and answer project-specific questions efficiently. The more clearly you communicate your intent, the better Copilot can assist you in your development workflow.</p>

<div data-type="note" epub:type="note">
<h1>More Info</h1>

<p>You can find more documentation on prompt engineering in the <a href="https://oreil.ly/QnqjI">Copilot documentation</a>.</p>
</div>

<p>When you’re entering your prompts, the text entry area has additional controls to let you customize the environment and targets for your prompt<a contenteditable="false" data-primary="" data-startref="xi_promptengineeringforCopilotChat322326" data-type="indexterm" id="id554"/><a contenteditable="false" data-primary="" data-startref="xi_CopilotChatpromptengineeringfor322355" data-type="indexterm" id="id555"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Making Effective Use of the Prompt Dialog"><div class="sect1" id="making_effective_use">
<h1>Making Effective Use of the Prompt Dialog</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="prompt dialog" data-type="indexterm" id="xi_CopilotChatpromptdialog32454"/><a contenteditable="false" data-primary="prompt dialog" data-type="indexterm" id="xi_promptdialog32454"/>Multiple controls are available in the chat dialog for use when submitting prompts or queries. These controls are shown in <a data-type="xref" href="#prompt-dialog-control">Figure 3-13</a>.</p>

<figure><div id="prompt-dialog-control" class="figure"><img alt="" src="assets/lghc_0313.png" width="1438" height="676"/>
<h6><span class="label">Figure 3-13. </span>Prompt dialog controls</h6>
</div></figure>

<p class="pagebreak-before">The controls are used for the following:</p>

<ul>
	<li>Adding context elements</li>
	<li>Selecting a chat participant to help handle the prompt</li>
	<li>Selecting what Copilot does when your prompt is submitted</li>
	<li>Selecting your AI model</li>
	<li>Selecting whether you are using the chat interface in the Ask, Edit, or Agent mode</li>
</ul>

<p>As noted earlier, we’re focusing on the Ask mode for chat in this chapter, and we’ll cover Edit and Agent modes in <a data-type="xref" href="ch04.html#ch04">Chapter 4</a>, so we won’t go into more detail on the last item. But the others are covered in this section.</p>

<section data-type="sect2" data-pdf-bookmark="Adding Context Elements"><div class="sect2" id="id29">
<h2>Adding Context Elements</h2>

<p><em><a contenteditable="false" data-primary="prompt dialog" data-secondary="adding context elements" data-type="indexterm" id="xi_promptdialogaddingcontextelements32668"/><a contenteditable="false" data-primary="context" data-secondary="adding elements using prompt dialog" data-type="indexterm" id="xi_contextaddingelementsusingpromptdialog32668"/>Context</em> here means relevant items that are part of your project that Copilot can reference for understanding and formulating responses. At the simplest level, if you have an active file open in the editor, it will be used as the current context. In <a data-type="xref" href="#prompt-dialog-control">Figure 3-13</a>, this is shown as “prime.py Current file”. If you want to exclude this file as the current context, you can make a different file active or click the icon that looks like an eye to cancel that file as context.</p>

<p>To manually add other types of elements from your project as context, click the paperclip icon with Add Context after it. This will bring up a set of optional items that you can include as context. These range from content in the editor, to individual files, to symbols, to text from the terminal, and even screenshots. There are also several options to search for other content like web pages or find usage of functions, variables, and symbols. <a data-type="xref" href="#attaching-additional">Figure 3-14</a> shows a partial list of items available when the control is invoked.</p>

<p>To find a particular item in the list, you can scroll or type in characters in the search bar. This includes files in your project. You can also scroll to the bottom of the list to see recently opened files.</p>

<figure><div id="attaching-additional" class="figure"><img alt="" src="assets/lghc_0314.png" width="1189" height="636"/>
<h6><span class="label">Figure 3-14. </span>Attaching additional context</h6>
</div></figure>

<p>When you are done adding the context elements you want, you can enter your prompt and submit it. The context items you’ve added will be consulted as Copilot prepares the response. <a data-type="xref" href="#running-a-prompt-with">Figure 3-15</a> shows an example of the output from running a prompt with several context items added.</p>

<figure><div id="running-a-prompt-with" class="figure"><img alt="" src="assets/lghc_0315.png" width="1005" height="661"/>
<h6><span class="label">Figure 3-15. </span>Running a prompt with multiple types of context</h6>
</div></figure>

<div data-type="note" epub:type="note">
<h1>Repository Indexes</h1>

<p><a contenteditable="false" data-primary="repository indexes" data-type="indexterm" id="id556"/>On the topic of context, just a reminder that GitHub automatically builds a <em>workspace index<a contenteditable="false" data-primary="workspace index" data-type="indexterm" id="id557"/></em> to help quickly and accurately search your project for relevant code pieces. This index can then be used as another supporting piece to help search a wider set of content in the codebase and better answer questions about it<a contenteditable="false" data-primary="" data-startref="xi_promptdialogaddingcontextelements32668" data-type="indexterm" id="id558"/><a contenteditable="false" data-primary="" data-startref="xi_contextaddingelementsusingpromptdialog32668" data-type="indexterm" id="id559"/>.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Adding Participants"><div class="sect2" id="id30">
<h2>Adding Participants</h2>

<p><a contenteditable="false" data-primary="prompt dialog" data-secondary="adding participants" data-type="indexterm" id="xi_promptdialogaddingparticipants32924"/><a contenteditable="false" data-primary="participants (chat)" data-secondary="adding using prompt dialog" data-type="indexterm" id="xi_participantschataddingusingpromptdialog32924"/><a contenteditable="false" data-primary="chat participants" data-secondary="adding using prompt dialog" data-type="indexterm" id="xi_chatparticipantsaddingusingpromptdialog32924"/>The @ control<a contenteditable="false" data-primary="@ symbol" data-type="indexterm" id="id560"/> allows you to invoke a chat participant. <em>Chat participants</em> set a scope for the prompt or query to apply to, such as the entire workspace, the terminal, and VS Code. Several built-in chat participants are available in the IDE, such as <code translate="no">@workspace</code> and <code translate="no">@terminal</code>.</p>

<p>Additional participants can also be provided by GitHub Copilot Extensions<a contenteditable="false" data-primary="Extensions (GitHub Copilot)" data-type="indexterm" id="id561"/> when you install them. <em>Copilot Extensions </em>are custom integrations that incorporate other tools (such as Docker) or APIs into your IDE’s chat interface. Chat participants are discussed in more detail later in this chapter. Copilot Extensions are covered in <a data-type="xref" href="ch10.html#ch10">Chapter 10</a>. <a data-type="xref" href="#invoking-participant">Figure 3-16</a> shows a list of built-in chat participants that you can select from.</p>

<figure><div id="invoking-participant" class="figure"><img alt="" src="assets/lghc_0316.png" width="1090" height="723"/>
<h6><span class="label">Figure 3-16. </span>Invoking a participant or extension</h6>
</div></figure>

<p>Next up is the Send button on the right. Clicking this will submit your prompt or query to the AI, but you can submit your prompt in varied ways<a contenteditable="false" data-primary="" data-startref="xi_promptdialogaddingparticipants32924" data-type="indexterm" id="id562"/><a contenteditable="false" data-primary="" data-startref="xi_participantschataddingusingpromptdialog32924" data-type="indexterm" id="id563"/><a contenteditable="false" data-primary="" data-startref="xi_chatparticipantsaddingusingpromptdialog32924" data-type="indexterm" id="id564"/>.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Understanding Options for Submitting Your Prompt"><div class="sect2" id="id31">
<h2>Understanding Options for Submitting Your Prompt</h2>

<p><a contenteditable="false" data-primary="prompt dialog" data-secondary="options for submitting prompts" data-type="indexterm" id="xi_promptdialogoptionsforsubmittingprompts33074"/>The arrow control at the right side of the prompt area is referred to as the <em>Send button<a contenteditable="false" data-primary="Send button" data-type="indexterm" id="id565"/></em>. It has a default behavior as well as several other options. The various Send options shown in <a data-type="xref" href="#send-options">Figure 3-17</a> all submit your prompt or query to Copilot, but there are some key differences. Let’s break down what each option means.</p>

<figure><div id="send-options" class="figure"><img alt="" class="image" src="assets/lghc_0317.png" width="1062" height="317"/>
<h6><span class="label">Figure 3-17. </span>Send options</h6>
</div></figure>

<p>By default, Copilot Chat will try to direct your prompt or query to a suitable action or tool (such as a chat participant), when possible. This is the standard Send and Dispatch behavior when you click the arrow.</p>

<p>When routed to an action or tool, you may see a “rerun without” link option<a contenteditable="false" data-primary="“rerun without” link option" data-type="indexterm" id="id566"/> at the top of the output. In <a data-type="xref" href="#example-prompt-with-automatic">Figure 3-18</a>, the prompt was simply “Create test cases”. But note that Copilot added the <code translate="no">workspace</code> participant and a <code translate="no">/tests </code>shortcut command<a contenteditable="false" data-primary="/tests command" data-type="indexterm" id="id567"/>. (We’ll discuss these kinds of commands later in the chapter.) The “rerun without” link would run the query without the <code translate="no">/tests</code> command.</p>

<figure><div id="example-prompt-with-automatic" class="figure"><img alt="" src="assets/lghc_0318.png" width="921" height="458"/>
<h6><span class="label">Figure 3-18. </span>Example prompt with automatic additions by Copilot</h6>
</div></figure>

<p>If the automatically selected action or tool is not the right one for your question, you can select the link to resend your question to Copilot without including the participant. This is the behavior of the Send option if you select that in the drop-down list. <a data-type="xref" href="#example-prompt-using-send">Figure 3-19</a> shows what this option looks like with the same prompt.</p>

<figure><div id="example-prompt-using-send" class="figure"><img alt="" src="assets/lghc_0319.png" width="991" height="595"/>
<h6><span class="label">Figure 3-19. </span>Example prompt using the Send option</h6>
</div></figure>

<p>For the third option, “Send with #codebase<a contenteditable="false" data-primary="Send with #codebase option" data-type="indexterm" id="id568"/>”, <code translate="no">#codebase</code> is a chat variable. Chat variables<a contenteditable="false" data-primary="chat variables" data-type="indexterm" id="id569"/> are covered later in the chapter, but essentially this tells Copilot to take into account all the information it has about your entire set of code. This can be useful if other content in the project may need to be considered in the response but you don’t know (or don’t want to) specify individual items for context. In our example for generating tests, using this option could allow the AI to determine whether there are already existing tests and/or generate suggestions for more comprehensive tests across the project.</p>

<p>The last option, Send to New Chat<a contenteditable="false" data-primary="Send to New Chat option" data-type="indexterm" id="id570"/>, is self-explanatory. The prompt you just entered will be opened in a new chat as the first prompt. This is useful when you want to isolate a specific query or task from ongoing conversations for clarity or focus.</p>

<p>The remaining control in the dialog is an option to pick the LLM<a contenteditable="false" data-primary="LLMs (large language models)" data-type="indexterm" id="id571"/> that you want Copilot to use on the backend. This gives you flexibility in choosing an LLM that may be better suited for your particular task. A large set of LLMs is currently available to choose from via the drop-down (<a data-type="xref" href="#selecting-a-different">Figure 3-20</a>). As new ones become available, they are designated as <em>preview</em> for a period of time. You may also be asked to “Enable access for all clients” as part of using a different model.</p>

<figure><div id="selecting-a-different" class="figure"><img alt="" src="assets/lghc_0320.png" width="885" height="927"/>
<h6><span class="label">Figure 3-20. </span>Selecting a different model</h6>
</div></figure>

<div data-type="note" epub:type="note">
<h1>Managing Models</h1>

<p>You may have noticed the Manage Models link<a contenteditable="false" data-primary="Manage Models link" data-type="indexterm" id="id572"/> at the bottom of the models list in <a data-type="xref" href="#selecting-a-different">Figure 3-20</a>. This link allows you enter data that may be needed to access other models, such as custom model IDs or API keys.</p>
</div>

<p>Since you’ve seen how the main Chat dialog works, let’s look at a shortcut to using chat inline with your code in the editor<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatpromptdialog32454" data-type="indexterm" id="id573"/><a contenteditable="false" data-primary="" data-startref="xi_promptdialog32454" data-type="indexterm" id="id574"/><a contenteditable="false" data-primary="" data-startref="xi_promptdialogoptionsforsubmittingprompts33074" data-type="indexterm" id="id575"/>.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using the Editor Inline Chat Interface"><div class="sect1" id="id32">
<h1>Using the Editor Inline Chat Interface</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="inline Chat interface" data-type="indexterm" id="xi_CopilotChatEditorInlineChatinterface33504"/><a contenteditable="false" data-primary="inline Chat interface" data-type="indexterm" id="xi_EditorInlineChatinterface33504"/><a contenteditable="false" data-primary="interfaces" data-secondary="Editor Inline Chat" data-type="indexterm" id="xi_interfacesEditorInlineChat33504"/>Copilot integration provides a simplified, quick-access interface to Chat in the editor. The interface can be invoked at any position by using the <em>Meta</em>-I<em> </em>combination (<a data-type="xref" href="#inline-chat-interface">Figure 3-21</a>).</p>

<figure><div id="inline-chat-interface" class="figure"><img alt="" src="assets/lghc_0321.png" width="1372" height="538"/>
<h6><span class="label">Figure 3-21. </span>Inline chat interface</h6>
</div></figure>

<p>This dialog is a smaller version of the chat dialog. It’s designed to be used inline in the code editor without taking up too much screen real estate. Aside from adding context, it has the same controls, and you can supply the same prompts or queries as in the main chat window. For example, you can highlight the code and ask the same question as earlier in the chapter:</p>

<pre data-type="programlisting" translate="no">
How does this code work?</pre>

<p>Copilot will return as much of the response as it can show in the limited window (<a data-type="xref" href="#prompting-in-interact">Figure 3-22</a>). You can scroll or expand the dialog to see more of the output. However, with this limited amount of screen real estate, you still may not be able to see the complete response. To see the complete response in the main chat interface, click the<em> </em>View in Chat button.</p>

<figure><div id="prompting-in-interact" class="figure"><img alt="" src="assets/lghc_0322.png" width="1376" height="807"/>
<h6><span class="label">Figure 3-22. </span>Prompting in an interactive chat</h6>
</div></figure>

<div data-type="note" epub:type="note">
<h1>Regenerate Option</h1>

<p>You<a contenteditable="false" data-primary="Regenerate option" data-type="indexterm" id="id576"/> may have noticed a circular arrow<a contenteditable="false" data-primary="circular arrow" data-type="indexterm" id="id577"/> next to the View in Chat button. Whenever you see this symbol, it is a way to ask Copilot to regenerate the answer and see if it offers another, possibly better response.</p>
</div>

<p class="pagebreak-before">Clicking the View in Chat button displays the full text of the response in the main chat window (<a data-type="xref" href="#output-from-view-in-c">Figure 3-23</a>). You can scroll through the response and do follow-up prompting, selecting code, and copying/inserting code examples.</p>

<figure><div id="output-from-view-in-c" class="figure"><img alt="" src="assets/lghc_0323.png" width="1007" height="811"/>
<h6><span class="label">Figure 3-23. </span>Output from the View in Chat option</h6>
</div></figure>

<p>Other operations initiated from the inline dialog may update code inline in the editor. For example, if you ask Copilot to</p>

<pre data-type="programlisting" translate="no">
document the selected code</pre>

<p>then, as shown in <a data-type="xref" href="#suggested-changes-for">Figure 3-24</a>, Copilot produces the documentation inline for the selected code.</p>

<p>So if the prompt asks Copilot to change an aspect of the editor’s actual code, the results are applied directly inline for you to review and to decide whether to accept or not. If the prompt asks Copilot for a response that would be an alternative to the code in the IDE, such as translating this code to Go or optimizing this code, the output can appear either in the interactive chat window (if it is succinct enough) or the main output area from chat.</p>

<figure><div id="suggested-changes-for" class="figure"><img alt="" src="assets/lghc_0324.png" width="1214" height="821"/>
<h6><span class="label">Figure 3-24. </span>Suggested changes for documentation</h6>
</div></figure>

<p>While the main chat panel and the inline editor chat functionality cover most use cases, there is one other option for quickly engaging with chat, appropriately called <em>Quick Chat<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatEditorInlineChatinterface33504" data-type="indexterm" id="id578"/><a contenteditable="false" data-primary="" data-startref="xi_EditorInlineChatinterface33504" data-type="indexterm" id="id579"/><a contenteditable="false" data-primary="" data-startref="xi_interfacesEditorInlineChat33504" data-type="indexterm" id="id580"/></em>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using the Quick Chat Interface"><div class="sect1" id="id33">
<h1>Using the Quick Chat Interface</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="Quick Chat interface" data-type="indexterm" id="xi_CopilotChatQuickChatinterface33984"/>A<a contenteditable="false" data-primary="Quick Chat" data-type="indexterm" id="xi_QuickChat33985"/><a contenteditable="false" data-primary="interfaces" data-secondary="Quick Chat" data-type="indexterm" id="xi_interfacesQuickChat33985"/>t times you may want to quickly ask Chat a question or send it a prompt that is not about the code in your current editor and that doesn’t warrant switching to the full chat panel. To help with that, Copilot includes a <em>Quick Chat </em>feature that pops up a simple chat dialog at the top of the IDE. <a data-type="xref" href="#quick-chat">Figure 3-25</a> shows an example.</p>

<figure><div id="quick-chat" class="figure"><img alt="" src="assets/lghc_0325.png" width="1027" height="160"/>
<h6><span class="label">Figure 3-25. </span>Quick Chat</h6>
</div></figure>

<p>The dialog itself is like the one in the inline editor but is not positioned in the editor. This option allows you to interact with Copilot via a prompt and then go back to what you were doing. Invoking Quick Chat can be done via a shortcut or via the Copilot icon at the top of the VS Code interface. Clicking that icon (as shown in <a data-type="xref" href="#chat-options-in-copil">Figure 3-26</a>) shows the options to open the main Chat panel, open the Quick Chat dialog, and open the Editor Inline Chat<em>. </em></p>

<figure><div id="chat-options-in-copil" class="figure"><img alt="" src="assets/lghc_0326.png" width="1076" height="443"/>
  <h6><span class="label">Figure 3-26. </span>Chat options in the Copilot menu in the title bar</h6>
</div></figure>

<p>Just as we can have more concise chat interfaces, we can have more concise prompts by using Copilot shortcuts for typical requests. There are several of these, which we’ll explore in the next section<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatQuickChatinterface33984" data-type="indexterm" id="id581"/><a contenteditable="false" data-primary="" data-startref="xi_QuickChat33985" data-type="indexterm" id="id582"/><a contenteditable="false" data-primary="" data-startref="xi_interfacesQuickChat33985" data-type="indexterm" id="id583"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Chat Shortcuts"><div class="sect1" id="id34">
<h1>Chat Shortcuts</h1>

<p class="fix_tracking"><a contenteditable="false" data-primary="shortcuts, Copilot Chat" data-type="indexterm" id="xi_shortcutsCopilotChat34184"/>GitHub Copilot Chat<a contenteditable="false" data-primary="Copilot Chat" data-secondary="shortcuts" data-type="indexterm" id="xi_CopilotChatshortcuts341823"/> supports several shortcuts for common types of interactions. These shortcuts are referred to as <em>slash commands<a contenteditable="false" data-primary="slash commands" data-type="indexterm" id="id584"/></em> because they start with a slash character (/)<a contenteditable="false" data-primary="/ (slash character)" data-type="indexterm" id="id585"/>. Slash commands will work when initiated either from the main chat window or from the inline chat (<em>Meta</em>-I) interface. Not all commands may be available in every IDE, but <a data-type="xref" href="#table-slash-command">Table 3-1</a> shows the superset of those available at the time of writing.</p>

<table class="border" id="table-slash-command">
	<caption><span class="label">Table 3-1. </span>Copilot slash commands</caption>
	<thead>
		<tr>
			<th>Command</th>
			<th>Purpose</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code translate="no">/clear</code></td>
			<td>Clear the current conversation</td>
		</tr>
		<tr>
			<td><code translate="no">/doc</code></td>
			<td>Add comments for selected or specified code</td>
		</tr>
		<tr>
			<td><code translate="no">/edit</code></td>
			<td>Edit the selected code in your active editor</td>
		</tr>
		<tr>
			<td><code translate="no">/explain</code></td>
			<td>Generate explanations of how code works</td>
		</tr>
		<tr>
			<td><code translate="no">/fix</code></td>
			<td>Propose a fix for a problem</td>
		</tr>
		<tr>
			<td><code translate="no">/fixTestFailure</code></td>
			<td>Propose a fix for the failing test</td>
		</tr>
		<tr>
			<td><code translate="no">/generate</code></td>
			<td>Generate code to address a specific ask</td>
		</tr>
		<tr>
			<td><code translate="no">/help</code></td>
			<td>Get help with Copilot</td>
		</tr>
		<tr>
			<td><code translate="no">/new</code></td>
			<td>Scaffold code for a new workspace</td>
		</tr>
		<tr>
			<td><code translate="no">/newNotebook</code></td>
			<td>Create a new Jupyter notebook</td>
		</tr>
		<tr>
			<td><code translate="no">/search</code></td>
			<td>Search for content with VS Code</td>
		</tr>
		<tr>
			<td><code translate="no">/startDebugging</code></td>
			<td>Generate launch config and start debugging in VS Code</td>
		</tr>
		<tr>
			<td><code translate="no">/tests</code></td>
			<td>Create unit tests for code</td>
		</tr>
	</tbody>
</table>

<div data-type="warning" epub:type="warning">
<h1>Limited Feature Parity</h1>

<p>Different IDEs may only have a subset of these slash commands or even ones that aren’t listed here. The currently implemented and supported slash commands can change frequently, so always consult the Copilot documentation for your particular IDE to understand which ones are available.</p>
</div>

<p>Accessing these commands is straightforward. Simply type the forward slash character in one of the chat interfaces, and Copilot will present a list of available commands to choose from (see <a data-type="xref" href="#listing-slash-command">Figure 3-27</a>). Note that not all shortcut commands are available in the inline chat interface.</p>

<figure><div id="listing-slash-command" class="figure"><img alt="" src="assets/lghc_0327.png" width="1158" height="722"/>
<h6><span class="label">Figure 3-27. </span>Listing slash commands in the interactive chat</h6>
</div></figure>

<p class="pagebreak-before">You can use the same method in the main chat panel, as shown in <a data-type="xref" href="#listing-slash-command2">Figure 3-28</a>.</p>

<figure><div id="listing-slash-command2" class="figure"><img alt="" src="assets/lghc_0328.png" width="1033" height="847"/>
<h6><span class="label">Figure 3-28. </span>Listing slash commands in the main chat panel</h6>
</div></figure>

<p>This is only a brief introduction to the slash commands, but they can be very useful. We’ll be exploring particular ones in more detail as we progress through the book.</p>

<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The feature to explain code with Copilot works best in IDEs when you have the relevant extension for the language you’re using installed. As of the time of this writing, this relates to the VS Code extensions for the following:</p>

<ul class="two-col">
	<li>TypeScript/JavaScript</li>
	<li>Python</li>
	<li>Java</li>
	<li>C#</li>
	<li>C++</li>
	<li>Go</li>
	<li>Ruby</li>
</ul>
</div>

<p>Included on the same rows as the slash commands in <a class="xref" data-type="xref" href="#listing-slash-command2">Figure 3-28</a> are terms starting with <a contenteditable="false" data-primary="@ symbol" data-type="indexterm" id="id586"/>the <code translate="no">@</code> character. As noted previously, these are referred to as <em>participants</em> and help identify the <em>scope</em> and <em>domain </em>where the shortcuts can be used. I’ll explain more about these in the next section<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatshortcuts341823" data-type="indexterm" id="id587"/><a contenteditable="false" data-primary="" data-startref="xi_shortcutsCopilotChat34184" data-type="indexterm" id="id588"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Chat Participants"><div class="sect1" id="id35">
<h1>Chat Participants</h1>

<p>In GitHub Copilot<a contenteditable="false" data-primary="Copilot Chat" data-secondary="participants" data-type="indexterm" id="xi_CopilotChatparticipants353021"/>, <em>chat participants </em>are essentially pointers to certain domains. By referencing them in your prompt in the chat interface, you are effectively telling the AI to scope the prompt to a particular domain and use the participant’s knowledge in that domain to generate relevant responses.</p>

<p>To reference one of these chat participants, you type <a contenteditable="false" data-primary="@ symbol" data-type="indexterm" id="id589"/>the <code translate="no">@</code> symbol with the name of the participant you want to use as part of your prompt. At the time of this writing, the following participants are available per the <a href="https://oreil.ly/v0714">GitHub documentation</a>:</p>

<dl>
	<dt><code translate="no">@workspace<a contenteditable="false" data-primary="@workspace chat participant" data-type="indexterm" id="id590"/></code></dt>
	<dd>Has knowledge about the code in your workspace. Use <code translate="no">@workspace</code> when you want Copilot to consider the structure of your project, how different parts of your code interact, or design patterns in your project.</dd>
	<dt><code translate="no">@vscode<a contenteditable="false" data-primary="@vscode chat participant" data-type="indexterm" id="id591"/></code></dt>
	<dd>Has knowledge about VS Code commands and features. Use <code translate="no">@vscode</code> when you want help with VS Code.</dd>
	<dt><code translate="no">@terminal<a contenteditable="false" data-primary="@terminal chat participant" data-type="indexterm" id="id592"/></code></dt>
	<dd>Has knowledge about the VS Code terminal shell and its contents. Use <code translate="no">@terminal</code> when you want help creating or debugging terminal commands.</dd>
	<dt><code translate="no">@vision<a contenteditable="false" data-primary="@vision" data-type="indexterm" id="id593"/></code></dt>
	<dd>Allows you to attach an image file to help Copilot understand the question. (In preview.)</dd>
	<dt><code translate="no">@github<a contenteditable="false" data-primary="@github" data-type="indexterm" id="id594"/></code></dt>
	<dd>Allows you to prompt about issues, pull requests, etc. across your repos. (Not available in all interfaces.)</dd>
	<dt><code translate="no">@project<a contenteditable="false" data-primary="@project" data-type="indexterm" id="id595"/></code></dt>
	<dd>(Applicable to JetBrains IDE) Like <code translate="no">@workspace</code>, knows about the code in your project.</dd>
</dl>

<div data-type="note" epub:type="note">
<h1>Installing Other Chat Participants</h1>

<p>Beyond the built-in chat participants<a contenteditable="false" data-primary="participants (chat)" data-secondary="Copilot Chat" data-type="indexterm" id="xi_participantschatCopilotChat355041"/><a contenteditable="false" data-primary="chat participants" data-secondary="Copilot Chat" data-type="indexterm" id="xi_chatparticipantsCopilotChat355041"/> provided by GitHub, Copilot also allows for installing<a contenteditable="false" data-primary="installing" data-secondary="Copilot Extensions" data-type="indexterm" id="id596"/> Copilot Extensions<a contenteditable="false" data-primary="Extensions (GitHub Copilot)" data-secondary="installing" data-type="indexterm" id="id597"/> that can provide additional custom chat participants. We’ll have more to say about these and how you can extend Copilot in <a data-type="xref" href="ch10.html#ch10">Chapter 10</a>.</p>
</div>

<p>Let’s take a deeper dive into some of the common participants.</p>

<section data-type="sect2" data-pdf-bookmark="@workspace"><div class="sect2" id="id36">
<h2>@workspace</h2>

<p>The <code translate="no">@workspace<a contenteditable="false" data-primary="@workspace chat participant" data-type="indexterm" id="xi_workspacechatparticipant355839"/></code> chat participant is useful when you explicitly want Copilot to consider all code that’s part of the workspace as potential sources for the chat response. This doesn’t mean that all code will be used and sent as part of creating the response. The Copilot extension will consider all the files that are part of the workspace to determine which files (or portions of them) may be useful for context. The automatic indexing we mentioned before makes this simpler.</p>

<p>Suppose we ask Copilot via <code translate="no">@workspace</code> which files use <code translate="no">import</code>. Copilot will first collect information about the workspace to determine relevant content. When done, the chat interface will display a list of references it ultimately decided were worth considering for the prompt. This will be at the start of the response. As we saw earlier, we can see the list of selected references by expanding the “Used references” line. Because we are using the <code translate="no">@workspace</code> participant, we may have more <em>hits </em>this time<em>. </em>A more extensive set of references resulting from a prompt with <code translate="no">@workspace</code> is shown in <a data-type="xref" href="#asking-which-files-us">Figure 3-29</a>.</p>

<figure><div id="asking-which-files-us" class="figure"><img alt="" src="assets/lghc_0329.png" width="1117" height="898"/>
<h6><span class="label">Figure 3-29. </span>Asking which files use imports via <code translate="no">@workspace</code></h6>
</div></figure>

<p>When the <code translate="no">@workspace</code> chat participant is used in prompts, we get a response that spans the workspace and lists out multiple files.</p>

<div data-type="warning" epub:type="warning">
<h1>Ensuring Changes Are Considered for @workspace</h1>

<p>The <code translate="no">@workspace</code> functionality is referencing the saved content in your codebase, so it’s important to save any changes or new content you want to be considered by the chat participant before you execute the prompt.</p>
</div>

<p>Using <code translate="no">@workspace</code>, we can ask more general questions about a set of code. This can be especially advantageous for finding information about content we’re not familiar with. For example, we can ask generic questions like these:</p>

<ul>
	<li>What kind of backend is used in this project?</li>
	<li>How do I run this code?</li>
	<li>Where do I use <em>X</em>?</li>
	<li>What service do I use to do <em>Y</em>?</li>
	<li>Which frameworks are being used?</li>
</ul>

<p><a data-type="xref" href="#another-example-of-us">Figure 3-30</a> shows an example of using that last query to gather information.</p>

<figure><div id="another-example-of-us" class="figure"><img alt="" src="assets/lghc_0330.png" width="1089" height="683"/>
<h6><span class="label">Figure 3-30. </span>Another example of using the <code translate="no">@workspace</code> participant</h6>
</div></figure>

<div data-type="tip">
<h1>Shortcut for Adding @workspace</h1>

<p>If you use <em>Meta</em>-Enter (versus just Enter) when you submit your query in chat, it will automatically add the <code translate="no">@workspace</code> participant to your prompt.</p>
</div>

<p>Whereas <code translate="no">@workspace</code> provides context around our set of code, the chat participant <code translate="no">@vscode</code> can help with any questions or prompts related to using VS Code<a contenteditable="false" data-primary="" data-startref="xi_workspacechatparticipant355839" data-type="indexterm" id="id598"/>.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="@vscode"><div class="sect2" id="id37">
<h2>@vscode</h2>

<p>The <code translate="no">@vscode<a contenteditable="false" data-primary="@vscode chat participant" data-type="indexterm" id="xi_vscodechatparticipant360236"/></code> chat participant (specific to the VS Code IDE) acts as a domain expert on VS Code commands and customizations. By using it in the Copilot chat interface, you can ask questions about VS Code via natural language. As implemented, it has access to the index of all the settings and commands for the application. With this participant, you can ask questions in the GitHub Copilot Chat interface like these:</p>

<ul>
	<li>How can I open a project in VS Code?</li>
	<li>How can I install extensions in VS Code?</li>
	<li>How can I create a new file in VS Code?</li>
	<li>How can I change the theme in VS Code?</li>
</ul>

<p><a data-type="xref" href="#using-vscode-in-chat">Figure 3-31</a> shows an example of using the <code translate="no">@vscode</code> chat participant to find out how to change VS Code defaults.</p>

<figure><div id="using-vscode-in-chat" class="figure"><img alt="" src="assets/lghc_0331.png" width="1243" height="645"/>
<h6><span class="label">Figure 3-31. </span>Using <code translate="no">@vscode</code> in chat</h6>
</div></figure>

<p>In this image, you can also see that Copilot included a link to get to a different interface—the Command Palette—as a shortcut to access functionality. Clicking that button in the chat output opens up the entry as shown at the top of the figure.</p>

<p>As another example of using this participant, you might want to understand more about how to debug using your IDE. So you can enter the query:</p>

<pre data-type="programlisting" translate="no">
@vscode how do I debug</pre>

<p>The last participant we’ll cover is <code translate="no">@terminal</code>, which as the name suggests, is useful for terminal interactions<a contenteditable="false" data-primary="" data-startref="xi_vscodechatparticipant360236" data-type="indexterm" id="id599"/>.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="@terminal"><div class="sect2" id="id38">
<h2>@terminal</h2>

<p>The <code translate="no">@terminal<a contenteditable="false" data-primary="@terminal chat participant" data-type="indexterm" id="xi_terminalchatparticipant363038"/></code> participant allows you to query Copilot about the integrated terminal shell, its buffer, and the current selection in the terminal. This is convenient to understand more about what’s been done in the terminal, help clarify any issues, and come up with the commands you need. Examples of questions/prompts you could do with this one include the following:</p>

<ul>
	<li>What did the last command do?</li>
	<li>Explain the command</li>
	<li>How do I...?</li>
</ul>

<p><a data-type="xref" href="#terminal-chat-partic">Figure 3-32</a> shows a simple example of using the chat participant to ask how to do a task with a command in the terminal. If you hover over the output command, you’ll have a pop-up control on the right to insert the response directly in the terminal.</p>

<figure><div id="terminal-chat-partic" class="figure"><img alt="" src="assets/lghc_0332.png" width="1075" height="376"/>
<h6><span class="label">Figure 3-32. </span>The <code translate="no">@terminal</code> chat participant</h6>
</div></figure>

<p>You can also use this participant to ask Copilot for help on common workflows you would execute in the terminal. For example, you might use the terminal participant to ask how you could commit your code by using Git through the command line.</p>

<p>Most slash commands default to one of the chat participants as the domain to run the command in. As an example, relative to the earlier VS Code debug example, the <code translate="no">@vscode</code> participant has the slash command<a contenteditable="false" data-primary="slash commands" data-type="indexterm" id="id600"/> <code translate="no">/startDebugging</code> associated with it (<a data-type="xref" href="#participants-and-thei">Figure 3-33</a>). So if you enter <code translate="no">/startDebugging</code> in the chat query box, <code translate="no">@vscode</code> will automatically be prefixed to it (<a data-type="xref" href="#automatic-insertion-vscode">Figure 3-34</a>). This means that the <code translate="no">/startDebugging</code> command is currently only relevant if you’re referencing VS Code.</p>

<figure><div id="participants-and-thei" class="figure"><img alt="" src="assets/lghc_0333.png" width="958" height="598"/>
<h6><span class="label">Figure 3-33. </span>Participants and their associated slash commands</h6>
</div></figure>

<figure><div id="automatic-insertion-vscode" class="figure"><img alt="" src="assets/lghc_0334.png" width="936" height="191"/>
<h6><span class="label">Figure 3-34. </span>Automatic insertion of <code translate="no">@vscode</code> when <code translate="no">/startDebugging</code> is selected</h6>
</div></figure>

<p><a data-type="xref" href="#slash-commands-and-co">Table 3-2</a> shows the mappings between the shortcut commands and the participants as well as the intended function of each.</p>

<table class="border" id="slash-commands-and-co">
	<caption><span class="label">Table 3-2. </span>Slash commands and context in Copilot</caption>
	<thead>
		<tr>
			<th scope="col">Command</th>
			<th scope="col">Participant</th>
			<th scope="col">Function from Copilot</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code translate="no">/explain</code></td>
			<td><code translate="no">@terminal</code></td>
			<td>Explain something that occurred in the terminal</td>
		</tr>
		<tr>
			<td><code translate="no">/search</code></td>
			<td><code translate="no">@vscode</code></td>
			<td>Generate query parameters for the Search view</td>
		</tr>
		<tr>
			<td><code translate="no">/startDebugging</code></td>
			<td><code translate="no">@vscode</code></td>
			<td>Generate launch config and start debugging in VS Code (experimental)</td>
		</tr>
		<tr>
			<td><code translate="no">/explain</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Explain how the active code works</td>
		</tr>
		<tr>
			<td><code translate="no">/fix</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Propose a fix for bugs in your code</td>
		</tr>
		<tr>
			<td><code translate="no">/fixTestFailure</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Propose a fix for the failing test</td>
		</tr>
		<tr>
			<td><code translate="no">/new</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Scaffold code for a new workspace or new file</td>
		</tr>
		<tr>
			<td><code translate="no">/newNotebook</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Scaffold a new Jupyter notebook by using natural language</td>
		</tr>
		<tr>
			<td><code translate="no">/setupTests</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Set up tests in your project (experimental)</td>
		</tr>
		<tr>
			<td><code translate="no">/tests</code></td>
			<td><code translate="no">@workspace</code></td>
			<td>Generate unit tests for code</td>
		</tr>
		<tr>
			<td><code translate="no">/help</code></td>
			<td> </td>
			<td>Get help about using GitHub Copilot</td>
		</tr>
		<tr>
			<td><code translate="no">/clear</code></td>
			<td> </td>
			<td>Start a new chat session</td>
		</tr>
	</tbody>
</table>

<p>Participants can refine context at a broad level. However, at times you might need to specify context for Copilot at a more targeted level. When that’s the case, you can use identifiers to specify a file, content in the editor, a selection, etc. These identifiers are called <em>chat variables<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatparticipants353021" data-type="indexterm" id="id601"/><a contenteditable="false" data-primary="" data-startref="xi_participantschatCopilotChat355041" data-type="indexterm" id="id602"/><a contenteditable="false" data-primary="" data-startref="xi_terminalchatparticipant363038" data-type="indexterm" id="id603"/><a contenteditable="false" data-primary="" data-startref="xi_chatparticipantsCopilotChat355041" data-type="indexterm" id="id604"/></em>.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Chat Variables"><div class="sect1" id="id39">
<h1>Chat Variables</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="variables" data-type="indexterm" id="xi_CopilotChatvariables37384"/>Chat variables<a contenteditable="false" data-primary="variables" data-secondary="Copilot Chat" data-type="indexterm" id="xi_variablesCopilotChat373818"/> provide a way to further refine context within the text of the prompt itself. They can target items in the editor, a specific file, your Git repository, terminal commands and more. To reference a chat variable in a prompt in the chat interface, you indicate it with the <code translate="no">#<a contenteditable="false" data-primary="# symbol" data-type="indexterm" id="id605"/></code> symbol. For example, <code translate="no">#terminalSelection</code> pulls in the active terminal’s selection.</p>

<p><a data-type="xref" href="#description-of-chat-v">Table 3-3</a> lists the chat variables that are available at the time of this writing. (See <a href="https://oreil.ly/0s5TM">the VS Code documentation</a> for the latest info.) The Description column lists the content that is added from the project as context for your prompt.</p>

<table class="border" id="description-of-chat-v">
	<caption><span class="label">Table 3-3. </span>Chat variables</caption>
	<thead>
		<tr>
			<th scope="col">Chat variable</th>
			<th scope="col">Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code translate="no">#changes</code></td>
			<td>List of source control changes</td>
		</tr>
		<tr>
			<td><code translate="no">#codebase</code></td>
			<td>Relevant content found in your workspace</td>
		</tr>
		<tr>
			<td><code translate="no">#fetch</code></td>
			<td>Content from a web page by providing its URL</td>
		</tr>
		<tr>
			<td><code translate="no">#file</code></td>
			<td>A specified file you pick or specify from your workspace</td>
		</tr>
		<tr>
			<td><code translate="no">#<em>&lt;filename&gt;</em></code></td>
			<td>Provides a list of files (matching characters you type after <code translate="no">#</code>) to choose from</td>
		</tr>
		<tr>
			<td><code translate="no">#folder</code></td>
			<td>The specified folder and all files in it</td>
		</tr>
		<tr>
			<td><code translate="no">#problems</code></td>
			<td>Workspace issues and problems from the Problems panel; useful as context for debugging or fixing code</td>
		</tr>
		<tr>
			<td><code translate="no">#searchResults</code></td>
			<td>Results from a search query performed within your workspace</td>
		</tr>
		<tr>
			<td><code translate="no">#selection</code></td>
			<td>The currently selected text in the editor—will add it as <em><code translate="no">&lt;filename:lines&gt;</code></em></td>
		</tr>
		<tr>
			<td><code translate="no">#sym</code></td>
			<td>The current symbol</td>
		</tr>
		<tr>
			<td><code translate="no">#<em>&lt;symbol&gt;</em></code></td>
			<td>Provides a list of symbols (matching characters you type after <code translate="no">#</code>) to choose from</td>
		</tr>
		<tr>
			<td><code translate="no">#terminalLastCom⁠mand</code></td>
			<td>Active terminal’s last run command</td>
		</tr>
		<tr>
			<td><code translate="no">#terminalSelection</code></td>
			<td>Active terminal’s selection</td>
		</tr>
		<tr>
			<td><code translate="no">#testFailure</code></td>
			<td>Adds information about test failures to aid in diagnosing and fixing tests</td>
		</tr>
		<tr>
			<td><code translate="no">#usages</code></td>
			<td>Combines Find All References, Find Implementation, and Go to Definition</td>
		</tr>
		<tr>
			<td><code translate="no">#vscodeAPI</code></td>
			<td>Adds VS Code API to answer questions about VS Code extension development</td>
		</tr>
	</tbody>
</table>

<p>You can easily get access to the chat variables by simply typing <code translate="no">#</code> in your prompt. When you do that, Copilot will bring up a list of available variables (<a data-type="xref" href="#chat-variables">Figure 3-35</a>).</p>

<figure><div id="chat-variables" class="figure"><img alt="" src="assets/lghc_0335.png" width="1016" height="642"/>
<h6><span class="label">Figure 3-35. </span>Chat variables</h6>
</div></figure>

<p>After this, you can select a relevant item (such as a file) from the provided list (<a data-type="xref" href="#selecting-a-file-from">Figure 3-36</a>).</p>

<figure><div id="selecting-a-file-from" class="figure"><img alt="" src="assets/lghc_0336.png" width="1033" height="360"/>
<h6><span class="label">Figure 3-36. </span>Selecting a file from a populated list</h6>
</div></figure>

<aside data-type="sidebar" epub:type="sidebar" class="pagebreak-before"><div class="sidebar" id="id606">
<h1 class="less_space">Using Correct Paths</h1>

<p>When using the <code translate="no">#file</code> variable and selecting a file from the pop-up list presented, you can just select the filename (see <a data-type="xref" href="#filename-picked-from">Figure 3-37</a>).</p>

<figure><div id="filename-picked-from" class="figure"><img alt="" src="assets/lghc_0337.png" width="1250" height="640"/>
<h6><span class="label">Figure 3-37. </span>A filename picked from a list</h6>
</div></figure>

<p>However, if you are typing in a filename directly as part of the prompt, remember to include the relative path from the root of the project:</p>

<pre data-type="programlisting" translate="no">
What does the #file:controllers/suite_test.go do?</pre>
</div></aside>

<p>You can also combine participants, shortcut commands, and variables together in prompts. <a data-type="xref" href="#focusing-on-selection">Figure 3-38</a> shows an example of asking Copilot to explain a selection in a file. Note that it automatically filled in the <code translate="no">@workspace</code> participant, so that the prompt became <code translate="no">@workspace /explain #selection</code>. This shows an example of using a combination of a chat participant, a shortcut command, and a chat variable.</p>

<p>If you look at the references used, Copilot ended up focusing on the selection and another part of the file it needed to produce a response. Copilot then produced an explanation for the more targeted context (the selected text) as requested.</p>

<figure><div id="focusing-on-selection" class="figure"><img alt="" src="assets/lghc_0338.png" width="1188" height="656"/>
<h6><span class="label">Figure 3-38. </span>Using a chat participant and chat variable to help specify context</h6>
</div></figure>

<p>Making sure that Copilot is considering the context you intend can sometimes be challenging. The key is looking at Copilot’s response to see if:</p>

<ul>
	<li>Copilot used the reference(s) you expected</li>
	<li>The response Copilot supplied is <em>generic </em>advice or is specific to the structure or content within your workspace</li>
</ul>

<p>Those two attributes of the response will help you quickly identify if Copilot is targeting the content you intended or if you need to use one of the approaches outlined in this section to steer it more precisely.</p>

<p>There’s one more chat interface that you can also use when interacting with Copilot. This one is targeted for operations that you do in the terminal<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatvariables37384" data-type="indexterm" id="id607"/><a contenteditable="false" data-primary="" data-startref="xi_variablesCopilotChat373818" data-type="indexterm" id="id608"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Chat in the Terminal"><div class="sect1" id="id40">
<h1>Chat in the Terminal</h1>

<p>Copilot<a contenteditable="false" data-primary="Copilot Chat" data-secondary="in the terminal" data-type="indexterm" id="xi_CopilotChatintheterminal386811"/> provides dedicated, terminal<a contenteditable="false" data-primary="terminal" data-secondary="Copilot Chat in" data-type="indexterm" id="xi_terminalCopilotChatin386840"/>-focused chat functionality. When you’re in a terminal, such as in VS Code, using the same <em>Meta</em>-I shortcut brings up a shortcut dialog for typing in prompts that are directed to the terminal. <a data-type="xref" href="#terminal-query-dialog">Figure 3-39</a> shows the shortcut dialog that comes up in this case.</p>

<figure><div id="terminal-query-dialog" class="figure"><img alt="" src="assets/lghc_0339.png" width="2074" height="538"/>
<h6><span class="label">Figure 3-39. </span>The terminal query dialog</h6>
</div></figure>

<p>You <a contenteditable="false" data-startref="xi_CopilotChatintheterminal386811" data-type="indexterm" id="id609"/><a contenteditable="false" data-primary="" data-startref="xi_terminalCopilotChatin386840" data-type="indexterm" id="id610"/>can enter a prompt such as “How do I commit my changes with Git?” and see the commands you need to run in the terminal. In addition, you have options to run them, view the output in chat, and more (see <a data-type="xref" href="#chat-in-terminal">Figure 3-40</a>).</p>

<figure><div id="chat-in-terminal" class="figure"><img alt="" src="assets/lghc_0340.png" width="1227" height="488"/>
<h6><span class="label">Figure 3-40. </span>Viewing Chat in the terminal</h6>
</div></figure>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Creating Custom Code-Generation Instructions"><div class="sect1" id="id41">
<h1>Creating Custom Code-Generation Instructions</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="creating custom code-generation instructions" data-type="indexterm" id="xi_CopilotChatcreatingcustomcodegenerationinstructions38844"/><a contenteditable="false" data-primary="custom code-generation instructions, creating" data-type="indexterm" id="xi_customcodegenerationinstructionscreating38844"/>In <a data-type="xref" href="ch02.html#ch02">Chapter 2</a>, I mentioned that you could create custom instructions for Copilot code reviews. You can also create custom instructions to guide how Copilot generates code responses. Note, however, these custom instructions do not apply to inline code suggestions in the editor.</p>

<p>As with the custom review instructions, you can accomplish this in three ways.</p>

<p>First, you can edit the <em>settings.json</em> file and add custom instructions under <code translate="no">git⁠hub.​copilot.chat.codeGeneration.instructions</code>. Here’s an example of a rule you can add:</p>

<pre data-type="programlisting" translate="no" class="pagebreak-before">
"github.copilot.chat.codeGeneration.instructions": [
    {
        "text": "Always add comments to generated code describing 
its purpose."
    },
    {
        "text": "Use underscores for private field names in
 TypeScript."
     }
]</pre>

<p>After adding the rule in the user settings file, you can tell Copilot to review the same code again. This time, it flags the condition you specified in the settings file, as shown in <a data-type="xref" href="ch02.html#flagged-issue-from-se">Figure 2-24</a>.</p>

<p>Second, you can create a Markdown file in your repository or project with the specific path and name of <em>.github/copilot-instructions.md</em>.</p>

<p>Here’s an example of what this file might look like with the same rules:</p>

<pre data-type="programlisting" translate="no">
# Custom Instructions for Code Generation

- Always add comments to generated code describing its purpose.
- Use underscores for private field names in TypeScript.</pre>

<p>If you prefer to use a different path or name for the Markdown file, you can create it and then reference it in the <em>settings.json</em> file with a <code translate="no">file:</code> key. For example, if you named it <em>.docs/code-style.md</em>, you could point Copilot to it with the following entry in the settings file:</p>

<pre data-type="programlisting" translate="no">
 "github.copilot.chat.reviewSelection.instructions": [
    {
       "file": ".docs/code-style.md"
    }
 ]</pre>

<p>Let’s look at an example without custom code-generation instructions. Say you prompt Copilot to create a minimal TypeScript class with a private variable (<a data-type="xref" href="#minimal-typescript-cl">Figure 3-41</a>).</p>

<p>Assume you then add custom instructions via one of the approaches just outlined. With those in place, if you execute the same prompt, you’ll get a result like the one shown in <a data-type="xref" href="#minimal-typescript-cl2">Figure 3-42</a>.</p>

<figure><div id="minimal-typescript-cl" class="figure"><img alt="" src="assets/lghc_0341.png" width="1116" height="916"/>
<h6><span class="label">Figure 3-41. </span>A minimal TypeScript class without custom code-generation instructions</h6>
</div></figure>

<figure><div id="minimal-typescript-cl2" class="figure"><img alt="" src="assets/lghc_0342.png" width="1140" height="612"/>
<h6><span class="label">Figure 3-42. </span>A minimal TypeScript class with custom code-generation instructions</h6>
</div></figure>

<p>Notice in this version, the code is commented and the private variable name starts with an underscore, following the directions we put in place for the custom code-generation instructions.</p>

<p>Finally, before we leave this chapter, it’s worth saying a few words about dealing with hallucinations and bad answers that may come back from the AI models used by Copilot<a contenteditable="false" data-primary="" data-startref="xi_CopilotChatcreatingcustomcodegenerationinstructions38844" data-type="indexterm" id="id611"/><a contenteditable="false" data-primary="" data-startref="xi_customcodegenerationinstructionscreating38844" data-type="indexterm" id="id612"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Dealing with Hallucinations and Bad Answers"><div class="sect1" id="id42">
<h1>Dealing with Hallucinations and Bad Answers</h1>

<p><a contenteditable="false" data-primary="Copilot Chat" data-secondary="hallucinations" data-type="indexterm" id="xi_CopilotChathallucinations39434"/><a contenteditable="false" data-primary="hallucinations" data-type="indexterm" id="xi_hallucinationsinCopilotChat39434"/><a contenteditable="false" data-primary="Copilot Chat" data-secondary="bad answers" data-type="indexterm" id="xi_CopilotChatbadanswers39434"/><a contenteditable="false" data-primary="bad answers, in Copilot Chat" data-type="indexterm" id="xi_badanswersinCopilotChat39434"/>In spite of all the context we may supply to Copilot, the underlying AI models could still include hallucinations and produce bad answers in their responses. Spotting these in chat requires a critical eye and some methodical checks.</p>

<p>Hallucinations occur when Copilot generates code, explanations, or facts that sound plausible but are incorrect, unsupported, or entirely fabricated. Common signs include references to nonexistent functions, APIs, or fields, as well as code that simply doesn’t compile or align with your project’s contents. Sometimes Copilot may invent details about your codebase or misinterpret your requirements, leading to outputs that look correct at first glance but fail upon closer inspection.</p>

<p>To identify these issues, start by carefully reviewing Copilot’s responses for technical accuracy and consistency with your codebase. If Copilot suggests a function or field you don’t recognize, check your project files or documentation to confirm whether it actually exists. Be wary of results with overly confident explanations or code that seems too generic or unrelated to your context.</p>

<p>Testing the generated code is crucial: try running it, adding unit tests, or checking if it integrates smoothly with your existing code. (Testing with Copilot is covered in <a data-type="xref" href="ch05.html#ch05">Chapter 5</a>.) If you notice silent failures or vague responses, that’s also a red flag that Copilot may be struggling to provide a grounded answer.</p>

<p>When you suspect hallucinations or bad answers, here are some approaches to handle them:</p>

<ul>
	<li>Verify all AI-generated content before using it.</li>
	<li>Cross-reference Copilot’s suggestions with trusted documentation or reliable sources.</li>
	<li>If more validation is needed, use fact-checking tools or plug-ins that can validate the information against external databases or web sources.</li>
</ul>

<p class="pagebreak-before">To reduce the chances of encountering these in the first place, consider these <span class="keep-together">strategies</span>:</p>

<ul>
	<li>If possible, break down complex prompts into smaller, more manageable questions to reduce ambiguity and help Copilot focus on specific tasks.</li>
	<li>Iteratively refine your prompts based on the responses you receive.</li>
	<li>Don’t hesitate to discard or revise outputs that seem questionable.</li>
</ul>

<p>Ultimately, treat Copilot as a helpful assistant rather than an infallible authority. By combining careful review, testing, and external validation, you can minimize the impact of hallucinations and ensure the quality and reliability of your code and documentation<a contenteditable="false" data-primary="" data-startref="xi_CopilotChathallucinations39434" data-type="indexterm" id="id613"/><a contenteditable="false" data-primary="" data-startref="xi_hallucinationsinCopilotChat39434" data-type="indexterm" id="id614"/><a contenteditable="false" data-primary="" data-startref="xi_CopilotChatbadanswers39434" data-type="indexterm" id="id615"/><a contenteditable="false" data-primary="" data-startref="xi_badanswersinCopilotChat39434" data-type="indexterm" id="id616"/>.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Conclusion"><div class="sect1" id="id377">
<h1>Conclusion</h1>

<p>As you can see, the chat interface for Copilot provides a much larger degree of flexibility in terms of conversational input and output than the inline code completion functionality. Chat does this with the trade-off of more verbose content to wade through and a longer response time as it analyzes more content for context and generates more extensive suggestions.</p>

<p>If you are focused on writing code inline in the editor and do not need to have conversations with Copilot, but rather just want to see its immediate coding suggestions, you don’t have to access the chat interface.</p>

<p>On the other hand, if you need to ask Copilot something or need more results than are available through the inline interactions, Chat is a powerful tool. This is especially true when you incorporate the additional capabilities of chat participants and chat references to focus Copilot on the pieces you are most interested in.</p>

<p>Now that you have a core understanding of what Copilot is and how to interact with it, we can move on to some of the advanced features for editing and autonomous workflows it provides for use in the IDE. These features can save you time and effort and do some impressive automation.</p>
</div></section>
</div></section></div></div></body></html>