- en: appendix B Python pandas DataFrame
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This appendix describes an overview of the pandas DataFrame and the methods
    used in this book.
  prefs: []
  type: TYPE_NORMAL
- en: B.1 An overview of pandas DataFrame
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Python pandas is a data manipulation, analysis, and visualization library. It
    provides tools to load and allow you to manipulate, analyze, and visualize data.
    In this book, we use the pandas DataFrame, a two-dimensional structure composed
    of rows and columns. The DataFrame stores data in a tabular form, enabling you
    to manipulate, analyze, filter, and aggregate data quickly and easily.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are different ways to create a pandas DataFrame. In this book, we consider
    two ways: from a Python dictionary and from a CSV file. You can download the code
    described in this appendix from the GitHub repository for the book under AppendixB/Pandas
    DataFrame.ipynb.'
  prefs: []
  type: TYPE_NORMAL
- en: B.1.1 Building from a dictionary
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Consider the following listing, which creates a pandas DataFrame from a Python
    dictionary.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.1 Creating a DataFrame from a dictionary
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Defines the dictionary'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Creates the DataFrame'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Parses the BirthDate field as a date'
  prefs: []
  type: TYPE_NORMAL
- en: Note  Use `DataFrame()` to create a new DataFrame from a dictionary.
  prefs: []
  type: TYPE_NORMAL
- en: B.1.2 Building from a CSV file
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Use the `read_csv()` file to load a CSV file into a pandas DataFrame.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.2 Creating a DataFrame from a CSV file
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Note  Use `read_csv()` to create a new DataFrame from a CSV file.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you have seen how to create a pandas DataFrame, we’ll discuss the main
    DataFrame functions used in this book.
  prefs: []
  type: TYPE_NORMAL
- en: B.2 dt
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `dt` variable within a pandas Dataframe enables you to access Python’s built-in
    DateTime library. Use it to store and manipulate DateTime values, such as the
    year, month, day, hour, minute, and second. Consider the following listing, which
    extracts the year from a DateTime column.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.3 How to use pandas `dt`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Extracts the year from the BirthDate column'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Extracts the month from the BirthDate column'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Extracts the day from the BirthDate column'
  prefs: []
  type: TYPE_NORMAL
- en: '#4 Extracts the week from the BirthDate column'
  prefs: []
  type: TYPE_NORMAL
- en: Note  Use pandas `dt` to access the DateTime functions of Python’s DateTime
    library.
  prefs: []
  type: TYPE_NORMAL
- en: B.3 groupby()
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The pandas `groupby()` method splits data into groups based on the values of
    certain columns. This process often involves creating an aggregate statistic for
    each group, such as a sum or mean.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.4 How to use pandas `groupby`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Note  Use pandas `groupby` to group by instrument and calculate the average
    score by grade. Use the `reset_index()` method to restore the indexer column (`Grade`
    in the example).
  prefs: []
  type: TYPE_NORMAL
- en: Table B.1 shows the result.
  prefs: []
  type: TYPE_NORMAL
- en: Table B.1 The result of `groupby()` in listing B.4
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| **Grade** | **MathsScore** | **PhysicsScore** | **ChemistryScore** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| A  | 90.0  | 88.0  | 91.0  |'
  prefs: []
  type: TYPE_TB
- en: '| B  | 85.0  | 92.0  |  |'
  prefs: []
  type: TYPE_TB
- en: B.4 isnull()
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The pandas DataFrame `isnull()` method returns a new Boolean DataFrame indicating
    which values in the DataFrame are null (`NaN`). Use this method to detect missing
    values in a DataFrame.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.5 How to use pandas `isnull`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Note  Use pandas `isnull()` to check if a DataFrame contains missing values.
    You can apply the `isnull()` method to a single column as well (e.g., `df['ChemistryScore'].isnull()`).
  prefs: []
  type: TYPE_NORMAL
- en: Table B.2 shows the result, a Boolean DataFrame indicating which values in the
    DataFrame are null (`NaN`).
  prefs: []
  type: TYPE_NORMAL
- en: Table B.2 The result of `isnull()` in listing B.5
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| **Name** | **BirthDate** | **MathsScore** | **PhysicsScore** | **ChemistryScore**
    | **Grade** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| False  | False  | False  | False  | False  | False  |'
  prefs: []
  type: TYPE_TB
- en: '| False  | False  | False  | False  | True  | False  |'
  prefs: []
  type: TYPE_TB
- en: '| False  | False  | True  | False  | False  | False  |'
  prefs: []
  type: TYPE_TB
- en: B.5 melt()
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We use the pandas `melt()` function to reshape data by turning columns into
    rows. This function unpivots a DataFrame from wide to long format, optionally
    leaving identifiers set.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.6 How to use pandas `melt`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Note  Use pandas `melt()` to transform the DataFrame from wide to long format.
    Set the `id_vars` argument to specify which variables to keep as an identifier
    and the `var_name` and `value_name` arguments to set the column names for the
    new variables in the resulting melted DataFrame. Use `value_ vars` to select the
    columns to group.
  prefs: []
  type: TYPE_NORMAL
- en: Table B.3 shows the result of melting the data used in listing B.6.
  prefs: []
  type: TYPE_NORMAL
- en: Table B.3 The result of the melting operation described in listing B.6
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| **Name** | **Subject** | **Score** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Alice  | `MathsScore`  | 90.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Bob  | `MathsScore`  | 85.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Charlie  | `MathsScore`  | Null  |'
  prefs: []
  type: TYPE_TB
- en: '| Alice  | `PhysicsScore`  | 87.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Bob  | `PhysicsScore`  | 92.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Charlie  | `PhysicsScore`  | 89.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Alice  | `ChemistryScore`  | 92.0  |'
  prefs: []
  type: TYPE_TB
- en: '| Bob  | `ChemistryScore`  | Null  |'
  prefs: []
  type: TYPE_TB
- en: B.6 unique()
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We use the pandas `unique()` method to obtain distinct values from a specific
    column in a DataFrame. This method returns an array-like object, containing the
    unique values found in the specified column.
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.7 How to use pandas `unique`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Note  Use pandas `unique()` to get the unique values of a column.
  prefs: []
  type: TYPE_NORMAL
- en: The following listing shows the result of calculating the unique values for
    the column `Grade` (from listing B.7).
  prefs: []
  type: TYPE_NORMAL
- en: Listing B.8 The results of pandas `unique()`
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Note  The method returns an array containing the unique values for a column.
  prefs: []
  type: TYPE_NORMAL
