- en: 3 Engaging GPT assistants
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter covers
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Introducing the OpenAI GPT Assistants platform and the ChatGPT UI
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building a GPT that can use the code interpretation capabilities
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Extending an assistant via custom actions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding knowledge to a GPT via file uploads
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Commercializing your GPT and publishing it to the GPT Store
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As we explore the OpenAI crusade into assistants and what has been hinted at,
    ultimately, an agent platform called GPT Assistants, we’ll introduce GPT assistants
    through the ChatGPT interface. Then, we’ll add in several fully developed assistants
    that can suggest recipes from ingredients, fully analyze data as a data scientist,
    guide readers through books, and be extended with custom actions. By the end of
    the chapter, we’ll be ready to build a fully functional agent that can be published
    to the OpenAI GPT Store.
  prefs: []
  type: TYPE_NORMAL
- en: 3.1 Exploring GPT assistants through ChatGPT
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: ChatGPT (ChatGPT Plus, at the time of writing) allows you to build GPT assistants,
    consume other assistants, and even publish them, as you’ll see by the end of the
    chapter. When OpenAI announced the release of the GPT Assistants platform, it
    helped define and solidify the emergence of AI agents. As such, it’s worth a serious
    review by anyone interested in building and consuming agent systems. First, we’ll
    look at building GPT assistants through ChatGPT Plus, which requires a premium
    subscription. If you don’t want to purchase a subscription, browse this chapter
    as a primer, and chapter 6 will demonstrate consuming the API service later.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3.1 shows the page for the GPT Store within ChatGPT ([https://chatgpt.com/gpts](https://chatgpt.com/gpts)).
    From here, you can search and explore various GPTs for virtually any task. The
    amount of usage will typically indicate how well each GPT works, so gauge which
    works best for you.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-1.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.1 The main interface to the GPT Store
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Creating your first GPT Assistant is as simple as clicking the Create button
    and following along with the GPT Builder chat interface. Figure 3.2 shows using
    the Builder to create a GPT. Working through this exercise a couple of times can
    be a great way to start understanding an assistant’s requirements.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-2.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.2 Interacting with the GPT Builder to create an assistant
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: After working with the Builder, you can open the manual configuration panel,
    shown in figure 3.3, and edit the GPT directly. You’ll see the name, description,
    instructions, and conversation starters populated from your conversations with
    the Builder. This can be a great start, but generally, you’ll want to edit and
    tweak these properties manually.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-3.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.3 The Configure panel of the GPT Assistants platform interface
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: If you want to follow along with building your own Culinary Companion, enter
    the text from listing 3.1 into the instructions. These instructions were partly
    generated by conversing with the Builder and added based on explicit outputs.
    The explicit outputs are added to the instructions as rules.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.1 Instructions for Culinary Companion
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Personality or persona of your assistant'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 General guidelines of the agent’s role and goal'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 A set of rules the agent will follow when suggesting a recipe'
  prefs: []
  type: TYPE_NORMAL
- en: Defining rules for an assistant/agent essentially creates a template for what
    the agent will produce. Adding rules ensures that the GPT output is consistent
    and aligned with your expectations of how the agent should operate. Defining and
    giving an agent/ assistant a persona provides them with a unique and memorable
    personality.
  prefs: []
  type: TYPE_NORMAL
- en: Note  Giving an agent/assistant a particular personality can make a difference
    in the type and form of output. Asking a cooking agent to speak as the first celebrity
    chef, Julia Child, not only provides for a fun tone but also engages more references
    that may mention or talk about her cooking style and teaching. When constructing
    an agent/assistant, assigning a particular persona/personality can be helpful.
  prefs: []
  type: TYPE_NORMAL
- en: With just these few steps, we have a culinary companion that not only gives
    us recipes for ingredients we have on hand but also generates an image of the
    finished recipe, estimates the nutritional value, creates a shopping list with
    an estimate of prices, and breaks down the cost per serving.
  prefs: []
  type: TYPE_NORMAL
- en: Try the assistant by requesting a recipe and providing a list of ingredients
    you have or prefer. Listing 3.2 shows an example of a simple request with extra
    information to set the mood. Of course, you can add any ingredients or situations
    you like and then see the results.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.2 Prompting the recipe
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Figure 3.4 shows the formatted output results from the GPT provided by the prompt.
    It certainly looks good enough to eat. All of this output was generated because
    of the instructions we provided the agent.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-4.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.4 The output results of the Culinary Companion GPT
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: While the output results look great, they may not all be factual and correct,
    and your results may vary. For instance, the GPT added chicken strips to the shopping
    list when we had already suggested having those ingredients. Furthermore, the
    prices and estimated nutritional information are just estimates, but this can
    be resolved later if they interest you.
  prefs: []
  type: TYPE_NORMAL
- en: Out of the box, though, GPT Assistants is quite impressive for quickly building
    a proof-of-concept assistant or agent. As you’ll see later in the chapter, it
    also provides an excellent platform for consuming assistants outside ChatGPT.
    In the next section, we’ll look at more impressive features GPTs provide, such
    as file uploads and code interpretation.
  prefs: []
  type: TYPE_NORMAL
- en: 3.2 Building a GPT that can do data science
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The GPT Assistants platform has and will likely be extended to include various
    agent components. Currently, GPT Assistants support what is referred to as knowledge,
    memory, and actions. In chapter 8, we’ll discuss the details of knowledge and
    memory, and in chapter 5, we cover the concept of tool use through actions.
  prefs: []
  type: TYPE_NORMAL
- en: In our next exercise, we’ll build an assistant to perform a first-pass data
    science review of any CSV document we provide. This agent will use the ability
    or action that allows for coding and code interpretation. When you enable code
    interpretation, the assistant will allow file uploads by default.
  prefs: []
  type: TYPE_NORMAL
- en: Before we do that, though, we want to design our agent, and what better way
    to do that than to ask an LLM to build us an assistant? Listing 3.3 shows the
    prompt requesting ChatGPT (GPT-4) to design a data science assistant. Notice how
    we’re not asking for everything in a single prompt but instead iterating over
    the information returned by the LLM.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.3 Prompting for a data science assistant
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '#1 First, ask the LLM to set the foundation.'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Then, ask the LLM to convert the previous steps to a more formal process.'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Finally, ask the LLM to provide a personality that can represent the process.'
  prefs: []
  type: TYPE_NORMAL
- en: The result of that conversation provided for the assistant instructions shown
    in listing 3.4\. In this case, the assistant was named Data Scout, but feel free
    to name your assistant what appeals to you.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.4 Data Scout instructions
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: After generating the instructions, you can copy and paste them into the Configure
    panel in figure 3.5\. Be sure to give the assistant the Code Interpretation tool
    (skill) by selecting the corresponding checkbox. You don’t need to upload files
    here; the assistant will allow file uploads when the Code Interpretation checkbox
    is enabled.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-5.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.5 Turning on the Code Interpreter tool/skill
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Now, we can test the assistant by uploading a CSV file and asking questions
    about it. The source code folder for this chapter contains a file called `netflix_titles.csv`;
    the top few rows are summarized in listing 3.5\. Of course, you can use any CSV
    file you want, but this exercise will use the Netflix example. Note that this
    dataset was downloaded from Kaggle, but you can use any other CSV if you prefer.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.5 `netflix_titles.csv` (top row of data)
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Comma-separated list of columns'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 An example row of data from the dataset'
  prefs: []
  type: TYPE_NORMAL
- en: We could upload the file and ask the assistant to do its thing, but for this
    exercise, we’ll be more specific. Listing 3.6 shows the prompt and uploading the
    file to engage the assistant (including `Netflix_titles.csv` in the request).
    This example filters the results to Canada, but you can, of course, use any country
    you want to view.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.6 Prompting the Data Scout
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '#1 You can select a different country to filter the data on.'
  prefs: []
  type: TYPE_NORMAL
- en: If you encounter problems with the assistant parsing the file, refresh your
    browser window and try again. Depending on your data and filter, the assistant
    will now use the Code Interpreter as a data scientist would to analyze and extract
    trends in the data.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3.6 shows the output generated for the prompt in listing 3.5 using the
    `netflix_titles.csv` file for data. Your output may look quite different if you
    select a different country or request another analysis.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-6.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.6 The output generated by the assistant as it analyzed the CSV data
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: The data science plots the assistant is building are created by writing and
    executing code with the Code Interpreter. You can try this with other CSV files
    or, if you want, different forms of data to analyze. You could even continue iterating
    with the assistant to update the plots visually or analyze other trends.
  prefs: []
  type: TYPE_NORMAL
- en: Code interpretation is a compelling skill that you’ll likely add to many of
    your agents for everything from calculations to custom formatting. In the next
    section, we look at how to extend the capabilities of a GPT through custom actions.
  prefs: []
  type: TYPE_NORMAL
- en: 3.3 Customizing a GPT and adding custom actions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In our next exercise, we’ll demonstrate the use of custom actions, which can
    significantly extend the reach of your assistant. Adding custom actions to an
    agent requires several components, from understanding the OpenAPI specification
    endpoint to connecting to a service. Therefore, before we add custom actions,
    we’ll build another GPT in the next section to assist us.
  prefs: []
  type: TYPE_NORMAL
- en: 3.3.1 Creating an assistant to build an assistant
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Given GPTs’ capabilities, it only makes sense that we use one to assist in building
    others. In this section, we’ll build a GPT that can help us create a service we
    can connect as a custom action to another GPT. And yes, we’ll even use an LLM
    to begin constructing our helper GPT.
  prefs: []
  type: TYPE_NORMAL
- en: The following listing shows the prompt for creating the instructions for our
    helper GPT. This prompt is intended to generate the instructions for the assistant.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.7 Prompting the helper design (in GPT Builder or ChatGPT)
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Listing 3.8 shows the bulk of the instructions generated for the prompt. The
    output was then modified and slightly updated with specific information and other
    details. Copy and paste those instructions from the file (`assistant_builder.txt`)
    into your GPT. Be sure to select the Code Interpreter capability also.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.8 Custom action assistant instructions
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '#1 This uses ngrok as an example to deploy the service locally.'
  prefs: []
  type: TYPE_NORMAL
- en: After preparing the assistant, ensure everything is set in the Configure panel
    (including setting the Code Interpreter checkbox), and then refresh your browser
    window. This will prepare the assistant for a new session. You can request the
    kind of service you want to build from here.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.9 shows the request to the Custom Action Assistant to create a daily
    task endpoint. If you understand how APIs work, you can suggest other options,
    such as `POST`. Of course, you can also ask the assistant to guide you and create
    your service.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.9 Prompt requesting task endpoint service
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: After you enter the prompt, the assistant will generate the code and instructions
    for creating and running the FastAPI endpoint. The following listing shows an
    example of the code generated from the previous request.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.10 `daily_tasks_api.py` (generated from assistant)
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Use Pydantic to create a type for the task.'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 This is a static list of tasks to demonstrate.'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 The tasks endpoint'
  prefs: []
  type: TYPE_NORMAL
- en: Enter the code into Visual Studio Code (VS Code), and confirm that `fastapi`
    and `uvicorn` are installed with `pip`. Then, run the API using the command shown
    in the following listing, which runs the API in the chapter source file.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.11 Running the API
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Change the name of the module/file if you’re using something different.'
  prefs: []
  type: TYPE_NORMAL
- en: Open a browser to http://127.0.0.1:8000/docs, the default location for the Swagger
    endpoint, as shown in figure 3.7.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-7.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.7 Navigating the Swagger docs and getting the openapi.json document
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Clicking the `/openapi.json` link will display the OpenAPI specification for
    the endpoint, as shown in listing 3.12 (JSON converted to YAML). You’ll need to
    copy and save this document for later use when setting up the custom action on
    the agent. The endpoint produces JSON, but you can also use specifications written
    in YAML.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.12 OpenAPI specification for the task API
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Before connecting an assistant to the service, you must set up and use ngrok
    to open a tunnel to your local machine running the service. Prompt the GPT to
    provide the instructions and help you set up ngrok, and run the application to
    open an endpoint to port 8000 on your machine, as shown in listing 3.13\. If you
    change the port or use a different configuration, you must update it accordingly.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.13 Running ngrok (following the instructions setup)
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Enter your auth token obtained from ngrok.com.'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Opens a tunnel on port 8000 to external internet traffic'
  prefs: []
  type: TYPE_NORMAL
- en: After you run ngrok, you’ll see an external URL that you can now use to access
    the service on your machine. Copy this URL for later use when setting up the assistant.
    In the next section, we’ll create the assistant that consumes this service as
    a custom action.
  prefs: []
  type: TYPE_NORMAL
- en: 3.3.2 Connecting the custom action to an assistant
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: With the service up and running on your machine and accessible externally via
    the ngrok tunnel, we can build the new assistant. This time, we’ll create a simple
    assistant to help us organize our daily tasks, where the tasks will be accessible
    from our locally running task service.
  prefs: []
  type: TYPE_NORMAL
- en: Open the GPT interface and the Configure panel, and copy and paste the instructions
    shown in listing 3.14 into the new assistant. Be sure to name the assistant and
    enter a helpful description as well. Also, turn on the Code Interpreter capability
    to allow the assistant to create the final plot, showing the tasks.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.14 Task Organizer (`task_organizer_assistant.txt`)
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '#1 This feature requires the Code Interpreter to be enabled.'
  prefs: []
  type: TYPE_NORMAL
- en: Click the Create New Action button at the bottom of the panel. Figure 3.8 shows
    the interface for adding a custom action. You must copy and paste the OpenAPI
    specification for your service into the window. Then, you must add a new section
    called `servers` and populate that with your URL, as shown in the figure.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-8.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.8 Adding a new custom action
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: After the specification is set, you can test it by clicking the Test button.
    This will run a test, and you’ll see the results shown in the conversation window,
    as shown in figure 3.9.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-9.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.9 Testing the API service endpoint is correctly configured as a custom
    action
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: After you’re satisfied, everything is set. Refresh your browser window to reset
    the session, and enter something like the prompt shown in listing 3.15\. This
    will prompt the agent to call the service to get your daily tasks, summarize the
    output, and solve your task organization dilemma.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.15 Task Organizer prompt
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: The assistant should produce a plot of the task schedule at the end. If it gets
    this wrong or the formatting isn’t what you prefer, you can add instructions to
    specify the format/style the assistant should output.
  prefs: []
  type: TYPE_NORMAL
- en: You can improve the service, but if you make any changes to the API, the specification
    in the assistant custom actions will need to be updated. From here, though, you
    can add custom action services run from your computer or hosted as a service.
  prefs: []
  type: TYPE_NORMAL
- en: Note  Be aware that unknown users can activate custom actions if you publish
    an assistant for public consumption, so don’t expose services that charge you
    a service fee or access private information unless that is your intention. Likewise,
    services opened through an ngrok tunnel will be exposed through the assistant,
    which may be of concern. Please be careful when publishing agents that consume
    custom actions.
  prefs: []
  type: TYPE_NORMAL
- en: Custom actions are a great way to add dynamic functionality to an assistant,
    whether for personal or commercial use. File uploads are a better option for providing
    an assistant with static knowledge. The next section will explore using file uploads
    to extend an assistant’s knowledge.
  prefs: []
  type: TYPE_NORMAL
- en: 3.4 Extending an assistant’s knowledge using file uploads
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you’ve engaged with LLMs, you likely have heard about the retrieval augmented
    generation (RAG) pattern. Chapter 8 will explore RAG in detail for the application
    of both knowledge and memory. Detailed knowledge of RAG isn’t required to use
    the file upload capability, but if you need some foundation, check out that chapter.
  prefs: []
  type: TYPE_NORMAL
- en: The GPT Assistants platform provides a knowledge capability called *file uploads*,
    which allows you to populate the GPT with a static knowledge base about anything
    in various formats. As of writing, the GPT Assistants platform allows you to upload
    up to 512 MB of documents. In the next two exercises, we’ll look at two different
    GPTs designed to assist users with consuming books.
  prefs: []
  type: TYPE_NORMAL
- en: 3.4.1 Building the Calculus Made Easy GPT
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Books and written knowledge will always be the backbone of our knowledge base.
    But reading text is a full-time concerted effort many people don’t have time for.
    Audiobooks made consuming books again accessible; you could listen while multitasking,
    but not all books transitioned well to audio.
  prefs: []
  type: TYPE_NORMAL
- en: Enter the world of AI and intelligent assistants. With GPTs, we can create an
    interactive experience between the reader and the book. No longer is the reader
    forced to consume a book page by page but rather as a whole.
  prefs: []
  type: TYPE_NORMAL
- en: To demonstrate this concept, we’ll build a GPT based on a classic math text
    called *Calculus Made Easy*, by Silvanus P. Thompson. The book is freely available
    through the Gutenberg Press website. While it’s more than a hundred years old,
    it still provides a solid material background.
  prefs: []
  type: TYPE_NORMAL
- en: Note  If you’re serious about learning calculus but this assistant is still
    too advanced, check out a great book by Clifford A. Pickover called *Calculus
    and Pizza*. It’s a great book for learning calculus or just to get an excellent
    refresher. You could also try making your Calculus and Pizza assistant if you
    have an eBook version. Unfortunately, copyright laws would prevent you from publishing
    this GPT without permission.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open ChatGPT, go to My GPTs, create a new GPT, click the Configure tab, and
    then upload the file, as shown in figure 3.10\. Upload the book from the chapter’s
    source code folder: `chapter _03/calculus_made_easy.pdf`. This will add the book
    to the GPT’s knowledge.'
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-10.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.10 Adding files to the assistant’s knowledge
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Scroll up and add the instructions shown in listing 3.16\. The initial preamble
    text was generated by conversing with the GPT Builder. After updating the preamble
    text, a personality was added by asking ChatGPT for famous mathematicians. Then,
    finally, rules were added to provide additional guidance to the GPT on what explicit
    outcomes we want.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.16 Instructions for Calculus Made Easy GPT
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '#1 The preamble was initially generated by the Builder and then tweaked as
    needed.'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Be sure always to give your assistants and agents an appropriate persona/personality.'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Defining explicit conditions and rules can help better guide the GPT to
    your desire.'
  prefs: []
  type: TYPE_NORMAL
- en: After updating the assistant, you can try it in the preview window or the book
    version by searching for Calculus Made Easy in the GPT Store. Figure 3.11 shows
    a snipped example of interaction with the GPT. The figure shows that the GPT can
    generate plots to demonstrate concepts or ask questions.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-11.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.11 Output from asking the GPT to teach calculus
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: This GPT demonstrates the ability of an assistant to use a book as a companion
    teaching reference. Only a single book was uploaded in this exercise, but multiple
    books or other documents could be uploaded. As this feature and the technology
    mature, in the future, it may be conceivable that an entire course could be taught
    using a GPT.
  prefs: []
  type: TYPE_NORMAL
- en: We’ll move away from technical and embrace fiction to demonstrate the use of
    knowledge. In the next section, we’ll look at how knowledge of file uploads can
    be used for search and reference.
  prefs: []
  type: TYPE_NORMAL
- en: 3.4.2 Knowledge search and more with file uploads
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The GPT Assistants platform’s file upload capability supports up to 512 MB of
    uploads for a single assistant. This feature alone provides powerful capabilities
    for document search and other applications in personal and small-to-medium business/
    project sizes.
  prefs: []
  type: TYPE_NORMAL
- en: Imagine uploading a whole collection of files. You can now search, compare,
    contrast, organize, and collate all with one assistant. This feature alone within
    GPT Assistants will disrupt how we search for and analyze documents. In chapter
    6, we’ll examine how direct access to the OpenAI Assistants API can increase the
    number of documents.
  prefs: []
  type: TYPE_NORMAL
- en: For this next exercise, we’ll employ an assistant with knowledge of multiple
    books or documents. This technique could be applied to any supported document,
    but this assistant will consume classic texts about robots. We’ll name this assistant
    the Classic Robot Reads GPT.
  prefs: []
  type: TYPE_NORMAL
- en: Start by creating a new GPT assistant in the ChatGPT interface. Then, upload
    the instructions in listing 3.17, and name and describe the assistant. These instructions
    were generated in part through the GPT Builder and then edited.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.17 Classic Robot Reads instructions
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '#1 Remember always to give your GPT a persona/personality.'
  prefs: []
  type: TYPE_NORMAL
- en: '#2 Make sure the assistant only references knowledge within file uploads.'
  prefs: []
  type: TYPE_NORMAL
- en: '#3 Add some extra rules for style choices.'
  prefs: []
  type: TYPE_NORMAL
- en: '#4 Make the assistant more helpful by also giving them nuance and style.'
  prefs: []
  type: TYPE_NORMAL
- en: After completing those steps, you can upload the files from the chapter’s source
    called `gutenberg_robot_books`. Figure 3.12 demonstrates uploading multiple files
    at a time. The maximum number of files you can upload at a time will vary according
    to the sizes of the files.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-12.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.12 Uploading documents to the assistant’s knowledge
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: You can start using it after uploading the documents, setting the instructions,
    and giving the assistant a name and an image. Search is the most basic application
    of a knowledge assistant, and other use cases in the form of prompts are shown
    in table 3.1.
  prefs: []
  type: TYPE_NORMAL
- en: Table 3.1 Use cases for a knowledge assistant
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '| Use case | Example prompt | Results |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Search  | Search for this phrase in your knowledge: “the robot servant.”  |
    Returns the document and an excerpt  |'
  prefs: []
  type: TYPE_TB
- en: '| Compare  | Identify the three most similar books that share the same writing
    style.  | Returns the three most similar documents  |'
  prefs: []
  type: TYPE_TB
- en: '| Contrast  | Identify the three most different books.  | Returns books in
    the collection that are the most different  |'
  prefs: []
  type: TYPE_TB
- en: '| Ordering  | What order should I read the books?  | Returns an ordered progression
    of books  |'
  prefs: []
  type: TYPE_TB
- en: '| Classification  | Which of these books is the most modern?  | Classifies
    documents  |'
  prefs: []
  type: TYPE_TB
- en: '| Generation  | Generate a fictional paragraph that mimics your knowledge of
    the robot servant.  | Generates new content based on its knowledge base  |'
  prefs: []
  type: TYPE_TB
- en: These use cases are just a sample of the many things possible with an AI knowledge
    assistant. While this feature may not be poised to disrupt enterprise search,
    it gives smaller organizations and individuals more access to their documents.
    It allows the creation of assistants as a form of knowledge that can be exposed
    publicly. In the next section, we’ll look at how to make assistants consumable
    by all.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5 Publishing your GPT
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Once you’re happy with your GPT, you can use it or share it with others by providing
    a link. Consuming GPT assistants through ChatGPT currently requires a Plus subscription.
    To publish your GPT for others, click the Share button, and select your sharing
    option, as shown in figure 3.13.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-13.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.13 GPT sharing options
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Whether you share your GPT with friends and colleagues or publicly in the GPT
    Store, the assistant’s usage is taken from the account using it, not the publisher.
    This means if you have a particularly expensive GPT that generates a lot of images,
    for example, it won’t affect your account while others use it.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.1 Expensive GPT assistants
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: At the time of writing, OpenAI tracks the resource usage of your ChatGPT account,
    including that used for GPTs. If you hit a resource usage limit and get blocked,
    your ChatGPT account will also be blocked. Blockages typically only last a couple
    of hours, but this can undoubtedly be more than a little annoying.
  prefs: []
  type: TYPE_NORMAL
- en: 'Therefore, we want to ensure that users using your GPT don’t exceed their resource
    usage limits for regular use. Following is a list of features that increase resource
    usage while using the GPT:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Creating images* —Image generation is still a premium service, and successive
    image generation can quickly get your user blocked. It’s generally recommended
    that you inform your users of the potential risks and/or try to reduce how frequently
    images are generated.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Code interpretation* —This feature allows for file uploads and running of
    code for data analysis. If you think your users will require constant use of the
    coding tool, then inform them of the risk.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Vision, describing images* —If you’re building an assistant that uses vision
    to describe and extract information from the image, plan to use it sparingly.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*File uploads* —If your GPT uses a lot of files or allows you to upload several
    files, this may cause blocks. As always, guide the user away from anything preventing
    them from enjoying your GPT.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note  Moore’s Law states that computers will double in power every two years
    while costing half as much. LLMs are now doubling in power about every six months
    from optimization and increasing GPU power. This, combined with the cost being
    reduced by at least half in the same period, likely means current resource limits
    on vision and image-generation models won’t be considered. However, services such
    as code interpretation and file uploads will likely remain the same.
  prefs: []
  type: TYPE_NORMAL
- en: Making your assistant aware of resource usage can be as simple as adding the
    rule shown in listing 3.18 to the assistant’s instructions. The instructions can
    be just a statement relaying the warning to the user and making the assistant
    aware. You could even ask the assistant to limit its usage of certain features.
  prefs: []
  type: TYPE_NORMAL
- en: Listing 3.18 Resource usage rule example
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: Guiding your assistant to be more resource conscious in the end makes your assistant
    more usable. It also helps prevent angry users who unknowingly get blocked using
    your assistant. This may be important if you plan on releasing your GPT, but before
    that, let’s investigate the economics in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.2 Understanding the economics of GPTs
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Upon the release of GPT Assistants and the GPT Store, OpenAI announced the potential
    for a future profit-sharing program for those who published GPTs. While we’re
    still waiting to hear more about this program, many have speculated what this
    may look like.
  prefs: []
  type: TYPE_NORMAL
- en: 'Some have suggested the store may return only 10% to 20% of profits to the
    builders. This is far less than the percentage on other app platforms but requires
    much less technical knowledge and fewer resources. The GPT Store is flooded with
    essentially free assistants, provided you have a Plus subscription, but that may
    change in the future. Regardless, there are also several reasons why you may want
    to build public GPTs:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Personal portfolio* —Perhaps you want to demonstrate your knowledge of prompt
    engineering or your ability to build the next wave of AI applications. Having
    a few GPTs in the GPT Store can help demonstrate your knowledge and ability to
    create useful AI applications.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Knowledge and experience* —If you have in-depth knowledge of a subject or
    topic, this can be a great way to package that as an assistant. These types of
    assistants will vary in popularity based on your area of expertise.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Cross-marketing and commercial tie-in* —This is becoming more common in the
    Store and provides companies the ability to lead customers using an assistant.
    As companies integrate more AI, this will certainly be more common.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Helpful assistant to your product/service* —Not all companies or organizations
    can sustain the cost of hosting chatbots. While consuming assistants is currently
    limited to ChatGPT subscribers, they will likely be more accessible in the future.
    This may mean having GPTs for everything, perhaps like the internet’s early days
    where every company rushed to build a web presence.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: While the current form of the GPT Store is for ChatGPT subscribers, if the current
    trend with OpenAI continues, we’ll likely see a fully public GPT Store. Public
    GPTs have the potential to disrupt the way we search, investigate products and
    services, and consume the internet. In the last section of this chapter, we’ll
    examine how to publish a GPT and some important considerations.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.3 Releasing the GPT
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Okay, you’re happy with your GPT and how it operates, and you see real benefit
    from giving it to others. Publishing GPTs for public (subscribers) consumption
    is easy, as shown in figure 3.14\. After selecting the GPT Store as the option
    and clicking Save, you’ll now have the option to set the category and provide
    links back to you.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure](../Images/3-14.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.14 Selecting the options after clicking Save to publish to the GPT
    Store
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'That is easy, so here are a few more things you’ll want to consider before
    publishing your GPT:'
  prefs: []
  type: TYPE_NORMAL
- en: '*GPT description* —Create a good description, and you may even want to ask
    ChatGPT to help you build a description that increases the search engine optimization
    (SEO) of your GPT. GPTs are now showing up in Google searches, so good search
    engine optimization can help increase exposure to your assistant. A good description
    will also help users decide if they want to take the time to use your assistant.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*The logo* —A nice, clean logo that identifies what your assistant does can
    undoubtedly help. Logo design for GPTs is effectively a free service, but taking
    the time to iterate over a few images can help draw users to your assistant.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*The category* —By default, the category will already be selected, but make
    sure it fits your assistant. If you feel it doesn’t, than change the category,
    and you may even want to select Other and define your own.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Links* —Be sure to set reference links for your social media and perhaps even
    a GitHub repository that you use to track problems for the GPT. Adding links to
    your GPT demonstrates to users that they can reach out to the builder if they
    encounter problems or have questions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Further requirements may likely emerge as the GPT Store matures. The business
    model remains to be established, and other learnings will likely follow. Whether
    you decide to build GPTs for yourself or others, doing so can help improve your
    understanding of how to build agents and assistants. As we’ll see throughout the
    rest of this book, GPT assistants are a useful foundation for your knowledge.
  prefs: []
  type: TYPE_NORMAL
- en: 3.6 Exercises
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Complete the following exercises to improve your knowledge of the material:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Exercise 1* —Build Your First GPT Assistant'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Objective* —Create a simple GPT assistant using the ChatGPT interface.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Tasks:*'
  prefs: []
  type: TYPE_NORMAL
- en: Sign up for a ChatGPT Plus subscription if you don’t already have one.
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Navigate to the GPT Assistants platform, and click the Create button.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Follow the Builder chat interface to create a Culinary Companion assistant that
    provides meal suggestions based on available ingredients.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Manually configure the assistant to add custom rules for recipe generation,
    such as including nutritional information and cost estimates.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Exercise 2* —Data Analysis Assistant'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Objective* —Develop a GPT assistant that can analyze CSV files and provide
    insights.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Tasks:*'
  prefs: []
  type: TYPE_NORMAL
- en: Design a data science assistant that can load and analyze CSV files, similar
    to the Data Scout example in the chapter.
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Enable the Code Interpretation tool, and upload a sample CSV file (e.g., a dataset
    from Kaggle).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Use the assistant to perform tasks such as data cleaning, visualization, and
    hypothesis testing.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Document your process and findings, noting any challenges or improvements needed.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Exercise 3* —Create a Custom Action'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Objective* —Extend a GPT assistant with a custom action using a FastAPI service.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Tasks:*'
  prefs: []
  type: TYPE_NORMAL
- en: Follow the steps to create a FastAPI service that provides a specific function,
    such as fetching a list of daily tasks.
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Generate the OpenAPI specification for the service, and deploy it locally using
    ngrok.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Configure a new assistant to use this custom action, ensuring it connects correctly
    to the FastAPI endpoint.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Test the assistant by asking it to perform the action and verify the output.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Exercise 4* —File Upload Knowledge Assistant'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Objective* —Build an assistant with specialized knowledge from uploaded documents.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Tasks:*'
  prefs: []
  type: TYPE_NORMAL
- en: Select a freely available e-book or a collection of documents related to a specific
    topic (e.g., classic literature, technical manuals).
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Upload these files to a new GPT assistant, and configure the assistant to act
    as an expert on the uploaded content.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Create a series of prompts to test the assistant’s ability to reference and
    summarize the information from the documents.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Evaluate the assistant’s performance, and make any necessary adjustments to
    improve its accuracy and helpfulness.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Exercise 5* —Publish and Share Your Assistant'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Objective* —Publish your GPT assistant to the GPT Store and share it with
    others.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Tasks:*'
  prefs: []
  type: TYPE_NORMAL
- en: Finalize the configuration and testing of your assistant to ensure it works
    as intended.
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Write a compelling description, and create an appropriate logo for your assistant.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose the correct category, and set up any necessary links to your social media
    or GitHub repository.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Publish the assistant to the GPT Store, and share the link with friends or colleagues.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Gather feedback from users, and refine the assistant based on their input to
    improve its usability and functionality.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The OpenAI GPT Assistants platform enables building and deploying AI agents
    through the ChatGPT UI, focusing on creating engaging and functional assistants.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can use GPT’s code interpretation capabilities to perform data analysis
    on user-uploaded CSV files, enabling assistants to function as data scientists.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Assistants can be extended with custom actions, allowing integration with external
    services via API endpoints. This includes generating FastAPI services and their
    corresponding OpenAPI specifications.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Assistants can be enriched with specialized knowledge through file uploads,
    allowing them to act as authoritative sources on specific texts or documents.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Commercializing your GPT involves publishing it to the GPT Store, where you
    can share and market your assistant to a broader audience.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building a functional assistant involves iterating through design prompts, defining
    a clear persona, setting rules, and ensuring the assistant’s output aligns with
    user expectations.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating custom actions requires understanding and implementing OpenAPI specifications,
    deploying services locally using tools such as ngrok, and connecting these services
    to your assistant.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Knowledge assistants can handle various tasks, from searching and comparing
    documents to generating new content based on their knowledge base.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Publishing assistants require careful consideration of resource usage, user
    experience, and economic factors to ensure their effectiveness and sustainability
    for public use.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The GPT Store, available to ChatGPT Plus subscribers, is a valuable platform
    for learning and gaining proficiency in building AI assistants, with the potential
    for future profit-sharing opportunities.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
