- en: Appendix A. Deep Dives
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we dive deep into a few technical areas that are important
    to understand for completion, but are not essential.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Matrix Chain Rule
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: First up is an explanation of why we can substitute *W*^T for <math><mrow><mfrac><mrow><mi>∂</mi><mi>ν</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow></mrow></math>
    in the chain rule expression from [Chapter 1](ch01.html#foundations).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: 'Remember that *L* is literally:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi>
    <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo>
    <mi>X</mi> <msub><mi>W</mi> <mn>21</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub>
    <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></math>
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi>
    <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo>
    <mi>X</mi> <msub><mi>W</mi> <mn>21</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub>
    <mo>)</mo></mrow> <mo>+</mo> <mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></math>
- en: 'where this is shorthand for the fact that:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>=</mo> <mi>σ</mi> <mrow><mo>(</mo> <msub><mi>x</mi>
    <mn>11</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>12</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>13</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub> <mo>)</mo></mrow></mrow></math><math
    display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mo>=</mo> <mi>σ</mi> <mrow><mo>(</mo> <msub><mi>x</mi>
    <mn>11</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>12</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>13</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub> <mo>)</mo></mrow></mrow></math>
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: and so on. Let’s zoom in on just one of these expressions. What would it look
    like if we took the partial derivative of, say, <math><mrow><mi>σ</mi> <mo>(</mo>
    <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow></math> with respect
    to every element of <math><mi>X</mi></math> (which is ultimately what we’ll want
    to do with all six components of <math><mi>L</mi></math> )?
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: 'Well, since:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>=</mo> <mi>σ</mi> <mrow><mo>(</mo> <msub><mi>x</mi>
    <mn>11</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>12</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>13</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub> <mo>)</mo></mrow></mrow></math>
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mi>σ</mi> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>=</mo> <mi>σ</mi> <mrow><mo>(</mo> <msub><mi>x</mi>
    <mn>11</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>12</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub> <mo>+</mo> <msub><mi>x</mi>
    <mn>13</mn></msub> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub> <mo>)</mo></mrow></mrow></math>
- en: 'it isn’t too hard to see that the partial derivative of this with respect to
    <math><msub><mi>x</mi> <mn>1</mn></msub></math> , via a very simple application
    of the chain rule, is:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></math>
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></math>
- en: Since the only thing that *x*[11] is multiplied by in the *XW*[11] expression
    is *w*[11], the partial derivative with respect to everything else is 0.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: 'So, computing the partial derivative of *σ*(*XW*[11]) with respect to all of
    the elements of *X* gives us the following overall expression for <math><mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac></math>
    :'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced></mrow></math>
- en: 'Similarly, we can, for example, work out the partial derivative of *σ*(*XW*[32])
    with respect to each element of *X*:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></math>
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></math>
- en: Now we have all the components to actually compute <math><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow>
    <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow></mrow></math>
    directly. We can simply compute six matrices of the same form as the preceding
    matrices and add the results together.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: Note that once again the math gets messy, though not advanced. You can skip
    the following calculations and move straight to the conclusion, which is ultimately
    a simple expression. But working through the calculations will give you a greater
    appreciation for how surprisingly simple the conclusion is. And what else is life
    for but appreciating things?
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: 'There are just two steps here. First, we’ll actually write out explicitly that
    <math><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow></mrow></math> is a sum of the six
    matrices just described:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced> <mo>+</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced> <mo>+</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>21</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr>
    <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr>
    <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi><mo>(</mo><mi>X</mi><msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>11</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced> <mo>+</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced> <mo>+</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>21</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr>
    <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr>
    <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>31</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub></mrow></mtd></mtr></mtable></mfenced>
    <mo>+</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd>
    <mtd><mn>0</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd> <mtd><mn>0</mn></mtd></mtr>
    <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd>
    <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: 'Now let’s combine this sum into one big matrix. This matrix won’t immediately
    have any intuitive form, but it is in fact the result of computing the preceding
    sum:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>12</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>22</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>11</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>12</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>21</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>22</mn></msub></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow> <mo>×</mo> <msub><mi>w</mi> <mn>31</mn></msub>
    <mo>+</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi> <mn>32</mn></msub> <mo>)</mo></mrow>
    <mo>×</mo> <msub><mi>w</mi> <mn>32</mn></msub></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: 'Now comes the cool part. Recall that:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mi>W</mi> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><msub><mi>w</mi>
    <mn>11</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>12</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>21</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>22</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>31</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>32</mn></msub></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mi>W</mi> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><msub><mi>w</mi>
    <mn>11</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>12</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>21</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>22</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>31</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>32</mn></msub></mtd></mtr></mtable></mfenced></mrow></math>
- en: 'Well, *W* is hidden in the preceding matrix—it is just transposed. Recalling
    that:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: 'it turns out that the previous matrix is equivalent to:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr></mtable></mfenced> <mo>×</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><msub><mi>w</mi> <mn>11</mn></msub></mtd>
    <mtd><msub><mi>w</mi> <mn>21</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>31</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>12</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>22</mn></msub></mtd>
    <mtd><msub><mi>w</mi> <mn>32</mn></msub></mtd></mtr></mtable></mfenced> <mo>=</mo>
    <mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>×</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>=</mo> <mfenced close="]" open="["><mtable><mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>11</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>12</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>21</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>22</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>31</mn></msub> <mo>)</mo></mrow></mrow></mtd> <mtd><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <msub><mi>W</mi>
    <mn>32</mn></msub> <mo>)</mo></mrow></mrow></mtd></mtr></mtable></mfenced> <mo>×</mo>
    <mfenced close="]" open="["><mtable><mtr><mtd><msub><mi>w</mi> <mn>11</mn></msub></mtd>
    <mtd><msub><mi>w</mi> <mn>21</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>31</mn></msub></mtd></mtr>
    <mtr><mtd><msub><mi>w</mi> <mn>12</mn></msub></mtd> <mtd><msub><mi>w</mi> <mn>22</mn></msub></mtd>
    <mtd><msub><mi>w</mi> <mn>32</mn></msub></mtd></mtr></mtable></mfenced> <mo>=</mo>
    <mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow> <mo>×</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>
- en: 'And further, remember that we were looking for something to fill in the question
    mark in the following equation:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，请记住，我们正在寻找填写以下方程中问号的内容：
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow>
    <mo>×</mo> <mo>?</mo></mrow></math>
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><mrow><mi>∂</mi><mi>Λ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>S</mi> <mo>)</mo></mrow>
    <mo>×</mo> <mo>?</mo></mrow></math>
- en: Well, it turns out that thing is *W*. This result falls out like meat falling
    off the bone.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 嗯，事实证明那个东西就是*W*。这个结果就像肉从骨头上掉下来一样。
- en: 'Note also that this is the same result we saw earlier in one dimension; again,
    this will turn out to be a result that both explains why deep learning works and
    allows us to implement it cleanly. Does this mean that we can *actually* replace
    the question mark in the preceding equation and say that <math><mrow><mfrac><mrow><mi>∂</mi><mi>ν</mi></mrow>
    <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo>
    <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>
    ? No, not exactly. But if we multiply together two inputs (*X* and *W*) to get
    a result *N* and feed these inputs through some nonlinear function *σ* to end
    up with an output *S*, then we *can* say the following:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 还要注意，这与我们之前在一维中看到的结果相同；同样，这将成为一个解释为什么深度学习有效并且允许我们干净地实现它的结果。这是否意味着我们可以*实际*替换前面方程中的问号并说<math><mrow><mfrac><mrow><mi>∂</mi><mi>ν</mi></mrow>
    <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo>
    <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>？不，不完全是。但是如果我们将两个输入（*X*和*W*）相乘以得到结果*N*，并将这些输入通过一些非线性函数*σ*以得到输出*S*，那么我们*可以*说以下内容：
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo> <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo>
    <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>N</mi> <mo>)</mo></mrow> <mo>×</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>X</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo> <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo>
    <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>N</mi> <mo>)</mo></mrow> <mo>×</mo> <msup><mi>W</mi> <mi>T</mi></msup></mrow></math>
- en: 'This mathematical fact is what allows us to compute and express gradient updates
    efficiently using the notation of matrix multiplication. Furthermore, we could
    reason similarly to discover that:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数学事实使我们能够使用矩阵乘法的符号高效计算和表达梯度更新。此外，我们可以类似地推理出以下内容：
- en: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>W</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo> <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo>
    <msup><mi>X</mi> <mi>T</mi></msup> <mo>×</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>N</mi> <mo>)</mo></mrow></mrow></math>
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow> <mrow><mi>∂</mi><mi>W</mi></mrow></mfrac>
    <mrow><mo>(</mo> <mi>X</mi> <mo>,</mo> <mi>W</mi> <mo>)</mo></mrow> <mo>=</mo>
    <msup><mi>X</mi> <mi>T</mi></msup> <mo>×</mo> <mfrac><mrow><mi>∂</mi><mi>σ</mi></mrow>
    <mrow><mi>∂</mi><mi>u</mi></mrow></mfrac> <mrow><mo>(</mo> <mi>N</mi> <mo>)</mo></mrow></mrow></math>
- en: Gradient of the Loss with Respect to the Bias Terms
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相对于偏差项的损失梯度
- en: Next, we’ll go into detail on why, when computing the derivative of the loss
    with respect to the bias terms in a fully connected neural network, we sum along
    `axis=0`.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将详细介绍在完全连接的神经网络中计算损失相对于偏差项的导数时，为什么要沿着`axis=0`求和。
- en: 'The addition of a bias term in a neural network occurs in the following context:
    we have a batch of data represented by a matrix of dimension *n* rows (the batch
    size) by *f* columns (the number of features), and we add a single number to each
    of the *f* features. For example, in the neural network example from [Chapter 2](ch02.html#fundamentals),
    we have 13 features, and the bias term *B* has 13 numbers; the first number will
    be added to every row in the first column of `M1 = np.dot(X, weights[*W1*])`,
    the second number will be added to every row in the second column, and so on.
    Further on in the network, <math><mrow><mi>B</mi> <mn>2</mn></mrow></math> will
    contain one number, which will simply be added to every row in the single column
    of `M2`. Thus, since the same numbers will be added to each *row* of the matrix,
    on the backward pass we need to sum the gradients along the dimension representing
    the rows that each bias element was added to. This is why we sum the expressions
    for `dLdB1` and `dLdB2` along `axis=0`; for example, `dLdB1 = (dLdN1 × dN1dB1).sum(axis=0)`.
    [Figure A-1](#fig_08_01) provides a visual explanation of all this, with some
    commentary.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在神经网络中添加偏差项发生在以下情境中：我们有一个由*n*行（批量大小）乘以*f*列（特征数量）的矩阵表示的数据批次，并且我们向每个*f*特征中添加一个单个数字。例如，在[第2章](ch02.html#fundamentals)中的神经网络示例中，我们有13个特征，偏差项*B*有13个数字；第一个数字将添加到`M1
    = np.dot(X, weights[*W1*])`的第一列中的每一行，第二个数字将添加到第二列中的每一行，依此类推。在网络的后续部分，<math><mrow><mi>B</mi>
    <mn>2</mn></mrow></math>将包含一个数字，它将简单地添加到`M2`的单列中的每一行。因此，由于相同的数字将被添加到矩阵的每一行，所以在反向传播时，我们需要沿着表示每个偏差元素添加到的行的维度对梯度求和。这就是为什么我们沿着`axis=0`对`dLdB1`和`dLdB2`的表达式求和；例如，`dLdB1
    = (dLdN1 × dN1dB1).sum(axis=0)`。[图A-1](#fig_08_01)提供了所有这些的视觉解释，并附有一些评论。
- en: '![Neural net diagram](assets/dlfs_aa01.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![神经网络图](assets/dlfs_aa01.png)'
- en: Figure A-1\. A summary of why computing the derivative of the output of the
    fully connected layer with respect to the bias involves summing along axis = 0
  id: totrans-41
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图A-1。总结了为什么计算完全连接层的输出相对于偏差的导数涉及沿着轴=0求和
- en: Convolutions via Matrix Multiplication
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过矩阵乘法进行卷积
- en: Finally, we’ll show how to express the batch, multichannel convolution operation
    in terms of a batch matrix multiplication to implement it efficiently in NumPy.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将展示如何通过批量矩阵乘法来表达批量、多通道卷积操作，以便在NumPy中高效实现它。
- en: 'To understand how the convolution works, consider what happens in the forward
    pass of a fully connected neural network:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解卷积是如何工作的，请考虑在完全连接神经网络的前向传播中发生的情况：
- en: We receive an input of size `[batch_size, in_features]`.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们收到一个大小为`[batch_size, in_features]`的输入。
- en: We multiply it by a parameter of size `[in_features, out_features]`.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将其乘以一个大小为`[in_features, out_features]`的参数。
- en: We get a resulting output of size `[batch_size, out_features]`.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们得到一个大小为`[batch_size, out_features]`的结果输出。
- en: 'In a convolutional layer, by contrast:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在卷积层中，相比之下：
- en: We receive an input of size `[batch_size, in_channels, img_height, img_width]`.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们收到一个大小为`[batch_size, in_channels, img_height, img_width]`的输入。
- en: We convolve it with a parameter of size `[in_channels, out_channels, param_height,
    param_width]`.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将其与一个大小为`[in_channels, out_channels, param_height, param_width]`的参数进行卷积。
- en: We get a resulting output of size `[batch_size, in_channels, img_height, img_width]`.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们得到一个大小为`[batch_size, in_channels, img_height, img_width]`的结果输出。
- en: 'The key to making the convolution operation look more like a regular feed-forward
    operation is to *first extract `img_height × img_width` “image patches” from each
    channel of the input image*. Once these patches are extracted, the input can be
    reshaped so that the convolution operation can be expressed as a batch matrix
    multiplication using NumPy’s `np.matmul` function. First:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 使卷积操作看起来更像常规前馈操作的关键是*首先从输入图像的每个通道中提取`img_height × img_width`“图像补丁”*。一旦提取了这些补丁，输入就可以被重新整形，以便卷积操作可以通过NumPy的`np.matmul`函数表达为批量矩阵乘法。首先：
- en: '[PRE0]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then we can compute the output of the convolution operation in the following
    way:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以按照以下方式计算卷积操作的输出：
- en: Get image patches of size `[batch_size, in_channels, img_height x img_width,
    filter_size, filter_size]`.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取大小为`[batch_size, in_channels, img_height x img_width, filter_size, filter_size]`的图像块。
- en: Reshape this to be `[batch_size, img_height × img_width, in_channels × filter_size×
    filter_size]`.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其重塑为`[batch_size, img_height × img_width, in_channels × filter_size× filter_size]`。
- en: Reshape parameter to be `[in_channels × filter_size × filter_size, out_channels]`.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将参数重塑为`[in_channels × filter_size × filter_size, out_channels]`。
- en: After we do a batch matrix multiplication, the result will be `[batch_size,
    img_height × img_width, out_channels]`.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进行批量矩阵乘法后，结果将是`[batch_size, img_height × img_width, out_channels]`。
- en: Reshape this to be `[batch_size, out_channels, img_height, img_width]`.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其重塑为`[batch_size, out_channels, img_height, img_width]`。
- en: '[PRE1]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'That’s the forward pass! For the backward pass, we have to calculate both the
    parameter gradient and the input gradients. Again, we can use the way this is
    done in a fully connected neural network as a guide. Starting with the parameter
    gradient, the gradient of a fully connected neural network is:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是前向传播！对于反向传播，我们需要计算参数梯度和输入梯度。同样，我们可以借鉴全连接神经网络中的做法。首先是参数梯度，全连接神经网络的梯度是：
- en: '[PRE2]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'This should motivate how we implement the backward pass through the convolution
    operation: here, the input shape is `[batch_size, in_channels, img_height, img_width]`,
    and the output *gradient* received will be `[batch_size, out_channels, img_height,
    img_width]`. Considering that the shape of the parameter is `[in_channels, out_channels,
    param_height, param_width]`, we can effect this transformation with the following
    steps:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该激励我们如何通过卷积操作实现反向传播：这里，输入形状是`[batch_size, in_channels, img_height, img_width]`，接收到的输出*梯度*将是`[batch_size,
    out_channels, img_height, img_width]`。考虑到参数的形状是`[in_channels, out_channels, param_height,
    param_width]`，我们可以通过以下步骤实现这种转换：
- en: First, we’ll have to extract image patches from the input image, resulting in
    the same output from last time, of shape `[batch_size, in_channels, img_height
    x img_width, filter_size, filter_size]`.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要从输入图像中提取图像块，得到与上次相同的输出，形状为`[batch_size, in_channels, img_height x img_width,
    filter_size, filter_size]`。
- en: Then, using the multiplication from the fully connected case as a motivation,
    reshape it to be of shape `[in_channels × param_height × param_width, batch_size
    × img_height × img_width]`.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，借鉴全连接情况下的乘法，将其重塑为形状为`[in_channels × param_height × param_width, batch_size
    × img_height × img_width]`。
- en: Then, reshape the output—originally of shape `[batch_size, out_channels, img_height,
    img_width]`—to be of shape `[batch_size × img_height × img_width, out_channels]`.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，将原始形状为`[batch_size, out_channels, img_height, img_width]`的输出重塑为形状为`[batch_size
    × img_height × img_width, out_channels]`。
- en: Multiply these together to get an output of shape `[in_channels × param_height
    × param_width, out_channels]`.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将它们相乘，得到形状为`[in_channels × param_height × param_width, out_channels]`的输出。
- en: Reshape this to get the final parameter gradient, of shape `[in_channels, out_channels,
    param_height, param_width]`.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其重塑为最终的参数梯度，形状为`[in_channels, out_channels, param_height, param_width]`。
- en: 'This process is implemented as follows:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程的实现如下：
- en: '[PRE3]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'In addition, we follow a very similar set of steps to get the input gradient,
    motivated by mimicking the operation in the fully connected layer, which is:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们遵循一个非常类似的步骤来获取输入梯度，受到全连接层中操作的启发，即：
- en: '[PRE4]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The following code computes the input gradient:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码计算输入梯度：
- en: '[PRE5]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: These three functions form the core of the `Conv2DOperation`, specifically its
    `_output`, `_param_grad`, and `_input_grad` methods, which you can see in the
    [`lincoln` library](https://oreil.ly/2KPdFay) within the book’s GitHub repo.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个函数构成了`Conv2DOperation`的核心，具体是它的`_output`、`_param_grad`和`_input_grad`方法，你可以在书的GitHub仓库中的[`lincoln`库](https://oreil.ly/2KPdFay)中看到。
