- en: appendix B Installing and configuring PyTorch Geometric
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录B 安装和配置PyTorch Geometric
- en: B.1 Installing PyTorch Geometric
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: B.1 安装PyTorch Geometric
- en: 'PyTorch Geometric (PyG) is a library built on top of PyTorch for working with
    graph neural networks (GNNs). The newest pytorch geometric versions can be installed
    with: pip install torch_geometric. Only PyTorch is needed as a dependency. To
    install PyG with its extensions, you need to ensure that you have the correct
    versions of Compute Unified Device Architecture (CUDA), PyTorch, and PyG installed
    and compatible with each other.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: PyTorch Geometric (PyG) 是一个基于PyTorch构建的库，用于处理图神经网络（GNNs）。最新版本的pytorch geometric可以通过以下命令安装：pip
    install torch_geometric。只需要PyTorch作为依赖项。要安装带有其扩展的PyG，您需要确保已安装并兼容的正确版本的Compute
    Unified Device Architecture (CUDA)、PyTorch和PyG。
- en: B.1.1 On Windows/Linux
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.1.1 在Windows/Linux上
- en: 'If you’re on a Windows or Linux system, follow these steps:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是Windows或Linux系统，请按照以下步骤操作：
- en: '*Install PyTorch*. First, install the appropriate version of PyTorch for your
    system. You can find the instructions on the official PyTorch website ([https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/)).
    Make sure to select the correct CUDA version if you have an NVIDIA GPU.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*安装PyTorch*。首先，为您的系统安装适当的PyTorch版本。您可以在官方PyTorch网站上找到说明（[https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/))。如果您有NVIDIA
    GPU，请确保选择正确的CUDA版本。'
- en: '*Find the PyTorch CUDA version*. After installing PyTorch, check its version
    and the CUDA version it was built with by running the following from Python:'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*查找PyTorch CUDA版本*。在安装PyTorch后，通过在Python中运行以下命令来检查其版本和构建时使用的CUDA版本：'
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This can also be run from the command line as follows:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这也可以通过以下命令行运行：
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The outputs from this code will be used in the next step.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码的输出将在下一步中使用。
- en: '*Install PyG dependencies*. Install the PyG dependencies (`torch-scatter`,
    `torch-sparse`, `torch-cluster`, `torch-spline-conv`) from the PyG repository,
    specifying the correct CUDA version:'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*安装PyG依赖项*。从PyG仓库安装PyG依赖项（`torch-scatter`、`torch-sparse`、`torch-cluster`、`torch-spline-conv`），指定正确的CUDA版本：'
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In this code, replace `${PYTORCH}` with your PyTorch version (e.g., 1.13.1)
    and `${CUDA}` with the CUDA version from the previous step (e.g., cu117).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在此代码中，将`${PYTORCH}`替换为您的PyTorch版本（例如，1.13.1），将`${CUDA}`替换为上一步中的CUDA版本（例如，cu117）。
- en: '*Install PyG*. Finally, install the PyG library itself:'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*安装PyG*。最后，安装PyG库本身：'
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: B.1.2 On MacOS
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.1.2 在MacOS上
- en: Since Macs don’t come with Nvidia GPUs, you can install the `cpu` version of
    PyG by following the same steps as in the previous section, but using `cpu` instead
    of a `CUDA` version when installing the dependencies.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Mac没有配备Nvidia GPU，您可以通过遵循上一节中的相同步骤安装PyG的`cpu`版本，但在安装依赖项时使用`cpu`而不是`CUDA`版本。
- en: B.1.3 Compatibility issues
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.1.3 兼容性问题
- en: For installing the extensions, it’s crucial to match the versions of CUDA, PyTorch,
    and PyG to avoid compatibility issues. Using mismatched versions can lead to errors
    during installation or runtime. Always refer to the official documentation for
    the latest installation instructions and version compatibility information. When
    writing this book, we encountered a few frustrating errors that were solved only
    by installing the correct combination of CUDA, PyTorch, and PyG.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装扩展时，确保CUDA、PyTorch和PyG的版本匹配，以避免兼容性问题。使用不匹配的版本可能导致安装或运行时出错。始终参考官方文档以获取最新的安装说明和版本兼容性信息。在编写本书时，我们遇到了一些令人沮丧的错误，这些错误只有在安装正确的CUDA、PyTorch和PyG组合后才能解决。
- en: One particular insight we gained from dealing with tools designed to work with
    PyG, such as Open Graph Benchmark (OGB) and DistributedDataParallel (DDP), is
    that they may only work with specific versions of PyTorch. In chapter 7, the distributed
    computing example would only work with PyTorch v2.0.1 and CUDA v11.8\.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 从处理与PyG兼容的工具（如Open Graph Benchmark (OGB)和DistributedDataParallel (DDP)）的经历中，我们获得的一个特别见解是，它们可能只与PyTorch的特定版本兼容。在第7章中，分布式计算示例仅适用于PyTorch
    v2.0.1和CUDA v11.8。
