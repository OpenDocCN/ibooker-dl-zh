- en: Chapter 5\. Azure Machine Learning
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章\. Azure Machine Learning
- en: In the previous chapter, we explored the fundamentals of ML. In this chapter,
    we’ll apply these concepts using *Azure Machine Learning*, a cloud-based service
    that facilitates the training, deployment, and management of ML models. Whether
    you’re a data scientist, software engineer, or DevOps professional, Azure Machine
    Learning streamlines the entire ML workflow, from data exploration to model deployment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们探讨了机器学习的基础。在本章中，我们将使用*Azure Machine Learning*，这是一种基于云的服务，它简化了机器学习模型的训练、部署和管理。无论你是数据科学家、软件工程师还是DevOps专业人士，Azure
    Machine Learning都能简化整个机器学习工作流程，从数据探索到模型部署。
- en: 'Azure Machine Learning offers two primary tools tailored to different user
    preferences and objectives:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Machine Learning提供两个主要工具，针对不同的用户偏好和目标：
- en: Azure Automated Machine Learning (AutoML)
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Automated Machine Learning (AutoML)
- en: AutoML automates the process of developing ML models, handling tasks such as
    algorithm selection and hyperparameter tuning. It is accessible through both the
    Azure Machine Learning Studio’s no-code interface and the Python SDK. This means
    the system can cater to varying levels of expertise.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML自动化开发机器学习模型的过程，处理诸如算法选择和超参数调整等任务。它可以通过Azure Machine Learning Studio的无代码界面和Python
    SDK访问。这意味着系统可以满足不同水平的专业知识需求。
- en: Azure Machine Learning Designer
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Machine Learning Designer
- en: This tool provides a drag-and-drop interface for constructing ML pipelines without
    the need for coding. Users can visually connect datasets, transformations, and
    algorithms to create and deploy models efficiently.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 此工具提供了一个拖放界面，用于构建无需编码的机器学习管道。用户可以直观地连接数据集、转换和算法，以高效地创建和部署模型。
- en: Both tools are integrated into Azure Machine Learning Studio, offering flexibility
    based on user preferences and project requirements. For this chapter, we’ll provide
    examples of using these services.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个工具都集成到Azure Machine Learning Studio中，根据用户偏好和项目需求提供灵活性。对于本章，我们将提供使用这些服务的示例。
- en: Introduction to Azure Machine Learning
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure Machine Learning简介
- en: 'You can use Azure Machine Learning for tasks like:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用Azure Machine Learning来完成以下任务：
- en: Preparing and exploring your data
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备和探索你的数据
- en: Training and evaluating ML models
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练和评估机器学习模型
- en: Registering and managing models once they’re trained
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练后注册和管理模型
- en: Deploying models so that applications or services can use them
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将模型部署以便应用程序或服务可以使用它们
- en: Ensuring that responsible AI practices are followed
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保遵循负责任的AI实践
- en: Azure Machine Learning is designed to work with various ML platforms, whether
    you’re using Microsoft Azure’s tools or open source frameworks like PyTorch, TensorFlow,
    or scikit-learn. MLOps tools make it easy to monitor your models and redeploy
    them as needed.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Machine Learning旨在与各种机器学习平台协同工作，无论你是在使用Microsoft Azure的工具还是像PyTorch、TensorFlow或scikit-learn这样的开源框架。MLOps工具使监控模型和按需重新部署它们变得容易。
- en: 'Here’s what Azure Machine Learning offers:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这是Azure Machine Learning提供的内容：
- en: Centralized dataset storage for model training and evaluation
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于模型训练和评估的集中式数据集存储
- en: On-demand compute power to run ML jobs like training models
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按需计算能力来运行如模型训练之类的机器学习作业
- en: AutoML to test different algorithms and parameters so that you can find the
    best model for your data
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AutoML来测试不同的算法和参数，以便你可以找到最适合你数据的最优模型
- en: Visual tools that help you create pipelines for processes like model training
    or inferencing
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帮助你创建用于模型训练或推理等过程的管道的可视化工具
- en: Integration with popular tools like MLflow for managing your models at scale
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与MLflow等流行工具集成，以大规模管理你的模型
- en: Built-in support for evaluating responsible AI metrics, including fairness and
    model explainability
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内置支持评估负责任的AI指标，包括公平性和模型可解释性
- en: When you’re ready to get started, the first step is to set up an Azure Machine
    Learning *workspace* in your Microsoft Azure subscription. This workspace is your
    main resource, and other resources like storage accounts and VMs are created automatically
    as needed. We learned how to do this in [Chapter 2](ch02.html#i02_chapter2_azure_ai_services_1742068260813362).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 当你准备好开始时，第一步是在你的Microsoft Azure订阅中设置一个Azure Machine Learning *工作区*。这个工作区是你的主要资源，并且根据需要自动创建其他资源，如存储帐户和虚拟机。我们已经在[第2章](ch02.html#i02_chapter2_azure_ai_services_1742068260813362)中学习了如何进行这一操作。
- en: 'Once your workspace is ready, you can access it through Azure Machine Learning
    Studio, a browser-based tool that helps you manage everything from data to deployment
    models. In the studio, you can:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的工作区准备就绪，您可以通过Azure机器学习工作室访问它，这是一个基于浏览器的工具，可以帮助您管理从数据到部署模型的一切。在工作室中，您可以：
- en: Import and explore your data
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导入并探索您的数据
- en: Create and manage compute resources
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和管理计算资源
- en: Run your code in notebooks
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在笔记本中运行您的代码
- en: Build jobs and pipelines using visual tools
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用可视化工具构建作业和管道
- en: Train models with automated ML
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用自动机器学习训练模型
- en: View model details like evaluation metrics and responsible AI information
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看模型详情，如评估指标和负责的AI信息
- en: Deploy models for real-time or batch inferencing
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部署用于实时或批量推理的模型
- en: Manage models from a comprehensive catalog
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从综合目录管理模型
- en: In the next two sections, we’ll look at how to use Azure Machine Learning’s
    AutoML and Azure Machine Learning Designer services.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的两个部分中，我们将探讨如何使用Azure机器学习的AutoML和Azure机器学习设计器服务。
- en: AutoML
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自动机器学习
- en: In this section, we’ll dive into Azure’s AutoML service to train and test an
    ML model. This will be for a cost prediction system for health care insurance.
    We’ll be working with a dataset from [Kaggle](https://oreil.ly/nMgxP), a popular
    platform for data science projects where you can find a treasure trove of free,
    real-world datasets. The dataset has information on factors like age, sex, body
    mass index (BMI), children, region, and smoking habits.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将深入了解Azure的AutoML服务，以训练和测试一个机器学习模型。这将是一个用于医疗保健保险成本预测的系统。我们将使用来自[Kaggle](https://oreil.ly/nMgxP)的数据集，Kaggle是一个流行的数据科学项目平台，您可以在这里找到大量免费的真实世界数据集。数据集包含有关年龄、性别、体重指数（BMI）、子女、地区和吸烟习惯等信息。
- en: Azure Machine Learning Studio is where you’ll manage your resources and kick
    off the work. Open a new browser tab and go to the [Machine Learning Studio](https://oreil.ly/6kEQF).
    You’ll see the dashboard shown in [Figure 5-1](#i05_chapter5_figure_1_1742068262322134).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习工作室是您管理资源并启动工作的地方。打开一个新的浏览器标签页，并访问[机器学习工作室](https://oreil.ly/6kEQF)。您将看到[图5-1](#i05_chapter5_figure_1_1742068262322134)所示的仪表板。
- en: '![](assets/aaif_0501.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0501.png)'
- en: Figure 5-1\. The dashboard for Machine Learning Studio
  id: totrans-38
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-1. 机器学习工作室的仪表板
- en: On the menu tab on the left side of the screen, select “Automated ML” and then
    click “New Automated ML Job.” You’ll see the screen ​in [Figure 5-2](#i05_chapter5_figure_2_1742068262322166).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在屏幕左侧的菜单标签上，选择“自动机器学习”然后点击“新建自动机器学习作业”。您将看到[图5-2](#i05_chapter5_figure_2_1742068262322166)所示的屏幕。
- en: '![](assets/aaif_0502.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0502.png)'
- en: Figure 5-2\. The setup for creating an ML model
  id: totrans-41
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-2. 创建机器学习模型的设置
- en: 'The menu bar on the left shows the different steps in the process of creating
    the ML model. The first one is for entering “Basic settings.” Here’s what you
    can enter in the fields:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 左侧的菜单栏显示了创建机器学习模型过程中的不同步骤。第一个步骤是进入“基本设置”。以下是您可以在字段中输入的内容：
- en: Job name
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 作业名称
- en: The job name will already be prepopulated with a unique name. You can leave
    it as is.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 作业名称将预先填充一个唯一的名称。您可以保持原样。
- en: New experiment name
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 新实验名称
- en: Enter **insurance-prediction**.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 输入**insurance-prediction**。
- en: Description
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 描述
- en: Enter **Automated machine learning for predicting medical insurance costs**.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 输入**预测医疗保险成本的自动机器学习**。
- en: Tags
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 标签
- en: Leave blank.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 留空。
- en: 'Click Next and you’ll be taken to the “Task type and data” section. This will
    show a pulldown menu with the following options:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“下一步”，您将被带到“任务类型和数据”部分。这里将显示一个下拉菜单，包含以下选项：
- en: Classification
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分类
- en: Regression
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回归
- en: Time-series forecasting
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间序列预测
- en: Natural language processing
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自然语言处理
- en: 'Select Regression and then click Create. In the “Data type” section, enter
    or select the following:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 选择回归然后点击创建。在“数据类型”部分，输入或选择以下内容：
- en: Name
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 名称
- en: '**Insurance_data**'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**保险数据**'
- en: Description
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 描述
- en: '**Historical insurance data**'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**历史保险数据**'
- en: Type
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 类型
- en: Table (mltable)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 表格（mltable）
- en: Select Next and you’ll have the choice of uploading a dataset as a URI, from
    Azure, or from local files. Select “local files.”
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“下一步”，您将可以选择上传数据集作为URI、从Azure或从本地文件。选择“本地文件”。
- en: Click Next and then choose “Azure Blog Storage” as well as “workspaceblogstore.”
    After clicking Next, you’ll be taken to the “Data source” section. First, you
    will need to download the insurance CSV file, which is the Kaggle dataset, and
    place it into its own folder. You’ll also need a file that has the structure of
    the data. You can find these files at the [website for this book](https://oreil.ly/J6NMG).
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 点击下一步，然后选择“Azure 博客存储”以及“workspaceblogstore”。点击下一步后，你将进入“数据源”部分。首先，你需要下载保险 CSV
    文件，这是 Kaggle 数据集，并将其放入自己的文件夹中。你还需要一个包含数据结构的文件。你可以在本书的[网站](https://oreil.ly/J6NMG)上找到这些文件。
- en: 'Click “Upload folder” and select the files to upload: both the dataset and
    the data structure. Press Next, and the system will process the data. Then click
    Create to generate the table, which shows the structure of the dataset. Once that
    is done, select the table and click Next. You will then be in the “Task settings”
    section. For the “Target column,” select “charges.” This is what the regression
    will output.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“上传文件夹”并选择要上传的文件：数据集和数据结构。按下一步，系统将处理数据。然后点击创建以生成表格，该表格显示数据集的结构。一旦完成，选择表格并点击下一步。你将进入“任务设置”部分。对于“目标列”，选择“费用”。这是回归将输出的内容。
- en: 'Then, expand the “View additional configuration settings” section. Some items
    in the configuration settings will be dropdown menus where you can select an option,
    and others will require you to enter information. Complete them as follows:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，展开“查看更多配置设置”部分。配置设置中的一些项将是下拉菜单，你可以从中选择一个选项，而其他项则需要你输入信息。按照以下方式完成它们：
- en: Primary metric
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 主要指标
- en: Normalizedrootmeansquarederror
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 标准化均方根误差
- en: Explain best model
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 解释最佳模型
- en: Unselected
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 未选择
- en: Enable ensemble stacking
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 启用集成堆叠
- en: Unselected
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 未选择
- en: Use all supported models
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 使用所有支持的模型
- en: Unselected. You’ll restrict the job to trying only a few specific algorithms.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 未选择。你将限制作业只尝试几个特定的算法。
- en: Allowed models
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 允许的模型
- en: Select only MaxAbsScaler and LightGBM. True, you’d typically select all or most
    of the models, but that would take much more time, so two models will be fine
    for this demonstration.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 仅选择 MaxAbsScaler 和 LightGBM。是的，你通常会选择所有或大多数模型，但那样会花费更多时间，所以在这个演示中两个模型就足够了。
- en: 'Expand the “Limits” section and complete the settings as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 展开并完成“限制”部分的设置如下：
- en: Limits
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 限制
- en: Expand this section as well.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 展开此部分。
- en: Max trials
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 最大试验次数
- en: '3'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '3'
- en: Max concurrent trials
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 最大并发试验数
- en: '3'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '3'
- en: Max nodes
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 最大节点数
- en: '3'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '3'
- en: Metric score threshold
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 指标分数阈值
- en: 0.085\. If the normalized root mean squared error hits this value, the job will
    terminate.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 0.085\. 如果标准化均方根误差达到此值，作业将终止。
- en: Experiment timeout
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 实验超时
- en: 15\. This is important. If you do not set a limit, the process could take a
    long time—even hours.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 15\. 这很重要。如果你不设置限制，这个过程可能会花费很长时间——甚至数小时。
- en: Iteration timeout
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 迭代超时
- en: '15'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '15'
- en: Enable early termination
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 启用早期终止
- en: Selected
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 已选择
- en: Validation type
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 验证类型
- en: Train-validation split
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 训练-验证分割
- en: Percentage of validation data
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 验证数据百分比
- en: '10'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '10'
- en: Test dataset
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 测试数据集
- en: None
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 无
- en: 'Click Next and you’ll be taken to the “Compute” section. Make sure the items
    are completed as follows:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 点击下一步，你将进入“计算”部分。确保项目完成如下：
- en: Select compute type
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 选择计算类型
- en: Serverless
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 无服务器
- en: Virtual machine type
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机类型
- en: CPU
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: CPU
- en: Virtual machine tier
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机层级
- en: Dedicated
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 专用
- en: Virtual machine size
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机大小
- en: Standard_D2ds_v4 (2 core(s), 8GB RAM, 50GB storage, $0.11/hr)
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Standard_D2ds_v4（2 核心处理器，8GB RAM，50GB 存储，每小时 0.11 美元）
- en: Number of instances
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 实例数量
- en: '1'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '1'
- en: Next, click “Submit training job.” Azure will then process the model, which
    can take some time—15–20 minutes. Once it’s finished, you will get the results,
    as seen in [Figure 5-3](#i05_chapter5_figure_3_1742068262322189).
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，点击“提交训练作业”。Azure 将处理模型，这可能需要一些时间——15-20 分钟。一旦完成，你将得到结果，如图 [图 5-3](#i05_chapter5_figure_3_1742068262322189)
    所示。
- en: '![](assets/aaif_0503.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0503.png)'
- en: Figure 5-3\. The results of the training of a model
  id: totrans-113
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 5-3\. 模型训练的结果
- en: On the right side is a “Best model summary,” which includes the models MaxAbsScaler
    and LightGBM. You can click on them to see their performance. Below is the “Normalized
    root mean squared error” of 0.08085%. This indicates a fairly accurate prediction
    rate for the model.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在右侧是“最佳模型摘要”，包括 MaxAbsScaler 和 LightGBM 模型。你可以点击它们来查看它们的性能。以下是“标准化均方根误差”为 0.08085%。这表明模型的预测率相当准确。
- en: If you click “View all other metrics,” you will see many metrics, such as for
    explained variance, MAE, and so on. Then, if you select the “Metrics” menu item
    above, you will see two charts. They show the residuals and the predicted values.
    You can find them in [Figure 5-4](#i05_chapter5_figure_4_1742068262322209).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你点击“查看所有其他指标”，你会看到许多指标，例如解释方差、MAE等。然后，如果你选择上面的“指标”菜单项，你会看到两个图表。它们显示了残差和预测值。你可以在[图5-4](#i05_chapter5_figure_4_1742068262322209)中找到它们。
- en: '![](assets/aaif_0504.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0504.png)'
- en: Figure 5-4\. The metrics for a regression model
  id: totrans-117
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-4\. 回归模型的指标
- en: Next, we can implement this model. This can be done as a real-time endpoint,
    a batch endpoint, or a web service.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们可以实现这个模型。这可以作为一个实时端点、批量端点或网络服务来实现。
- en: No doubt, you can do much more with this. AutoML is a powerful tool. But the
    purpose of this demo is to give you a taste of the capabilities and some of the
    main workflows. Now, we’ll do the same with the Azure Machine Learning Designer.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 毫无疑问，你可以用这个做更多的事情。AutoML是一个强大的工具。但这个演示的目的只是给你一个能力和一些主要工作流程的尝鲜。现在，我们将用Azure机器学习设计器做同样的事情。
- en: Azure Machine Learning Designer
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure机器学习设计器
- en: To use Azure Machine Learning Designer, first go to the dashboard of the [Azure
    Machine Learning Studio](https://oreil.ly/NN_jk). Then either create a new workspace
    or use an existing one. On the left menu, click Designer and press + to create
    a new pipeline. [Figure 5-5](#i05_chapter5_figure_5_1742068262322230) shows the
    dashboard for the Azure Machine Learning Designer.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Azure机器学习设计器，首先转到[Azure机器学习工作室](https://oreil.ly/NN_jk)的仪表板。然后创建一个新的工作区或使用现有的一个。在左侧菜单中，点击设计器并按+创建一个新的管道。[图5-5](#i05_chapter5_figure_5_1742068262322230)显示了Azure机器学习设计器的仪表板。
- en: On the left side is a menu table for Data and Component. Under Data is a list
    of datasets, such as for animal images, automobile price data, and customer relationship
    management (CRM) churn data. To use a dataset, click on it and drag it to the
    main screen. Let’s do this for the “adult census income binary classification”
    dataset. If you right-click it, you will get a popup to preview the table, as
    shown in [Figure 5-6](#i05_chapter5_figure_6_1742068262322250).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧是一个数据和组件的菜单表。在“数据”下是一个数据集列表，例如动物图像、汽车价格数据和客户关系管理（CRM）客户流失数据。要使用数据集，点击它并将其拖动到主屏幕上。让我们为“成人人口普查收入二分类”数据集做这个操作。如果你右键点击它，你会得到一个弹出窗口来预览表格，如图[图5-6](#i05_chapter5_figure_6_1742068262322250)所示。
- en: What we will do is build a model that predicts income levels—that is, whether
    an individual’s income exceeds a certain threshold (e.g., $50,000 per year). This
    is based on the features in the adult census income dataset, which includes attributes
    like age, education, occupation, and hours worked per week.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要构建一个预测收入水平的模型——也就是说，一个人的收入是否超过某个阈值（例如，每年50,000美元）。这是基于成人人口普查收入数据集中的特征，包括年龄、教育、职业和每周工作时间等属性。
- en: We will then split the data for training and testing. To do this, we will use
    a component. You can find it by going to the left menu bar and entering “split”
    into the search box. Drag and drop the Split Data component under the dataset.
    Then use your mouse to drag the circle under the dataset box to the component.
    [Figure 5-7](#i05_chapter5_figure_7_1742068262322272) shows what this looks like.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将数据分为训练和测试。为此，我们将使用一个组件。你可以通过转到左侧菜单栏并在搜索框中输入“split”来找到它。将Split Data组件拖放到数据集下。然后使用鼠标将数据集框下的圆圈拖到组件上。[图5-7](#i05_chapter5_figure_7_1742068262322272)显示了这看起来是什么样子。
- en: '![](assets/aaif_0505.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0505.png)'
- en: Figure 5-5\. The dashboard for the Azure Machine Learning Designer
  id: totrans-126
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-5\. Azure机器学习设计器的仪表板
- en: '![](assets/aaif_0506.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0506.png)'
- en: Figure 5-6\. The census dataset in the Azure Machine Learning Designer
  id: totrans-128
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-6\. Azure机器学习设计器中的普查数据集
- en: '![](assets/aaif_0507.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0507.png)'
- en: Figure 5-7\. The connection between a dataset and a component that splits the
    data
  id: totrans-130
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-7\. 数据集和分割数据组件之间的连接
- en: To configure the component, double-click it. With the “Fraction of rows in a
    first output dataset,” we can specify the percentage of the training data. We
    will use 0.7.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置组件，双击它。通过“第一个输出数据集中的行数比例”，我们可以指定训练数据的百分比。我们将使用0.7。
- en: Next, we will select a training model. Go back to the menu on the left and search
    for “linear regression.” Drag and drop that under the split component. Note that
    you can double-click the regression model to change the settings, but we will
    keep the defaults.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将选择一个训练模型。回到左侧菜单并搜索“线性回归”。将其拖放到分割组件下。请注意，您可以双击回归模型来更改设置，但我们将保持默认设置。
- en: Next, search for “train model.” Yes, this is the component for training our
    model. Drag it to the screen as well.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，搜索“训练模型”。是的，这就是我们训练模型的组件。将其拖到屏幕上。
- en: Connect the Linear Regression component to the Train Model component. Also connect
    the Split Data component to the Train Model component, specifying the first circle
    under Split Data. [Figure 5-8](#i05_chapter5_figure_8_1742068262322291) shows
    what this looks like.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 将线性回归组件连接到训练模型组件。同时将分割数据组件连接到训练模型组件，指定分割数据下的第一个圆圈。[图5-8](#i05_chapter5_figure_8_1742068262322291)显示了这看起来是什么样子。
- en: Click on the Train Model component and select “Edit column.” This is the value
    we want the model to predict. Let’s enter **income** and press Save.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“训练模型”组件，选择“编辑列”。这是我们希望模型预测的值。输入**收入**并按保存。
- en: Go to the left menu and search for “score.” This component will score the model
    for the predictions. Drag this component to the screen and connect it to the first
    circle for the Train Model component. Then connect the Split Data component to
    the second circle of the Score Model component, as shown in [Figure 5-9](#i05_chapter5_figure_9_1742068262322311).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 前往左侧菜单并搜索“评分”。此组件将为预测评分模型。将此组件拖到屏幕上，并将其连接到训练模型组件的第一个圆圈。然后，将分割数据组件连接到评分模型组件的第二个圆圈，如图[图5-9](#i05_chapter5_figure_9_1742068262322311)所示。
- en: '![](assets/aaif_0508.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/aaif_0508.png)'
- en: Figure 5-8\. The connections to the dataset and components
  id: totrans-138
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-8\. 数据集和组件的连接
- en: '![A screenshot of a computer  AI-generated content may be incorrect.](assets/aaif_0509.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![计算机屏幕截图  AI生成的内容可能不正确。](assets/aaif_0509.png)'
- en: Figure 5-9\. The result of a model that has been processed
  id: totrans-140
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5-9\. 已处理模型的输出
- en: Finally, search for “Evaluate Model” for the metrics and drag it to the screen.
    Then, connect this to the Score Model component.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，搜索“评估模型”以获取指标，并将其拖到屏幕上。然后，将其连接到评分模型组件。
- en: We are finished with the setup. Click “Configure & Submit” at the top right
    of the screen.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已完成设置。点击屏幕右上角的“配置和提交”。
- en: You will go through three input screens. For the first one, select “Create new”
    for the “Existing name” and below this, type in the name you want.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 您将经历三个输入屏幕。对于第一个屏幕，选择“创建新”的“现有名称”，然后在此下方输入您想要的名称。
- en: Click “Runtime settings” on the left menu, then click “Compute cluster” and
    “Create Azure ML compute cluster.” (A *compute cluster* is a group of VMs that
    work together to perform large-scale data-processing tasks.) Select the recommended
    option and click Next. Enter a name for that and click Create.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧菜单中点击“运行时设置”，然后点击“计算集群”和“创建Azure ML计算集群”。（计算集群是一组协同工作以执行大规模数据处理任务的虚拟机。）选择推荐选项并点击下一步。为此输入一个名称并点击创建。
- en: You will be taken back to the previous screen where you will select the new
    cluster. Click “Review + Submit” and then press Submit.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 您将被带回到之前的屏幕，您将选择新的集群。点击“审查+提交”，然后按提交。
- en: It can take a few minutes for the model to be processed. Once the processing
    is finished—which is indicated by “Complete” at the top of the screen—go to Jobs
    on the left menu and select your model.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 模型处理可能需要几分钟。一旦处理完成——屏幕顶部的“完成”表示——转到左侧菜单中的“作业”并选择您的模型。
- en: Right-click the Evaluate Model component and select “Preview Data.” Then select
    “Evaluation results,” and you will get the metrics for how the ​model performed.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 右键点击“评估模型”组件并选择“预览数据”。然后选择“评估结果”，您将获得模型表现的指标。
- en: Conclusion
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: In this chapter, you’ve seen how Azure Machine Learning provides flexible tools
    suited to your experience level and project requirements—whether it’s the visual
    ease of the Azure Machine Learning Designer or the customizable capabilities of
    AutoML. Through practical examples, you’ve seen just how straightforward it is
    to set up configurations and test your models. While the exam doesn’t dive deeply
    into every detail, having a general understanding of these tools will equip you
    with a solid foundation of what Azure Machine Learning can offer.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您已经看到 Azure 机器学习如何提供适合您经验水平和项目需求的灵活工具——无论是 Azure 机器学习设计器的视觉便捷性还是 AutoML
    的可定制功能。通过实际示例，您已经看到设置配置和测试模型是多么简单。虽然考试没有深入到每个细节，但对这些工具的一般了解将使您具备 Azure 机器学习可以提供的坚实基础。
- en: Quiz
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 小测验
- en: To check your answers, please refer to the [“Chapter 5 Answer Key”](app02.html#answers_chapter_5_sample_questions_1745932457451804).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查您的答案，请参阅[“第 5 章 答案键”](app02.html#answers_chapter_5_sample_questions_1745932457451804)。
- en: Which ML technique is commonly used for predicting a numerical outcome based
    on known variables?
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种机器学习技术通常用于根据已知变量预测数值结果？
- en: Classification
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分类
- en: Regression
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回归
- en: Clustering
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 聚类
- en: Deep learning (DL)
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 深度学习 (DL)
- en: Which metric in regression analysis measures the average error in predictions,
    regardless of positive or negative deviation?
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在回归分析中，哪个指标衡量预测的平均误差，无论正负偏差？
- en: Mean squared error (MSE)
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方误差 (MSE)
- en: Coefficient of determination (*R*²)
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决定系数 (*R*²)
- en: Mean absolute error (MAE)
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方绝对误差 (MAE)
- en: Root mean squared error (RMSE)
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方根误差 (RMSE)
- en: In binary classification, what algorithm is commonly used to estimate the probability
    of a binary outcome?
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在二元分类中，哪种算法通常用于估计二元结果的概率？
- en: K-means clustering
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: K 均值聚类
- en: Logistic regression
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 逻辑回归
- en: Linear regression
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 线性回归
- en: Decision tree
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决策树
- en: What type of ML does Azure’s Automated Machine Learning (AutoML) feature primarily
    support?
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Azure 的自动化机器学习 (AutoML) 功能主要支持哪种类型的机器学习？
- en: Reinforcement learning
  id: totrans-168
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 强化学习
- en: Supervised learning
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 监督学习
- en: Unsupervised learning
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无监督学习
- en: Genetic algorithms
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 遗传算法
- en: In a multiclass classification problem, which approach builds a binary classifier
    for each class?
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在多类分类问题中，哪种方法为每个类别构建一个二元分类器？
- en: K-means clustering
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: K 均值聚类
- en: One-vs-rest (OVR)
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一对余 (OVR)
- en: Multinomial algorithm
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 多项式算法
- en: Logistic regression
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 逻辑回归
- en: Which Azure Machine Learning feature helps automate the process of trying multiple
    algorithms to find the best model?
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个 Azure 机器学习功能有助于自动化尝试多个算法以找到最佳模型的过程？
- en: Custom script execution
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自定义脚本执行
- en: AutoML
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动机器学习 (AutoML)
- en: Dataset storage
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据集存储
- en: Deployment pipelines
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 部署管道
- en: What evaluation metric indicates the proportion of correctly identified positives
    in a classification model?
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个评估指标表示分类模型中正确识别的正例比例？
- en: Accuracy
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准确度
- en: Precision
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 精确度
- en: Recall
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回忆
- en: F1 score
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: F1 分数
- en: Which ML technique is suitable for grouping data points based on similarities
    without prior labels?
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种机器学习技术适合根据相似性对数据点进行分组，而无需先前的标签？
- en: Supervised learning
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 监督学习
- en: Classification
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分类
- en: Clustering
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 聚类
- en: Regression
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回归
- en: In regression analysis, what term describes the average of squared differences
    between predicted and actual values?
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在回归分析中，哪个术语描述预测值与实际值之间平方差的平均值？
- en: Mean absolute error (MAE)
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方绝对误差 (MAE)
- en: Root mean squared error (RMSE)
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方根误差 (RMSE)
- en: Mean squared error (MSE)
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 均方误差 (MSE)
- en: '*R*² score'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*R*² 分数'
- en: Which DL structure consists of multiple layers that process data to make complex
    predictions?
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个深度学习结构由多个层组成，这些层处理数据以进行复杂预测？
- en: Support vector machine (SVM)
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持向量机 (SVM)
- en: Decision tree
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决策树
- en: Neural network
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 神经网络
- en: K-nearest neighbors
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: K 近邻
